import{k as M,l as W,d as g,w as v,o as r,c as i,b as o,y as a,z as s,s as l,v as D,F as C,C as d,B as m,H as I,I as N,K as w,$}from"./index-DPl16C00.js";import{f as u}from"./utils-D98hIld_.js";import{b as B}from"./VCard-CJTiHjO-.js";import{V as T}from"./VTable-Cuh47MPV.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as L}from"./VToolbar-CbiRZXlD.js";import{V as U}from"./VDivider-Dr0TEagO.js";import{V as A}from"./forwardRefs-BQ8_JL2J.js";import{V as F}from"./VSelect-Dtf2lpH6.js";import{V as S}from"./VCheckbox-CYlyT7u6.js";import"./index-w-dkzpPh.js";import"./VImg-B-97Yzkt.js";import"./VTextField-BpJ2unt4.js";import"./VInput-qFshDEqa.js";import"./group-bVGzOFiw.js";import"./scopeId-C7DHxJXu.js";import"./VCheckboxBtn-BS0WhS02.js";import"./VSelectionControl-MTkDIXZh.js";const j={class:"bg-primary"},z={class:"col-date pa-6 py-3"},E={class:"col-energy pa-6 py-3"},K={class:"col-energy pa-6 py-3"},P={class:"col-energy pa-6 py-3"},R={class:"col-energy pa-6 py-3"},q={class:"col-energy pa-6 py-3"},G={class:"px-6 py-4"},J={class:"px-6 py-4"},O={key:0},Q={key:1},X={class:"px-6 py-4"},Y={key:0},Z={key:1},x={class:"px-6 py-4"},ee={key:0},se={key:1},te={class:"px-6 py-4"},oe={key:0},ae={key:1},re={class:"px-6 py-4"},le={key:0},ne={key:1},de=M({__name:"HomeMeasurementTable",props:{homeMeasurements:{},showMeterValues:{type:Boolean}},setup(V){const{t:_,d:c}=W();return(e,p)=>(r(),g(B,{class:"elevation-2 rounded-md"},{default:v(()=>[i(T,{class:"ma-4 border"},{default:v(()=>[o("thead",j,[o("tr",null,[o("th",z,a(s(_)("raw_data.date")),1),o("th",E,a(s(_)("consumed_solar_energy")),1),o("th",K,a(s(_)("consumed_energy")),1),o("th",P,a(s(_)("raw_data.produced_solar_energy")),1),o("th",R,a(s(_)("raw_data.imported_energy")),1),o("th",q,a(s(_)("raw_data.exported_energy")),1)])]),o("tbody",null,[(r(!0),l(C,null,D(e.homeMeasurements,(t,n)=>(r(),l("tr",{key:t.id,class:"border-b text-center"},[o("td",G,a(s(c)(new Date(t.measurement_date))),1),o("td",J,[n<e.homeMeasurements.length-1?(r(),l("p",O,a(s(u)(t.solar_consumed_energy-e.homeMeasurements[n+1].solar_consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),l("p",Q,a(s(u)(t.solar_consumed_energy,"kWh")),1)):d("",!0)]),o("td",X,[n<e.homeMeasurements.length-1?(r(),l("p",Y,a(s(u)(t.consumed_energy-e.homeMeasurements[n+1].consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),l("p",Z,a(s(u)(t.consumed_energy,"kWh")),1)):d("",!0)]),o("td",x,[n<e.homeMeasurements.length-1?(r(),l("p",ee,a(s(u)(t.solar_produced_energy-e.homeMeasurements[n+1].solar_produced_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),l("p",se,a(s(u)(t.solar_produced_energy,"kWh")),1)):d("",!0)]),o("td",te,[n<e.homeMeasurements.length-1?(r(),l("p",oe,a(s(u)(t.grid_imported_energy-e.homeMeasurements[n+1].grid_imported_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),l("p",ae,a(s(u)(t.grid_imported_energy,"kWh")),1)):d("",!0)]),o("td",re,[n<e.homeMeasurements.length-1?(r(),l("p",le,a(s(u)(t.grid_exported_energy-e.homeMeasurements[n+1].grid_exported_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),l("p",ne,a(s(u)(t.grid_exported_energy,"kWh")),1)):d("",!0)])]))),128))])]),_:1})]),_:1}))}}),_e=H(de,[["__scopeId","data-v-91ce28d0"]]),ue={class:"bg-primary"},ce={class:"col-date pa-6 py-3"},ie={class:"col-energy pa-6 py-3"},me={class:"col-energy pa-6 py-3"},pe={class:"px-6 py-4"},he={class:"px-6 py-4"},ye={key:0},ge={key:1},ve={class:"px-6 py-4"},ke={key:0},fe={key:1},we=M({__name:"DeviceMeasurementTable",props:{deviceMeasurements:{},showMeterValues:{type:Boolean}},setup(V){const{t:_,d:c}=W();return(e,p)=>(r(),g(B,{class:"elevation-2 rounded-md"},{default:v(()=>[i(T,{class:"ma-4 rounded-md border"},{default:v(()=>[o("thead",ue,[o("tr",null,[o("th",ce,a(s(_)("raw_data.date")),1),o("th",ie,a(s(_)("consumed_solar_energy")),1),o("th",me,a(s(_)("consumed_energy")),1)])]),o("tbody",null,[(r(!0),l(C,null,D(e.deviceMeasurements,(t,n)=>(r(),l("tr",{key:t.id,class:"border-b text-center"},[o("td",pe,a(s(c)(new Date(t.measurement_date))),1),o("td",he,[n<e.deviceMeasurements.length-1?(r(),l("p",ye,a(s(u)(t.solar_consumed_energy-e.deviceMeasurements[n+1].solar_consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),l("p",ge,a(s(u)(t.solar_consumed_energy,"kWh")),1)):d("",!0)]),o("td",ve,[n<e.deviceMeasurements.length-1?(r(),l("p",ke,a(s(u)(t.consumed_energy-e.deviceMeasurements[n+1].consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(r(),l("p",fe,a(s(u)(t.consumed_energy,"kWh")),1)):d("",!0)])]))),128))])]),_:1})]),_:1}))}}),Me=H(we,[["__scopeId","data-v-9cb863ef"]]),Ve={class:"v-full bg-background pa-4 d-flex min-height-screen justify-center"},be={key:0,class:"d-flex h-100 w-100 flex-column align-center"},$e={key:1},We={class:"my-4 d-flex"},qe=M({__name:"RawData",setup(V){const _=m(),c=m(),e=m(),p=m(!1),t=m(""),h=m(!1),b=async function(k){p.value=!0,c.value=await w.getAllHomeMeasurements(),_.value=k!=""?await w.getDeviceMeasurements(k):[],p.value=!1};return I(t,()=>{console.log("Change selection: "+t.value),b(t.value)}),N(async()=>{e.value=await w.getAllDevices(),e.value.length>0&&(t.value=e.value[0].id,console.log("Load in on mounted: "+e.value[0].id),b(e.value[0].id))}),(k,y)=>(r(),l("div",null,[i(L,{color:"transparent",title:s($)("app.rawdata")},null,8,["title"]),i(U),o("div",Ve,[p.value?(r(),l("div",be,[i(A,{indeterminate:"",color:"primary",class:"py-2"})])):(r(),l("div",$e,[c.value?(r(),g(_e,{key:0,"home-measurements":c.value,"show-meter-values":h.value},null,8,["home-measurements","show-meter-values"])):d("",!0),i(F,{modelValue:t.value,"onUpdate:modelValue":y[0]||(y[0]=f=>t.value=f),class:"bg-surface my-4",items:e.value?e.value:[],"item-title":"name","item-value":"id","single-line":""},null,8,["modelValue","items"]),_.value?(r(),g(Me,{key:1,"device-measurements":_.value,"show-meter-values":h.value},null,8,["device-measurements","show-meter-values"])):d("",!0),o("div",We,[i(S,{modelValue:h.value,"onUpdate:modelValue":y[1]||(y[1]=f=>h.value=f),label:s($)("raw_data.show_meter_values")},null,8,["modelValue","label"])])]))])]))}});export{qe as default};
