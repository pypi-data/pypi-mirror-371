import{p as b,ac as I,ad as E,a2 as V,a3 as N,t as y,f as v,a6 as C,H as G,ab as M,h as P,I as W,aW as A,an as F,aq as H,ag as O,z as R}from"./index-rTdk84Tb.js";class x{constructor(r){let{x:l,y:t,width:n,height:s}=r;this.x=l,this.y=t,this.width=n,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function U(e,r){return{x:{before:Math.max(0,r.left-e.left),after:Math.max(0,e.right-r.right)},y:{before:Math.max(0,r.top-e.top),after:Math.max(0,e.bottom-r.bottom)}}}function $(e){return Array.isArray(e)?new x({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function L(e){if(e===document.documentElement)return visualViewport?new x({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new x({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const r=e.getBoundingClientRect();return new x({x:r.x,y:r.y,width:e.clientWidth,height:e.clientHeight})}}function z(e){const r=e.getBoundingClientRect(),l=getComputedStyle(e),t=l.transform;if(t){let n,s,d,m,c;if(t.startsWith("matrix3d("))n=t.slice(9,-1).split(/, /),s=Number(n[0]),d=Number(n[5]),m=Number(n[12]),c=Number(n[13]);else if(t.startsWith("matrix("))n=t.slice(7,-1).split(/, /),s=Number(n[0]),d=Number(n[3]),m=Number(n[4]),c=Number(n[5]);else return new x(r);const g=l.transformOrigin,p=r.x-m-(1-s)*parseFloat(g),w=r.y-c-(1-d)*parseFloat(g.slice(g.indexOf(" ")+1)),i=s?r.width/s:e.offsetWidth+1,u=d?r.height/d:e.offsetHeight+1;return new x({x:p,y:w,width:i,height:u})}else return new x(r)}function D(e,r,l){if(typeof e.animate>"u")return{finished:Promise.resolve()};let t;try{t=e.animate(r,l)}catch{return{finished:Promise.resolve()}}return typeof t.finished>"u"&&(t.finished=new Promise(n=>{t.onfinish=()=>{n(t)}})),t}const J=b({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Q=b({value:null,disabled:Boolean,selectedClass:String},"group-item");function X(e,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const t=I("useGroupItem");if(!t)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=E();V(Symbol.for(`${r.description}:id`),n);const s=N(r,null);if(!s){if(!l)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const d=y(()=>e.value),m=v(()=>!!(s.disabled.value||e.disabled));s.register({id:n,value:d,disabled:m},t),C(()=>{s.unregister(n)});const c=v(()=>s.isSelected(n)),g=v(()=>s.items.value[0].id===n),p=v(()=>s.items.value[s.items.value.length-1].id===n),w=v(()=>c.value&&[s.selectedClass.value,e.selectedClass]);return G(c,i=>{t.emit("group:selected",{value:i})},{flush:"sync"}),{id:n,isSelected:c,isFirst:g,isLast:p,toggle:()=>s.select(n,!c.value),select:i=>s.select(n,i),selectedClass:w,value:d,disabled:m,group:s}}function Y(e,r){let l=!1;const t=M([]),n=P(e,"modelValue",[],i=>i==null?[]:B(t,H(i)),i=>{const u=q(t,i);return e.multiple?u:u[0]}),s=I("useGroup");function d(i,u){const a=i,o=Symbol.for(`${r.description}:id`),h=O(o,s==null?void 0:s.vnode).indexOf(u);R(a.value)==null&&(a.value=h,a.useIndexAsValue=!0),h>-1?t.splice(h,0,a):t.push(a)}function m(i){if(l)return;c();const u=t.findIndex(a=>a.id===i);t.splice(u,1)}function c(){const i=t.find(u=>!u.disabled);i&&e.mandatory==="force"&&!n.value.length&&(n.value=[i.id])}W(()=>{c()}),C(()=>{l=!0}),A(()=>{for(let i=0;i<t.length;i++)t[i].useIndexAsValue&&(t[i].value=i)});function g(i,u){const a=t.find(o=>o.id===i);if(!(u&&(a!=null&&a.disabled)))if(e.multiple){const o=n.value.slice(),f=o.findIndex(S=>S===i),h=~f;if(u=u??!h,h&&e.mandatory&&o.length<=1||!h&&e.max!=null&&o.length+1>e.max)return;f<0&&u?o.push(i):f>=0&&!u&&o.splice(f,1),n.value=o}else{const o=n.value.includes(i);if(e.mandatory&&o||!o&&!u)return;n.value=u??!o?[i]:[]}}function p(i){if(e.multiple,n.value.length){const u=n.value[0],a=t.findIndex(h=>h.id===u);let o=(a+i)%t.length,f=t[o];for(;f.disabled&&o!==a;)o=(o+i)%t.length,f=t[o];if(f.disabled)return;n.value=[t[o].id]}else{const u=t.find(a=>!a.disabled);u&&(n.value=[u.id])}}const w={register:d,unregister:m,selected:n,select:g,disabled:y(()=>e.disabled),prev:()=>p(t.length-1),next:()=>p(1),isSelected:i=>n.value.includes(i),selectedClass:y(()=>e.selectedClass),items:y(()=>t),getItemIndex:i=>k(t,i)};return V(r,w),w}function k(e,r){const l=B(e,[r]);return l.length?e.findIndex(t=>t.id===l[0]):-1}function B(e,r){const l=[];return r.forEach(t=>{const n=e.find(d=>F(t,d.value)),s=e[t];(n==null?void 0:n.value)!=null?l.push(n.id):s!=null&&s.useIndexAsValue&&l.push(s.id)}),l}function q(e,r){const l=[];return r.forEach(t=>{const n=e.findIndex(s=>s.id===t);if(~n){const s=e[n];l.push(s.value!=null?s.value:n)}}),l}export{x as B,D as a,X as b,Q as c,L as d,U as e,$ as g,J as m,z as n,Y as u};
