"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1941],{47661:function(e,r,n){n.d(r,{rM:function(){return d},xx:function(){return u}});var t=n(26068),o=n.n(t),a=n(40227),l=n(9389),i=n(74901),c={theme:"light",mode:"auto",isDarkTheme:!1,colorPrimary:a.b,collapsed:!1},u=function(){if("undefined"==typeof window)return c;try{var e=JSON.parse(localStorage.getItem("userSettings")||"{}");return o()(o()({},c),e)}catch(e){return c}},s=(0,i.O4)("userSettings",o()({},u())),d=(0,l.cn)((function(e){return e(s)}),(function(e,r,n){var t=e(s),l=o()(o()({},t),n||{});r(s,o()(o()({},l),{},{colorPrimary:l.colorPrimary||a.b,isDarkTheme:"realDark"===l.theme}))}))},49824:function(e,r,n){var t=n(48305),o=n.n(t),a=n(9288),l=n(23333),i=n(50959),c=n(11527),u=(0,i.memo)((function(e){var r=e.defaultOpen,n=e.percent,t=e.download,u=e.label,s=e.successPercent,d=i.useState(!1),p=o()(d,2),m=p[0],f=p[1],g=(0,i.useMemo)((function(){return t?"var(--ant-color-primary)":n<=50?"var(--ant-color-success)":n<=80?"var(--ant-color-warning)":"var(--ant-color-error)"}),[n]);(0,i.useEffect)((function(){f(r||!1)}),[r]);var h=(0,i.useMemo)((function(){return(0,c.jsx)(a.Z,{percentPosition:{align:"center",type:"inner"},size:["",16],format:function(){return(0,c.jsxs)("span",{style:{color:"var(--color-progress-text)"},children:[n,"%"]})},percent:n,success:{percent:s,strokeColor:"var(--ant-geekblue-3)"},strokeColor:g})}),[n,s,g]);return(0,c.jsx)(c.Fragment,{children:u?(0,c.jsx)(l.Z,{title:u,open:m,onOpenChange:f,overlayInnerStyle:{paddingInline:12},children:h}):h})}));r.Z=u},63597:function(e,r,n){n(50959);var t=n(38551),o=n(76571),a=n(11527);r.Z=function(e){var r=e.data,n=e.fieldList,l=e.style,i=(0,t.useIntl)();return(0,a.jsx)("span",{className:"flex",style:l,children:n.map((function(e,t){var l,c;return(0,a.jsxs)("span",{className:"flex-center",children:[(0,a.jsxs)("span",{className:"flex-column flex-center",children:[(0,a.jsxs)("span",{children:[" ",e.locale?i.formatMessage({id:e.label}):e.label]}),(0,a.jsxs)("span",{style:{color:"var(--color-white-quaternary)"},children:[" ",null!==(l=null===(c=e.render)||void 0===c?void 0:c.call(e,r[e.key],r))&&void 0!==l?l:r[e.key]]})]}),t<n.length-1?(0,a.jsx)(o.Z,{type:"vertical",style:{height:30,marginInline:12,borderColor:"var(--color-white-light-2)",alignSelf:"center"}}):null]},e.key||t)}))})}},20369:function(e,r,n){n.d(r,{Kd:function(){return t},_W:function(){return l},iE:function(){return a},tb:function(){return i},zK:function(){return o}});var t={CREATE:"create",UPDATE:"update",VIEW:"view"},o={error:{text:"var(--ant-red-6)",bg:"var(--ant-red-1)"},warning:{text:"var(--ant-orange-6)",bg:"var(--ant-orange-1)"},transitioning:{text:"var(--ant-blue-6)",bg:"var(--ant-blue-1)"},success:{text:"var(--ant-color-success)",bg:"var(--ant-color-success-bg)"},inactive:{text:"var(--ant-color-text-tertiary)",border:"rgba(200,200,200,1)",bg:"var(--ant-color-fill)"}},a={error:"error",warning:"warning",transitioning:"transitioning",success:"success",inactive:"inactive"},l={CREATE:1,UPDATE:2,DELETE:3},i=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*_+])[a-zA-Z\d!@#$%^&*_+]{6,12}$/},40227:function(e,r,n){n.d(r,{b:function(){return t},Z:function(){return o}});var t="#007BFF",o={light:{"root-entry-name":"variable",cssVar:!0,hashed:!1,components:{Input:{inputFontSize:14,inputFontSizeLG:14},Table:{headerBorderRadius:4,cellPaddingInline:16,cellPaddingBlock:6,cellFontSize:14,rowSelectedHoverBg:"rgb(249 249 249)",rowHoverBg:"rgb(249 249 249)",rowSelectedBg:"transparent"},Button:{contentFontSizeLG:14,primaryShadow:"none",defaultShadow:"none",dangerShadow:"none"},Tabs:{titleFontSizeLG:14},DatePicker:{fontSizeLG:14},Menu:{iconSize:16,iconMarginInlineEnd:12,itemBorderRadius:4,itemSelectedColor:"#007BFF",itemHeight:32,groupTitleColor:"rgba(0,0,0,1)",itemHoverColor:"rgba(0,0,0,1)",itemColor:"rgba(0,0,0,1)",itemHoverBg:"rgba(0,0,0,0.04)",itemActiveBg:"rgba(0,0,0,0.04)"},Progress:{lineBorderRadius:2},Select:{optionSelectedBg:"rgba(230, 230, 230, 88%)",fontSizeLG:14},Message:{contentPadding:"12px 16px"},Tooltip:{colorBgSpotlight:"#3e3e3e"},Cascader:{dropdownHeight:240},Slider:{handleSize:8,handleSizeHover:8,trackBg:"rgba(0,0,0,0.15)",handleColor:"rgba(0,0,0,0.2)",trackHoverBg:"rgba(0,0,0,0.25)",handleActiveColor:"rgba(0,0,0,0.3)",dotActiveBorderColor:"rgba(0,0,0,0.25)",handleActiveOutlineColor:"rgba(0,0,0,0.25)",dotBorderColor:"rgba(0,0,0,0.25)"}},token:{darkMode:!1,fontFamily:"Helvetica Neue, -apple-system, BlinkMacSystemFont, Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",colorText:"rgba(0,0,0,1)",colorPrimary:"#007BFF",colorSuccess:"#54cc98",borderRadius:4,borderRadiusSM:2,colorBgContainer:"#fff",fontSize:14,motion:!0}},dark:{"root-entry-name":"variable",cssVar:!0,hashed:!1,components:{Input:{inputFontSize:14,inputFontSizeLG:14},Table:{headerBorderRadius:4,cellPaddingInline:16,cellPaddingBlock:6,cellFontSize:14,rowSelectedHoverBg:"#1d1d1d",rowHoverBg:"#1d1d1d",rowSelectedBg:"transparent"},Button:{contentFontSizeLG:14,primaryShadow:"none",defaultShadow:"none",dangerShadow:"none"},Tabs:{titleFontSizeLG:14},DatePicker:{fontSizeLG:14},Menu:{iconSize:16,iconMarginInlineEnd:12,itemBorderRadius:4,itemHeight:32,itemSelectedColor:"#007BFF",darkItemSelectedBg:"#141414",darkItemHoverBg:"rgba(255, 255, 255, 0.03)",groupTitleColor:"rgba(0,0,0,1)",itemHoverColor:"rgba(0,0,0,1)",itemColor:"rgba(0,0,0,1)",itemHoverBg:"rgb(24 25 27)",itemActiveBg:"rgb(24 25 27)"},Progress:{lineBorderRadius:2},Select:{optionSelectedBg:"#333",fontSizeLG:14},Message:{contentPadding:"12px 16px"},Tooltip:{},Cascader:{dropdownHeight:240},Slider:{handleSize:8,handleSizeHover:8,trackBg:"rgba(255,255,255,.15)",handleColor:"rgba(255,255,255,0.2)",trackHoverBg:"rgba(255,255,255,0.25)",handleActiveColor:"rgba(255,255,255,0.3)",dotActiveBorderColor:"rgba(255,255,255,0.25)",handleActiveOutlineColor:"rgba(255,255,255,0.25)",dotBorderColor:"rgba(255,255,255,0.25)"}},token:{darkMode:!0,fontFamily:"Helvetica Neue, -apple-system, BlinkMacSystemFont, Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",colorText:"#ccc",colorPrimary:"#007BFF",colorSuccess:"#48A77E",borderRadius:4,borderRadiusSM:2,fontSize:14,motion:!0,colorFill:"#000",colorBgBase:"#000"}},colorPrimary:t}},38780:function(e,r,n){n.d(r,{Z:function(){return d}});var t=n(26068),o=n.n(t),a=n(48305),l=n.n(a),i=n(32699),c=n(92605),u=n(50959),s=n(73341);function d(e){var r,n=(0,s.Z)().userSettings,t=e||{},a=t.options,d=t.events,p=t.defer,m=void 0===p||p,f=a||{},g=f.scrollbars,h=f.overflow,v=(f.oppositeTheme,u.useRef(null)),b=u.useRef(null),y=u.useRef(!1),S=u.useRef(null),x=u.useRef(!1),w=u.useRef(null),k=(0,c.A)({options:{update:{debounce:0},overflow:o()({x:"hidden"},h),scrollbars:o()(o()({autoHide:"scroll",autoHideDelay:600,clickScroll:"instant"},g),{},{theme:(null==g?void 0:g.theme)||("light"===n.theme?"os-theme-dark":"os-theme-light")})},events:o()({},d),defer:m}),C=l()(k,2),E=C[0],P=C[1];b.current=null==P?void 0:P(),v.current=null===(r=b.current)||void 0===r||null===(r=r.elements())||void 0===r?void 0:r.scrollEventElement;var T=u.useCallback((0,i.throttle)((function(){var e,r,n,t,o;null===(e=v.current)||void 0===e||null===(r=e.scrollTo)||void 0===r||r.call(e,{top:null===(n=v.current)||void 0===n?void 0:n.scrollHeight,behavior:"smooth"}),null===(t=b.current)||void 0===t||null===(o=t.update)||void 0===o||o.call(t)}),100),[(v.current,b.current)]),B=u.useCallback((function(){var e,r,n,t;null===(e=v.current)||void 0===e||null===(r=e.scrollTo)||void 0===r||r.call(e,{top:v.current.scrollHeight,behavior:"auto"}),null===(n=b.current)||void 0===n||null===(t=n.update)||void 0===t||t.call(n)}),[v.current,b.current]),j=u.useCallback((function(e){x.current||(0===e?B():T())}),[T,B]),z=u.useCallback((function(){var e,r,n,t;null===(e=v.current)||void 0===e||null===(r=e.scrollTo)||void 0===r||r.call(e,{top:0,behavior:"auto"}),null===(n=b.current)||void 0===n||null===(t=n.update)||void 0===t||t.call(n)}),[v.current,b.current]),I=u.useCallback((function(e){var r,n,t,o,a,l;o=null===(r=v.current)||void 0===r?void 0:r.scrollTop,a=null===(n=v.current)||void 0===n?void 0:n.scrollHeight,l=o+(null===(t=v.current)||void 0===t?void 0:t.clientHeight)+20>=a,x.current=!l,w.current&&clearTimeout(w.current),w.current=setTimeout((function(){x.current=!1}),5e3)}),[]),M=u.useCallback((function(e){if(b.current)return b.current;var r,n,t;e&&(E(e),S.current=e,y.current=!0,b.current=null==P?void 0:P(),v.current=null===(r=b.current)||void 0===r||null===(r=r.elements())||void 0===r?void 0:r.scrollEventElement,null===(n=S.current)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"wheel",I));return b.current}),[E,P]);return(0,u.useEffect)((function(){return function(){var e,r,n,t;null===(e=b.current)||void 0===e||null===(r=e.destroy)||void 0===r||r.call(e),null===(n=S.current)||void 0===n||null===(t=n.removeEventListener)||void 0===t||t.call(n,"wheel",I)}}),[P]),{initialize:M,instance:b.current,scrollEventElement:v.current,initialized:y.current,generateInstance:function(){var e;b.current=null==P?void 0:P(),v.current=null===(e=b.current)||void 0===e||null===(e=e.elements())||void 0===e?void 0:e.scrollEventElement},updateScrollerPosition:j,updateScrollerPositionToTop:z}}},73341:function(e,r,n){n.d(r,{Z:function(){return d}});var t=n(26068),o=n.n(t),a=n(48305),l=n.n(a),i=n(47661),c=n(40227),u=n(79416),s=n(50959);function d(){var e=c.Z.light,r=c.Z.dark,n=c.Z.colorPrimary,t=(0,u.KO)(i.rM),a=l()(t,2),d=a[0],p=a[1],m=(0,s.useMemo)((function(){var t="realDark"===d.theme?r:e;return o()(o()({},t),{},{token:o()(o()({},t.token),{},{colorPrimary:d.colorPrimary||n})})}),[d.theme,d.colorPrimary]),f=function(e){var r,n,t=function(e){return"auto"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"realDark":"light":e}(e);r=t,(n=document.querySelector("html"))&&n.setAttribute("data-theme",r),p({theme:t,mode:e,isDarkTheme:"realDark"===t})};return(0,s.useEffect)((function(){var e;e=window.matchMedia("(prefers-color-scheme: dark)").matches?"realDark":"light","auto"===d.mode&&e!==d.theme&&f("auto")}),[d.theme,d.mode]),(0,s.useEffect)((function(){var e=window.matchMedia("(prefers-color-scheme: dark)"),r=function(){"auto"===d.mode&&f("auto")};return e.addEventListener("change",r),function(){e.removeEventListener("change",r)}}),[d.mode,d.theme]),{userSettings:d,setUserSettings:p,setTheme:f,isDarkTheme:d.isDarkTheme,themeData:m,componentSize:"large"}}},61555:function(e,r,n){n.d(r,{I7:function(){return u},JI:function(){return c},Pe:function(){return k},QV:function(){return y},Sw:function(){return d},Vq:function(){return v},bO:function(){return x},lM:function(){return g},m_:function(){return E},oz:function(){return m},qx:function(){return s}});var t=n(90228),o=n.n(t),a=n(87999),l=n.n(a),i=n(38551),c="/workers",u="/gpu-devices",s="/model-files";function d(e){return p.apply(this,arguments)}function p(){return(p=l()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("".concat(c),{methos:"GET",params:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=l()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("".concat(u),{methos:"GET",params:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=l()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("".concat(c,"/").concat(r),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,r){return b.apply(this,arguments)}function b(){return(b=l()(o()().mark((function e(r,n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("".concat(c,"/").concat(r),{method:"PUT",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return S.apply(this,arguments)}function S(){return(S=l()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)(s,{method:"GET",params:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,r){return w.apply(this,arguments)}function w(){return(w=l()(o()().mark((function e(r,n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("".concat(s,"/").concat(r,"?cleanup=").concat(n.checked),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=l()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)(s,{method:"POST",data:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return P.apply(this,arguments)}function P(){return(P=l()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("".concat(s,"/").concat(r,"/reset"),{method:"POST"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},81851:function(e,r,n){n.r(r);var t=n(8445),o=n(62722),a=n(49824),l=n(63597),i=n(44336),c=n(58258),u=n(67581),s=n(38551),d=n(29687),p=n(23010),m=n(82930),f=n(32699),g=n.n(f),h=(n(50959),n(61555)),v=n(11527),b=d.Z.Column,y=[{label:"resources.table.total",key:"total",locale:!0,render:function(e){return(0,c.hy)(e,0)}},{label:"resources.table.used",key:"used",locale:!0,render:function(e){return(0,c.hy)(e,0)}},{label:"resources.table.allocated",key:"allocated",locale:!0,render:function(e){return(0,c.hy)(e,0)}}];r.default=function(){var e=(0,i.Z)({fetchAPI:h.oz,polling:!0,API:h.I7}),r=e.dataSource,n=e.queryParams,c=e.extraStatus,f=e.handlePageChange,S=e.handleTableChange,x=e.handleSearch,w=e.handleNameChange,k=(0,s.useIntl)();return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(u._z,{ghost:!0,header:{title:"GPUs",style:{paddingInline:"var(--layout-content-header-inlinepadding)"},breadcrumb:{}},extra:[],children:[(0,v.jsx)(o.f,{marginBottom:22,marginTop:30,buttonText:k.formatMessage({id:"resources.button.create"}),handleSearch:x,handleInputChange:w,showDeleteButton:!1,showPrimaryButton:!1,width:{input:300}}),(0,v.jsx)(m.ZP,{renderEmpty:function(e){if("Table"===e)return r.loading||!r.loadend||r.dataList.length?(0,v.jsx)("div",{}):(0,v.jsx)(p.Z,{image:p.Z.PRESENTED_IMAGE_SIMPLE})},children:(0,v.jsxs)(d.Z,{tableLayout:r.loadend?"auto":"fixed",dataSource:r.dataList,loading:r.loading,rowKey:"id",onChange:S,pagination:{showSizeChanger:!0,pageSize:n.perPage,current:n.page,total:r.total,hideOnSinglePage:10===n.perPage,onChange:f},children:[(0,v.jsx)(b,{title:k.formatMessage({id:"common.table.name"}),dataIndex:"name",width:240,render:function(e,r){return(0,v.jsx)(t.Z,{ghost:!0,maxWidth:240,children:e})}},"name"),(0,v.jsx)(b,{title:k.formatMessage({id:"resources.table.index"}),dataIndex:"index",render:function(e,r){return(0,v.jsx)("span",{children:r.index})}},"index"),(0,v.jsx)(b,{title:k.formatMessage({id:"resources.table.workername"}),dataIndex:"worker_name",width:200,render:function(e,r){return(0,v.jsx)("span",{style:{display:"flex",width:"100%"},children:(0,v.jsx)(t.Z,{ghost:!0,maxWidth:340,children:e})})}},"worker_name"),(0,v.jsx)(b,{title:k.formatMessage({id:"resources.table.vender"}),dataIndex:"vendor"},"vendor"),(0,v.jsx)(b,{title:"".concat(k.formatMessage({id:"resources.table.temperature"})," (°C)"),dataIndex:"temperature",render:function(e,r){return(0,v.jsx)("span",{children:e?g().round(e,1):"-"})}},"Temperature"),(0,v.jsx)(b,{title:k.formatMessage({id:"resources.table.gpuutilization"}),dataIndex:"gpuUtil",render:function(e,r){var n;return(0,v.jsx)(v.Fragment,{children:r.core?(0,v.jsx)(a.Z,{percent:g().round(null===(n=r.core)||void 0===n?void 0:n.utilization_rate,2)}):"-"})}},"gpuUtil"),(0,v.jsx)(b,{title:k.formatMessage({id:"resources.table.vramutilization"}),dataIndex:"VRAM",render:function(e,n,t){var o,i,u,s;return(0,v.jsx)(a.Z,{defaultOpen:0===t&&r.loadend&&c.firstLoad,percent:null!==(o=n.memory)&&void 0!==o&&o.used?g().round(null===(i=n.memory)||void 0===i?void 0:i.utilization_rate,0):100*g().round((null===(u=n.memory)||void 0===u?void 0:u.allocated)/(null===(s=n.memory)||void 0===s?void 0:s.total),0),label:(0,v.jsx)(l.Z,{fieldList:y,data:n.memory})})}},"VRAM")]})})]})})}},94899:function(e,r,n){n.d(r,{Z:function(){return h}});var t=n(30177),o=n(50959),a=n(90286),l=n(82187),i=n.n(l),c=n(85885),u=n(29797),s=n(90468),d=n(75825),p=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]])}return n};const m=e=>{const{getPopupContainer:r,getPrefixCls:n,direction:l}=o.useContext(u.E_),{prefixCls:m,type:f="default",danger:g,disabled:h,loading:v,onClick:b,htmlType:y,children:S,className:x,menu:w,arrow:k,autoFocus:C,overlay:E,trigger:P,align:T,open:B,onOpenChange:j,placement:z,getPopupContainer:I,href:M,icon:Z=o.createElement(a.Z,null),title:F,buttonsRender:O=(e=>e),mouseEnterDelay:H,mouseLeaveDelay:L,overlayClassName:A,overlayStyle:D,destroyPopupOnHide:R,dropdownRender:N}=e,G=p(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),_=n("dropdown",m),q=`${_}-button`,U={menu:w,arrow:k,autoFocus:C,align:T,disabled:h,trigger:h?[]:P,onOpenChange:j,getPopupContainer:I||r,mouseEnterDelay:H,mouseLeaveDelay:L,overlayClassName:A,overlayStyle:D,destroyPopupOnHide:R,dropdownRender:N},{compactSize:V,compactItemClassnames:K}=(0,d.ri)(_,l),W=i()(q,K,x);"overlay"in e&&(U.overlay=E),"open"in e&&(U.open=B),U.placement="placement"in e?z:"rtl"===l?"bottomLeft":"bottomRight";const $=o.createElement(c.ZP,{type:f,danger:g,disabled:h,loading:v,onClick:b,htmlType:y,href:M,title:F},S),J=o.createElement(c.ZP,{type:f,danger:g,icon:Z}),[Q,X]=O([$,J]);return o.createElement(s.Z.Compact,Object.assign({className:W,size:V,block:!0},G),Q,o.createElement(t.Z,Object.assign({},U),X))};m.__ANT_BUTTON=!0;var f=m;const g=t.Z;g.Button=f;var h=g}}]);