"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[766],{59186:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(35453),a=t(50959),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},o=t(52273),s=function(e,n){return a.createElement(o.Z,(0,r.Z)({},e,{ref:n,icon:l}))};var i=a.forwardRef(s)},1404:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(35453),a=t(50959),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},o=t(52273),s=function(e,n){return a.createElement(o.Z,(0,r.Z)({},e,{ref:n,icon:l}))};var i=a.forwardRef(s)},63417:function(e,n,t){var r=t(26068),a=t.n(r),l=t(48305),o=t.n(l),s=t(5268),i=t(26268),c=t(38551),d=t(40174),u=t(23333),m=t(85885),p=t(99013),h=t.n(p),f=t(50959),v=t(11527);n.Z=function(e){var n=e.children,t=e.tips,r=e.text,l=e.disabled,p=e.type,g=void 0===p?"text":p,x=e.shape,y=void 0===x?"default":x,b=e.fontSize,j=void 0===b?"14px":b,k=e.style,w=e.btnStyle,Z=e.placement,M=e.size,C=void 0===M?"middle":M,S=(0,c.useIntl)(),N=(0,f.useState)(!1),T=o()(N,2),E=T[0],I=T[1],P=(0,f.useRef)(null),z=(0,f.useRef)(null),_=(0,f.useMemo)((function(){return E?S.formatMessage({id:"common.button.copied"}):null!=t?t:S.formatMessage({id:"common.button.copy"})}),[E,S,t]);return(0,f.useEffect)((function(){return P.current&&(z.current=new(h())(P.current),z.current.on("success",(function(){I(!0),setTimeout((function(){I(!1)}),3e3)})),z.current.on("error",(function(e){d.ZP.success(S.formatMessage({id:"common.copy.fail"})),e.clearSelection()}))),function(){var e;null===(e=z.current)||void 0===e||e.destroy()}}),[P]),(0,v.jsx)(u.Z,{title:_,placement:Z,children:(0,v.jsx)(m.ZP,{className:"copy-button",ref:P,type:g,shape:y,size:C,disabled:!!l,"data-clipboard-text":r,style:a()({},w),icon:E?(0,v.jsx)(s.Z,{style:{color:"var(--ant-color-success)",fontSize:j}}):(0,v.jsx)(i.Z,{style:a()({fontSize:j},k)}),children:n})})}},31863:function(e,n,t){var r,a,l,o=t(90228),s=t.n(o),i=t(87999),c=t.n(i),d=t(48305),u=t.n(d),m=t(53649),p=t.n(m),h=t(32246),f=t(72541),v=t(38551),g=t(40174),x=t(1956),y=t(90468),b=t(85885),j=t(83603),k=t(91663),w=t(50959),Z=t(97884),M=t(11527),C=(0,k.kc)((function(e){var n=e.css;return{"delete-modal-content":n(r||(r=p()(["\n    display: flex;\n    font-size: var(--font-size-middle);\n    .anticon {\n      font-size: 20px;\n      margin-right: 10px;\n      color: var(--ant-color-warning);\n    }\n    .title {\n      display: flex;\n      align-items: center;\n      font-weight: var(--font-weight-500);\n    }\n  "]))),content:n(a||(a=p()(["\n    padding-top: 15px;\n    padding-left: 30px;\n    color: var(--ant-color-text-secondary);\n    white-space: pre-line;\n    word-break: break-all;\n    span {\n      color: var(--ant-color-text);\n      display: flex;\n      margin-top: 8px;\n    }\n  "])))}})),S=Z.ZP.div(l||(l=p()(["\n  margin-top: 20px;\n  margin-left: 30px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  .check-text {\n    font-weight: 700;\n    color: var(--ant-color-warning);\n  }\n"]))),N=(0,w.forwardRef)((function(e,n){var t,r=(0,v.useIntl)(),a=C().styles,l=(0,h.Z)(),o=l.saveScrollHeight,i=l.restoreScrollHeight,d=(0,w.useState)(!1),m=u()(d,2),p=m[0],k=m[1],Z=(0,w.useState)({checked:!1}),N=u()(Z,2),T=N[0],E=N[1],I=(0,w.useState)({}),P=u()(I,2),z=P[0],_=P[1],R=function(e){var n;o(),_(e),E({checked:(null===(n=e.checkConfig)||void 0===n?void 0:n.defautlChecked)||!1}),k(!0)},H=function(){k(!1),i()},L=function(){var e;k(!1),null===(e=z.onCancel)||void 0===e||e.call(z),i()},A=function(){var e=c()(s()().mark((function e(){var n,t;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(n=z.onOk)||void 0===n?void 0:n.call(z);case 3:t=e.sent,Array.isArray(t)?t.every((function(e){return"fulfilled"===(null==e?void 0:e.status)}))&&g.ZP.success(r.formatMessage({id:"common.message.success"})):g.ZP.success(r.formatMessage({id:"common.message.success"})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,k(!1),i(),e.finish(10);case 14:case"end":return e.stop()}}),e,null,[[0,8,10,14]])})));return function(){return e.apply(this,arguments)}}();return(0,w.useImperativeHandle)(n,(function(){return{show:R,hide:H,configuration:T}})),(0,M.jsxs)(x.Z,{style:{top:"20%"},open:p,onOk:A,onCancel:L,destroyOnClose:!1,closeIcon:!1,maskClosable:!1,keyboard:!1,width:460,styles:{footer:{marginTop:"20px"}},footer:(0,M.jsxs)(y.Z,{size:20,children:[(0,M.jsx)(b.ZP,{onClick:L,size:"middle",children:z.cancelText?r.formatMessage({id:z.cancelText}):r.formatMessage({id:"common.button.cancel"})}),(0,M.jsx)(b.ZP,{type:"primary",onClick:A,size:"middle",children:z.okText?r.formatMessage({id:z.okText}):r.formatMessage({id:"common.button.delete"})})]}),children:[(0,M.jsx)("div",{className:a["delete-modal-content"],children:(0,M.jsxs)("span",{className:"title",children:[(0,M.jsx)(f.Z,{}),(0,M.jsx)("span",{children:z.title?r.formatMessage({id:z.title}):r.formatMessage({id:"common.title.delete.confirm"})})]})}),(0,M.jsx)("div",{className:a.content,dangerouslySetInnerHTML:{__html:z.content?r.formatMessage({id:z.operation||""},{type:r.formatMessage({id:z.content}),name:z.name}):""}}),z.checkConfig&&(0,M.jsx)(S,{children:(0,M.jsx)(j.Z,{checked:T.checked,onChange:function(e){return E({checked:e.target.checked})},children:(0,M.jsx)("span",{className:"check-text",children:r.formatMessage({id:null===(t=z.checkConfig)||void 0===t?void 0:t.checkText})})})})]})}));n.Z=N},59597:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(48305),a=t.n(r),l=t(26068),o=t.n(l),s=t(1404),i=t(38551),c=t(23333),d=t(85885),u=t(94899),m=t(82187),p=t.n(m),h=t(32699),f=t.n(h),v=t(50959),g=t(11527),x=function(e){var n=e.items,t=e.size,r=void 0===t?"middle":t,l=e.trigger,m=void 0===l?["hover"]:l,h=e.showText,x=e.disabled,y=e.variant,b=e.color,j=e.extra,k=e.onSelect,w=f().head(n),Z=(0,i.useIntl)(),M=function(e){var t=f().head(n);k(t.key,t)};return null!=n&&n.length?(0,g.jsx)(g.Fragment,{children:1===(null==n?void 0:n.length)?(0,g.jsx)(c.Z,{title:Z.formatMessage({id:null==w?void 0:w.label}),children:(0,g.jsx)(d.ZP,o()(o()({className:p()("dropdown-button",r),icon:null==w?void 0:w.icon,size:r},null==w?void 0:w.props),{},{onClick:M}))}):(0,g.jsx)(u.Z.Button,{disabled:x,trigger:m,type:"primary",dropdownRender:function(e){return(0,g.jsx)("div",{className:"flex flex-column ",style:{backgroundColor:"var(--ant-color-bg-elevated)",padding:5,alignItems:"flex-start",borderRadius:"var(--border-radius-base)",boxShadow:"var(--ant-box-shadow-secondary)"},children:f().map(f().tail(n),(function(e){return(0,v.createElement)(d.ZP,o()(o()({},e.props),{},{type:"text",size:r,icon:e.icon,key:e.key,disabled:e.disabled,onClick:function(){return function(e){var t=f().find(n,{key:e.key});k(e.key,t)}(e)},style:{width:"100%",justifyContent:"flex-start"}}),Z.formatMessage({id:e.label}))}))})},buttonsRender:function(e){var n=a()(e,2);n[0],n[1];return[(0,g.jsx)(g.Fragment,{children:h?(0,g.jsxs)(d.ZP,o()(o()({},null==w?void 0:w.props),{},{disabled:(null==w?void 0:w.disabled)||x,className:p()("dropdown-button",r),onClick:M,size:r,icon:null==w?void 0:w.icon,variant:y,color:b,children:[Z.formatMessage({id:null==w?void 0:w.label}),j]})):(0,g.jsx)(c.Z,{title:Z.formatMessage({id:null==w?void 0:w.label}),children:(0,g.jsx)(d.ZP,o()(o()({},null==w?void 0:w.props),{},{className:p()("dropdown-button",r),onClick:M,size:r,icon:null==w?void 0:w.icon,disabled:null==w?void 0:w.disabled}))},"leftButton")}),(0,g.jsx)(d.ZP,{icon:(0,g.jsx)(s.Z,{}),size:r,variant:y,color:"default",className:p()("dropdown-button",r)},"menu")]}})}):(0,g.jsx)("span",{})}},76932:function(e,n,t){t.d(n,{Z:function(){return k}});var r,a=t(26068),l=t.n(a),o=t(53649),s=t.n(o),i=t(50959),c=t(97884),d=t(63417),u=t(67825),m=t.n(u),p=t(96938),h=t(11527),f=["height","size","options","className"],v=c.ZP.div(r||(r=s()(["\n  .ant-segmented.segment-line {\n    padding: 0;\n    background-color: transparent;\n    color: var(--color-white-tertiary);\n    border: none;\n    box-shadow: none;\n    height: ","px;\n    display: flex;\n    align-items: center;\n    .ant-segmented-group {\n      gap: 16px;\n      height: 100%;\n    }\n    .ant-segmented-item:hover {\n      color: var(--color-white-secondary);\n    }\n    .ant-segmented-thumb {\n      height: 2px;\n      padding: 0px;\n      bottom: 0px;\n      top: unset;\n      background-color: var(--color-white-primary) !important;\n    }\n    .ant-segmented-item-label {\n      display: flex;\n      align-items: center;\n      padding: 0;\n      font-size: var(--font-size-small);\n    }\n    .ant-segmented-item {\n      background-color: transparent;\n      padding-bottom: 2px;\n      display: flex;\n      align-items: center;\n      &::after {\n        background-color: var(--color-white-primary) !important;\n        width: 100%;\n        height: 0px;\n        border-radius: 2px;\n        bottom: 0px;\n        top: unset;\n      }\n    }\n    .ant-segmented-item-selected {\n      background-color: transparent;\n      color: var(--color-white-primary);\n      &::after {\n        height: 2px;\n      }\n    }\n  }\n"])),(function(e){return e.$height})),g=function(e){var n=e.height,t=void 0===n?32:n,r=e.size,a=void 0===r?"small":r,o=e.options,s=void 0===o?[]:o,i=e.className,c=void 0===i?"segment-line":i,d=m()(e,f);return(0,h.jsx)(v,{$height:t,children:(0,h.jsx)(p.Z,l()(l()({},d),{},{size:a,options:s,className:c}))})};g.displayName="SegmentLine";var x,y=g,b=c.ZP.div(x||(x=s()(["\n  height: ","px;\n"])),(function(e){return e.$height})),j=function(e){var n=e.headerHeight,t=void 0===n?40:n,r=e.header,a=e.children,o=e.copyText,s=e.langOptions,i=void 0===s?[]:s,c=e.onChangeLang,u=e.defaultValue,m=e.styles,p=void 0===m?{}:m,f=e.showHeader,v=void 0===f||f,g=function(e){null==c||c(e)};return(0,h.jsxs)("div",{className:"editor-wrap",style:l()({},p.wrapper),children:[r?(0,h.jsx)("div",{className:"editor-header",children:r}):v?(0,h.jsxs)(b,{className:"editor-header",$height:t,children:[(0,h.jsx)(y,{height:t,defaultValue:u,size:"small",options:i,onChange:g}),(0,h.jsx)(d.Z,{text:o,size:"small",style:{color:"rgba(255,255,255,.7)"}})]}):null,(0,h.jsx)("div",{className:"editor-content",children:a})]})},k=i.memo(j)},43585:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(73341),a=t(50959),l=t(26068),o=t.n(l),s=t(53649),i=t.n(s),c=t(82187),d=t.n(c),u=t(49034),m=t(97884),p=t(63417);var h,f,v=t(11527),g=m.ZP.div(h||(h=i()(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  padding: 0 12px;\n  font-size: 12px;\n  color: var(--ant-color-text-tertiary);\n  background-color: #fafafa;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  &.dark {\n    background-color: var(--color-editor-header-bg);\n    color: rgba(255, 255, 255, 0.65);\n  }\n"]))),x=m.ZP.div(f||(f=i()(["\n  border-radius: var(--border-radius-mini);\n"]))),y=function(e){var n=e.copyValue,t=e.lang,r=e.theme;return e.copyable?(0,v.jsxs)(g,{className:d()({dark:"dark"===r,light:"light"===r}),children:[(0,v.jsx)("span",{children:t}),(0,v.jsx)(p.Z,{text:n,size:"small",style:{color:"#abb2bf"}})]}):null},b=function(e){var n=e||{},t=n.code,r=void 0===t?"":t,l=n.copyValue,s=n.lang,i=n.autodetect,c=void 0===i||i,m=n.ignoreIllegals,p=void 0===m||m,h=n.copyable,f=void 0===h||h,g=n.height,b=void 0===g?"auto":g,j=n.style,k=(0,a.useMemo)((function(){var e,n=c&&!s,t=!n&&!u.Z.getLanguage(s),a="";return t||(a="hljs ".concat(s)),t?{value:(e=r,e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")),className:a}:n?{value:u.Z.highlightAuto(r).value,className:a}:{value:u.Z.highlight(r,{language:s,ignoreIllegals:p}).value,className:a}}),[r,s,c,p]);return(0,v.jsxs)(x,{children:[(0,v.jsx)(y,{copyValue:l||r,lang:s,copyable:f,theme:e.theme||"light"}),(0,v.jsx)("pre",{className:d()("code-pre custome-scrollbar custom-scrollbar-horizontal ",{dark:"dark"===e.theme,light:"light"===e.theme}),style:o()({marginBottom:0,height:b},j),children:(0,v.jsx)("code",{style:{minHeight:b},className:d()(k.className,{dark:"dark"===e.theme,light:"light"===e.theme}),dangerouslySetInnerHTML:{__html:k.value}})})]})},j=(0,a.memo)(b),k=function(e){var n=e||{},t=n.code,r=n.copyValue,a=n.lang,l=n.autodetect,o=n.ignoreIllegals,s=n.copyable,i=n.height,c=void 0===i?"auto":i;return(0,v.jsx)(j,{style:e.style,height:c,code:t,copyValue:r,lang:a,theme:"dark",autodetect:l,ignoreIllegals:o,copyable:s})},w=(0,a.memo)(k),Z=function(e){var n=e||{},t=n.code,r=n.copyValue,a=n.lang,l=n.autodetect,o=n.ignoreIllegals,s=n.copyable,i=n.style,c=n.height,d=void 0===c?"auto":c;return(0,v.jsx)(j,{style:i,height:d,code:t,copyValue:r,lang:a,theme:"light",autodetect:l,ignoreIllegals:o,copyable:s})},M=(0,a.memo)(Z),C=function(e){var n=e.style,t=e.code,l=e.copyValue,o=e.lang,s=void 0===o?"bash":o,i=e.copyable,c=void 0===i||i,d=e.theme,u=e.height,m=void 0===u?"auto":u,p=(0,r.Z)().userSettings,h=a.useMemo((function(){return d||"realDark"===p.theme?"dark":"light"}),[d,p.theme]);return(0,v.jsx)("div",{className:"high-light-wrapper hj-wrapper",children:"dark"===h?(0,v.jsx)(w,{lang:s,code:t,copyValue:l,copyable:c,height:m,style:n}):(0,v.jsx)(M,{style:n,lang:s,code:t,copyValue:l,copyable:c,height:m})})}},67768:function(e,n,t){var r,a=t(26068),l=t.n(a),o=t(53649),s=t.n(o),i=t(38551),c=t(90468),d=t(85885),u=(t(50959),t(97884)),m=t(11527),p=u.ZP.div(r||(r=s()(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 20px;\n"])));n.Z=function(e){var n=e.onOk,t=e.onCancel,r=e.cancelText,a=e.okText,o=e.okBtnProps,s=e.cancelBtnProps,u=e.loading,h=e.htmlType,f=void 0===h?"button":h,v=e.style,g=e.showOkBtn,x=void 0===g||g,y=e.description,b=e.extra,j=e.showCancelBtn,k=void 0===j||j,w=(e.form,(0,i.useIntl)());return(0,m.jsxs)(p,{children:[(0,m.jsx)("div",{children:y}),(0,m.jsxs)(c.Z,{size:20,style:l()({},v),children:[k&&(0,m.jsx)(d.ZP,l()(l()({onClick:t,style:{width:"88px"}},s),{},{children:r||w.formatMessage({id:"common.button.cancel"})})),b,x&&(0,m.jsx)(d.ZP,l()(l()({type:"primary",onClick:n,style:{width:"88px"},loading:u,htmlType:f},o),{},{children:a||w.formatMessage({id:"common.button.save"})}))]})]})}},49824:function(e,n,t){var r=t(48305),a=t.n(r),l=t(9288),o=t(23333),s=t(50959),i=t(11527),c=(0,s.memo)((function(e){var n=e.defaultOpen,t=e.percent,r=e.download,c=e.label,d=e.successPercent,u=s.useState(!1),m=a()(u,2),p=m[0],h=m[1],f=(0,s.useMemo)((function(){return r?"var(--ant-color-primary)":t<=50?"var(--ant-color-success)":t<=80?"var(--ant-color-warning)":"var(--ant-color-error)"}),[t]);(0,s.useEffect)((function(){h(n||!1)}),[n]);var v=(0,s.useMemo)((function(){return(0,i.jsx)(l.Z,{percentPosition:{align:"center",type:"inner"},size:["",16],format:function(){return(0,i.jsxs)("span",{style:{color:"var(--color-progress-text)"},children:[t,"%"]})},percent:t,success:{percent:d,strokeColor:"var(--ant-geekblue-3)"},strokeColor:f})}),[t,d,f]);return(0,i.jsx)(i.Fragment,{children:c?(0,i.jsx)(o.Z,{title:c,open:p,onOpenChange:h,overlayInnerStyle:{paddingInline:12},children:v}):v})}));n.Z=c},98817:function(e,n,t){var r=t(26068),a=t.n(r),l=t(32246),o=t(1956),s=t(50959),i=t(11527);n.Z=function(e){var n=(0,l.Z)(),t=n.saveScrollHeight,r=n.restoreScrollHeight;return s.useEffect((function(){e.open?t():r()}),[e.open]),(0,i.jsx)(o.Z,a()({},e))}},6024:function(e,n,t){var r,a=t(26068),l=t.n(a),o=t(53649),s=t.n(o),i=t(73341),c=t(50959),d=t(56377),u=(t(64818),t(97884)),m=t(11527),p=u.ZP.div(r||(r=s()(["\n  .simplebar-scrollbar::before {\n    width: var(--scrollbar-size);\n    background: var(--scrollbar-handle-bg);\n  }\n  &.dark {\n    .simplebar-scrollbar::before {\n      width: var(--scrollbar-size);\n      background: var(--scrollbar-handle-light-bg);\n    }\n  }\n"])));n.Z=function(e){var n=e.height,t=e.children,r=e.style,a=e.disableTrigger,o=e.onScrollEnd,s=(0,i.Z)().isDarkTheme,u=c.useRef(null);return(0,c.useEffect)((function(){var e,n=function(e){var n,t=null===(n=u.current)||void 0===n?void 0:n.getScrollElement();t.scrollHeight-t.clientHeight-t.scrollTop<=20&&!a&&(null==o||o(e))};return null===(e=u.current)||void 0===e||e.getScrollElement().addEventListener("scroll",n),function(){var e;null===(e=u.current)||void 0===e||e.getScrollElement().removeEventListener("scroll",n)}}),[n,a,o]),(0,m.jsx)(p,{className:s?"dark":"light",children:(0,m.jsx)(d.Z,{ref:u,style:l()({height:n},r),children:t})})}},63597:function(e,n,t){t(50959);var r=t(38551),a=t(76571),l=t(11527);n.Z=function(e){var n=e.data,t=e.fieldList,o=e.style,s=(0,r.useIntl)();return(0,l.jsx)("span",{className:"flex",style:o,children:t.map((function(e,r){var o,i;return(0,l.jsxs)("span",{className:"flex-center",children:[(0,l.jsxs)("span",{className:"flex-column flex-center",children:[(0,l.jsxs)("span",{children:[" ",e.locale?s.formatMessage({id:e.label}):e.label]}),(0,l.jsxs)("span",{style:{color:"var(--color-white-quaternary)"},children:[" ",null!==(o=null===(i=e.render)||void 0===i?void 0:i.call(e,n[e.key],n))&&void 0!==o?o:n[e.key]]})]}),r<t.length-1?(0,l.jsx)(a.Z,{type:"vertical",style:{height:30,marginInline:12,borderColor:"var(--color-white-light-2)",alignSelf:"center"}}):null]},e.key||r)}))})}},57160:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(20369),a=t(4423),l=t(76571),o=t(23333),s=t(85885),i=t(82187),c=t.n(i),d=t(50959),u=(t(64818),t(63417)),m=t(62605),p="status-content-wrapper___Qw4qC",h=t(11527),f=/<a (.*?)>(.*?)<\/a>/g,v=function(e){var n=e.statusValue,t=e.download,i=e.extra,v=e.actions,g=void 0===v?[]:v,x=e.maxTooltipWidth,y=void 0===x?250:x,b=(e.type,n.text),j=n.status,k=(0,d.useMemo)((function(){return r.zK[j]}),[j]),w=(0,d.useMemo)((function(){return!!n.message&&f.test(n.message||"")}),[n.message]),Z=(0,d.useMemo)((function(){var e,t;return n.message?(null===(e=n.message)||void 0===e?void 0:e.match(f))?null===(t=n.message)||void 0===t?void 0:t.replace(f,'<a $1 target="_blank">$2</a>'):n.message:""}),[n.message]),M=function(){var e=(null==t?void 0:t.percent)||0;return t&&e>0&&e<=100?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"progress",children:[(null==t?void 0:t.percent)||0,"%"]}),(0,h.jsx)("span",{className:"download",style:{width:"".concat(e,"%")}})]}):(0,h.jsx)("span",{children:b})},C=(0,d.useMemo)((function(){return(0,h.jsxs)("div",{className:p,children:[(0,h.jsxs)("div",{className:"copy-button-wrapper",children:[(0,h.jsx)(u.Z,{style:{color:"rgba(255,255,255,.8)"},text:Z||"",size:"small"}),null==g?void 0:g.map((function(e){return(0,h.jsxs)("div",{children:[(0,h.jsx)(l.Z,{style:{marginBlock:5,borderColor:"rgba(255,255,255,.5)"}}),(0,h.jsx)(o.Z,{title:e.label,placement:"right",children:(0,h.jsx)(s.ZP,{size:"small",type:"text",style:{color:"rgba(255,255,255,.8)",padding:1},onClick:e.onClick,children:(0,h.jsx)("span",{className:"font-size-14",children:e.icon})})},e.key)]},e.key)}))]}),(0,h.jsxs)("div",{style:{width:"max-content",maxWidth:y,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[w?(0,h.jsx)("span",{dangerouslySetInnerHTML:{__html:Z}}):Z,i&&(0,h.jsx)("span",{className:"m-l-5",children:i})]})]})}),[n]);return(0,h.jsx)("span",{className:c()("status-tag",{download:null==t?void 0:t.percent}),style:{color:null==k?void 0:k.text,border:"1px solid ".concat((null==k?void 0:k.border)||(null==k?void 0:k.text))},children:n.message?(0,h.jsx)(m.$R,{title:C,scrollbars:{autoHide:"never"},toolTipProps:{destroyTooltipOnHide:!0},children:(0,h.jsxs)("span",{className:"txt err",children:[(0,h.jsx)("span",{className:"m-r-5",children:(0,h.jsx)(a.Z,{})}),M()]})}):(0,h.jsx)("span",{className:"txt",children:M()})})}},82344:function(e,n,t){t.d(n,{d4:function(){return s}});var r=t(48305),a=t.n(r),l=(0,t(58258).oc)(),o={CREATE:["Alt+Ctrl+N","Alt+Meta+N"],CLEAR:["Alt+Ctrl+K","Alt+Meta+K"],RIGHT:["Ctrl+RIGHT","Meta+RIGHT"],SAVE:["Ctrl+S","Meta+S"],SUBMIT:["Enter","Enter"],ENTER:["Enter","Enter"],SHIFT:["Shift","Shift"],CTRL:["Ctrl","Meta"],OPTION:["Alt","Option"],SAVEAS:["Alt+Ctrl+S","Alt+Meta+S"],OPEN:["Alt+Ctrl+O","Alt+Meta+O"],UNDO:["Ctrl+Z","Meta+Z"],CANCEL:["Ctrl+W","Meta+W"],DELETE:["delete"],COPY:["Ctrl+C","Meta+C"],REFRESH:["Ctrl+R","Meta+R"],EDIT:["Ctrl+E","Meta+E"],SEARCH:["Ctrl+K","Meta+K"],RESET:["Alt+Ctrl+R","Alt+Meta+R"],INPUT:["Ctrl+K","Meta+K"],NEW1:["Ctrl+1","Meta+1"],NEW2:["Ctrl+2","Meta+2"],NEW3:["Ctrl+3","Meta+3"],NEW4:["Ctrl+4","Meta+4"],FOCUS:["/","/"],ADD:["Alt+Ctrl+Enter","Alt+Meta+Enter"],ESC:["Esc","Esc"]},s=Object.entries(o).map((function(e){var n=a()(e,2),t=n[0],r=n[1],o=l.isMac&&r[1]||r[0];return{keybinding:o,command:t,textKeybinding:l.isMac?o.replace("Meta","Cmd").replace("Alt","Option"):o.replace("Ctrl","Ctrl"),iconKeybinding:l.isMac?o.replace("Meta","⌘").replace("Alt","⌥"):o.replace("Ctrl","Ctrl")}})).reduce((function(e,n){return e[n.command]=n,e}),{});n.ZP=o},32246:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(50959);function a(){var e=r.useRef(0),n=r.useRef({}),t=r.useRef(null),a=r.useRef(null),l=r.useRef(null),o=function(){var e;t.current=null===(e=window.__GPUSTACK_BODY_SCROLLER__)||void 0===e||null===(e=e.elements())||void 0===e?void 0:e.scrollEventElement,a.current=window.__GPUSTACK_BODY_SCROLLER__},s=r.useCallback((function(){var r,l,s,i;t.current||o(),n.current=null===(r=a.current)||void 0===r?void 0:r.state();var c=null===(l=n.current)||void 0===l||null===(l=l.overflowAmount)||void 0===l?void 0:l.y;e.current=c,null===(s=a.current)||void 0===s||null===(i=s.options)||void 0===i||i.call(s,{overflow:{x:"hidden",y:"visible"}})}),[]),i=r.useCallback((function(){l.current&&clearTimeout(l.current),l.current=setTimeout((function(){var e,n;null===(e=a.current)||void 0===e||null===(n=e.options)||void 0===n||n.call(e,{overflow:{x:"hidden",y:"scroll"}})}),500)}),[]);return r.useEffect((function(){return o(),function(){t.current=null,a.current=null}}),[]),{saveScrollHeight:s,restoreScrollHeight:i}}},38780:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(26068),a=t.n(r),l=t(48305),o=t.n(l),s=t(32699),i=t(92605),c=t(50959),d=t(73341);function u(e){var n,t=(0,d.Z)().userSettings,r=e||{},l=r.options,u=r.events,m=r.defer,p=void 0===m||m,h=l||{},f=h.scrollbars,v=h.overflow,g=(h.oppositeTheme,c.useRef(null)),x=c.useRef(null),y=c.useRef(!1),b=c.useRef(null),j=c.useRef(!1),k=c.useRef(null),w=(0,i.A)({options:{update:{debounce:0},overflow:a()({x:"hidden"},v),scrollbars:a()(a()({autoHide:"scroll",autoHideDelay:600,clickScroll:"instant"},f),{},{theme:(null==f?void 0:f.theme)||("light"===t.theme?"os-theme-dark":"os-theme-light")})},events:a()({},u),defer:p}),Z=o()(w,2),M=Z[0],C=Z[1];x.current=null==C?void 0:C(),g.current=null===(n=x.current)||void 0===n||null===(n=n.elements())||void 0===n?void 0:n.scrollEventElement;var S=c.useCallback((0,s.throttle)((function(){var e,n,t,r,a;null===(e=g.current)||void 0===e||null===(n=e.scrollTo)||void 0===n||n.call(e,{top:null===(t=g.current)||void 0===t?void 0:t.scrollHeight,behavior:"smooth"}),null===(r=x.current)||void 0===r||null===(a=r.update)||void 0===a||a.call(r)}),100),[(g.current,x.current)]),N=c.useCallback((function(){var e,n,t,r;null===(e=g.current)||void 0===e||null===(n=e.scrollTo)||void 0===n||n.call(e,{top:g.current.scrollHeight,behavior:"auto"}),null===(t=x.current)||void 0===t||null===(r=t.update)||void 0===r||r.call(t)}),[g.current,x.current]),T=c.useCallback((function(e){j.current||(0===e?N():S())}),[S,N]),E=c.useCallback((function(){var e,n,t,r;null===(e=g.current)||void 0===e||null===(n=e.scrollTo)||void 0===n||n.call(e,{top:0,behavior:"auto"}),null===(t=x.current)||void 0===t||null===(r=t.update)||void 0===r||r.call(t)}),[g.current,x.current]),I=c.useCallback((function(e){var n,t,r,a,l,o;a=null===(n=g.current)||void 0===n?void 0:n.scrollTop,l=null===(t=g.current)||void 0===t?void 0:t.scrollHeight,o=a+(null===(r=g.current)||void 0===r?void 0:r.clientHeight)+20>=l,j.current=!o,k.current&&clearTimeout(k.current),k.current=setTimeout((function(){j.current=!1}),5e3)}),[]),P=c.useCallback((function(e){if(x.current)return x.current;var n,t,r;e&&(M(e),b.current=e,y.current=!0,x.current=null==C?void 0:C(),g.current=null===(n=x.current)||void 0===n||null===(n=n.elements())||void 0===n?void 0:n.scrollEventElement,null===(t=b.current)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"wheel",I));return x.current}),[M,C]);return(0,c.useEffect)((function(){return function(){var e,n,t,r;null===(e=x.current)||void 0===e||null===(n=e.destroy)||void 0===n||n.call(e),null===(t=b.current)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"wheel",I)}}),[C]),{initialize:P,instance:x.current,scrollEventElement:g.current,initialized:y.current,generateInstance:function(){var e;x.current=null==C?void 0:C(),g.current=null===(e=x.current)||void 0===e||null===(e=e.elements())||void 0===e?void 0:e.scrollEventElement},updateScrollerPosition:T,updateScrollerPositionToTop:E}}},12720:function(e,n,t){t.r(n),t.d(n,{default:function(){return pe}});var r=t(90228),a=t.n(r),l=t(26068),o=t.n(l),s=t(87999),i=t.n(s),c=t(48305),d=t.n(c),u=t(8445),m=t(31863),p=t(59597),h=t(62722),f=t(49824),v=t(63597),g=t(57160),x=t(82344),y=t(44336),b=t(58258),j=t(48660),k=t(69070),w=t(4423),Z=t(67581),M=t(38551),C=t(29687),S=t(40174),N=t(23010),T=t(82930),E=t(23333),I=t(32699),P=t.n(I),z=t(50959),_=t(94299),R=t(61555),H=t(63878),L=t(98817),A=t(36090),O=t(67762),V=t(79831),B=t(47946),D=t(87497),W=t(90468),K=t(11527),F=(D.Z.Text,["resources.register.worker.step2","resources.register.worker.step4","resources.register.worker.step5","resources.register.worker.step6","resources.register.worker.step7"]),U=function(e){var n=e.platform,t=(0,M.useIntl)(),r=(0,z.useMemo)((function(){return{step1:t.formatMessage({id:"resources.worker.add.step1"}),step2:t.formatMessage({id:"resources.worker.add.step2"}),step2Tips:t.formatMessage({id:"resources.worker.add.step2.tips"}),step3:t.formatMessage({id:"resources.worker.add.step3"}),linuxOrMac:t.formatMessage({id:"resources.worker.linuxormaxos"})}}),[t]);return(0,K.jsxs)("div",{className:"script-install",children:[(0,K.jsxs)("h3",{className:"font-size-14 font-600",children:["1."," ",t.formatMessage({id:"resources.register.install.title"},{os:n.os})]}),(0,K.jsx)(D.Z.Paragraph,{type:"secondary",style:{paddingLeft:14},children:(0,K.jsx)("span",{dangerouslySetInnerHTML:{__html:t.formatMessage({id:"resources.register.download"},{versions:t.formatMessage({id:n.supportVersions}),url:n.downloadurl})}})}),(0,K.jsxs)("h3",{className:"font-size-14 font-600",children:["2. ",(0,K.jsx)("span",{dangerouslySetInnerHTML:{__html:r.step1}})]}),(0,K.jsx)(D.Z.Paragraph,{style:{paddingLeft:14},children:(0,K.jsx)("div",{className:"flex",children:(0,K.jsx)(D.Z.Text,{type:"secondary",children:(0,K.jsx)("span",{dangerouslySetInnerHTML:{__html:t.formatMessage({id:"resources.register.worker.step1"})}})})})}),(0,K.jsxs)("h3",{className:"m-t-10 font-size-14 font-600",children:["3. ",r.step2," ",(0,K.jsx)("span",{className:"font-size-12",style:{color:"var(--ant-color-text-tertiary)"},dangerouslySetInnerHTML:{__html:"".concat(r.step2Tips)}})]}),(0,K.jsx)(D.Z.Paragraph,{style:{paddingLeft:14},children:(0,K.jsx)("div",{className:"flex",children:(0,K.jsx)(W.Z,{direction:"vertical",children:F.map((function(e,n){return(0,K.jsxs)(D.Z.Text,{type:"secondary",children:[n+1,"."," ",(0,K.jsx)("span",{dangerouslySetInnerHTML:{__html:t.formatMessage({id:e},{url:window.location.origin})}})]},n)}))})})}),(0,K.jsxs)("h3",{className:"m-b-0 m-t-10 font-size-14 font-600",children:["4. ",r.step3]})]})},G=t(78666),$=t(28100),q=t(76932),J=t(43585),Y=t(81454),Q=[{label:"910B",value:"npu"},{label:"310P",value:"npu310p"}],X=function(e){var n=(0,M.useIntl)(),t=window.location.origin,r=z.useState("cuda"),a=d()(r,2),l=a[0],o=a[1],s=z.useState("npu"),i=d()(s,2),c=i[0],u=i[1],m=(0,$.bG)(G.jr),p=z.useMemo((function(){var e,n=null==m?void 0:m.version;n&&m.isProduction||(n="main");var r=H.Jq[l];"npu310p"===c&&"npu"===l&&(r=H.Jq[c]);var a="cuda"===l?n:"".concat(n,"-").concat(l);return null===(e=r)||void 0===e?void 0:e.registerWorker({server:t,tag:a,token:"${token}",workerip:"${workerip}"})}),[m,l,e.token,c]);return(0,K.jsxs)("div",{className:"container-install",children:[(0,K.jsxs)("ul",{className:"notes",children:[(0,K.jsx)("li",{children:n.formatMessage({id:"resources.worker.current.version"},{version:m.version})}),(0,K.jsx)("li",{children:(0,K.jsx)("span",{dangerouslySetInnerHTML:{__html:n.formatMessage({id:"resources.worker.driver.install"})}})})]}),(0,K.jsxs)("h3",{className:"font-size-14 font-600",children:["1."," ",(0,K.jsx)("span",{dangerouslySetInnerHTML:{__html:n.formatMessage({id:"resources.worker.add.step1"})}})]}),(0,K.jsx)(J.Z,{code:H.Jq.container.getToken,theme:"dark",lang:"bash"}),(0,K.jsxs)("h3",{className:"m-t-10 font-size-14 font-600",children:["2. ",n.formatMessage({id:"resources.worker.add.step2"})," ",(0,K.jsx)("span",{className:"font-size-12",style:{color:"var(--ant-color-text-tertiary)"},dangerouslySetInnerHTML:{__html:"".concat(n.formatMessage({id:"resources.worker.add.step2.tips"}))}})]}),(0,K.jsx)("div",{className:"m-b-16",children:(0,K.jsx)(Y.ZP.Group,{block:!0,options:H.KO,defaultValue:l,value:l,optionType:"button",buttonStyle:"solid",onChange:function(e){return o(e.target.value)},size:"small"})}),"npu"===l&&(0,K.jsx)("div",{className:"m-b-8 text-tertiary",dangerouslySetInnerHTML:{__html:n.formatMessage({id:"resources.worker.cann.tips"})}}),"npu"===l?(0,K.jsx)(q.Z,{headerHeight:32,copyText:p,langOptions:Q,defaultValue:"npu",showHeader:!0,onChangeLang:function(e){u(e)},styles:{wrapper:{backgroundColor:"var(--color-editor-dark)"}},children:(0,K.jsx)(J.Z,{theme:"dark",code:p.replace(/\\/g,""),copyValue:p,lang:"bash",copyable:!1})}):(0,K.jsx)(J.Z,{theme:"dark",code:p.replace(/\\/g,""),copyValue:p,lang:"bash"}),(0,K.jsxs)("h3",{className:"m-b-0 m-t-10 font-size-14 font-600",children:["3. ",n.formatMessage({id:"resources.worker.add.step3"})]})]})},ee=z.memo(X),ne=function(e){var n=e||{},t=n.open,r=n.onCancel,a=(0,M.useIntl)(),l=z.useState(""),o=d()(l,2),s=o[0],i=(o[1],z.useState("container")),c=d()(i,2),u=c[0],m=c[1],p=[{key:"container",label:"Linux",icon:(0,K.jsx)(A.Z,{}),children:(0,K.jsx)(ee,{token:s})},{key:"macos",label:"macOS",icon:(0,K.jsx)(O.Z,{}),children:(0,K.jsx)(U,{token:s,platform:{os:"macOS",downloadurl:"https://gpustack.ai/",supportVersions:"resource.register.maos.support"}})},{key:"windows",label:"Windows",icon:(0,K.jsx)(V.Z,{}),children:(0,K.jsx)(U,{token:s,platform:{os:"Windows",downloadurl:"https://gpustack.ai/",supportVersions:"resource.register.windows.support"}})}];return(0,K.jsx)(L.Z,{title:a.formatMessage({id:"resources.button.create"}),open:t,centered:!1,onCancel:r,destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:700,style:{top:100},styles:{body:{minHeight:450}},footer:null,children:(0,K.jsx)(B.Z,{size:"small",items:p,activeKey:u,type:"card",onChange:function(e){return m(e)}})})},te=t(38634),re=t(67768),ae=t(39139),le=t(6024),oe=t(68476),se=(t(64818),function(e){var n=e||{},t=n.open,r=n.onCancel,a=n.data,l=n.onOk,o=(0,M.useIntl)(),s=oe.Z.useForm(),i=d()(s,1)[0],c=oe.Z.useWatch("labels",i);return(0,K.jsx)(L.Z,{title:o.formatMessage({id:"resources.button.edit"}),open:t,centered:!0,onCancel:r,destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:600,styles:{content:{padding:"0px"},header:{padding:"var(--ant-modal-content-padding)",paddingBottom:"0"},body:{padding:"0"},footer:{padding:"0 var(--ant-modal-content-padding)"}},footer:(0,K.jsx)(re.Z,{onOk:function(){i.submit()},onCancel:r}),children:(0,K.jsx)(le.Z,{style:{maxHeight:"550px"},children:(0,K.jsxs)(oe.Z,{name:"deployModel",form:i,onFinish:l,preserve:!1,clearOnDestroy:!0,initialValues:{name:a.name,labels:a.labels},style:{padding:"var(--ant-modal-content-padding)",paddingBlock:0},children:[(0,K.jsx)(oe.Z.Item,{name:"name",children:(0,K.jsx)(ae.Z.Input,{label:o.formatMessage({id:"common.table.name"}),disabled:!0})}),(0,K.jsx)(oe.Z.Item,{name:"labels",rules:[function(){return{validator:function(e,n){return P().keys(n).length>0&&P().some(P().keys(n),(function(e){return!n[e]}))?Promise.reject(o.formatMessage({id:"common.validate.value"},{name:o.formatMessage({id:"resources.form.label"})})):Promise.resolve()}}}],children:(0,K.jsx)(te.Z,{label:o.formatMessage({id:"resources.table.labels"}),labels:c,btnText:"common.button.addLabel",onChange:function(e){i.setFieldValue("labels",e)}})})]})})})}),ie=z.memo(se),ce=C.Z.Column,de=[{label:"resources.table.total",key:"total",locale:!0,render:function(e){return(0,b.hy)(e,0)}},{label:"resources.table.used",key:"used",locale:!0,render:function(e){return(0,b.hy)(e,0)}},{label:"resources.table.allocated",key:"allocated",locale:!0,render:function(e){return(0,b.hy)(e,0)}}],ue=[{label:"common.button.edit",key:"edit",icon:(0,K.jsx)(j.Z,{})},{label:"common.button.delete",key:"delete",props:{danger:!0},icon:(0,K.jsx)(k.Z,{})}],me=function(e,n){return n&&e?P().round(e/n*100,0):0},pe=function(){var e=(0,y.Z)({fetchAPI:R.Sw,deleteAPI:R.lM,contentForDelete:"worker",watch:!0,API:R.JI}),n=e.dataSource,t=e.rowSelection,r=e.queryParams,l=e.modalRef,s=e.extraStatus,c=e.handleDelete,b=e.handleDeleteBatch,j=e.fetchData,k=e.handlePageChange,I=e.handleTableChange,L=e.handleSearch,A=e.handleNameChange,O=(0,M.useIntl)(),V=(0,z.useState)(!1),B=d()(V,2),D=B[0],W=B[1],F=(0,z.useState)({open:!1,data:{}}),U=d()(F,2),G=U[0],$=U[1],q=function(){W(!0)},J=(0,z.useCallback)(function(){var e=i()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,(0,R.Vq)(G.data.id,o()(o()({},G.data),{},{labels:n.labels}));case 4:S.ZP.success(O.formatMessage({id:"common.message.success"})),j(),$({open:!1,data:{}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),[G,j]),Y=(0,z.useCallback)((function(){$(o()(o()({},G),{},{open:!1}))}),[]),Q=function(e,n){"edit"!==e?"delete"===e&&c(n):function(e){$({open:!0,data:o()({},e)})}(n)},X=function(e){var n=P().find(e,(function(e){return"/"===e.mount_point}));return n?(0,K.jsx)(v.Z,{fieldList:de.filter((function(e){return"allocated"!==e.key})),data:n}):0};return(0,_.y1)(x.ZP.CREATE.join(","),q,{enabled:!D}),(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)(Z._z,{ghost:!0,header:{title:"Workers",style:{paddingInline:"var(--layout-content-header-inlinepadding)"},breadcrumb:{}},extra:[],children:[(0,K.jsx)(h.f,{marginBottom:22,marginTop:30,buttonText:O.formatMessage({id:"resources.button.create"}),handleDeleteByBatch:b,handleSearch:L,handleClickPrimary:q,handleInputChange:A,rowSelection:t,width:{input:300}}),(0,K.jsx)(T.ZP,{renderEmpty:function(e){if("Table"===e)return n.loading||!n.loadend||n.dataList.length?(0,K.jsx)("div",{}):(0,K.jsx)(N.Z,{image:N.Z.PRESENTED_IMAGE_SIMPLE})},children:(0,K.jsxs)(C.Z,{tableLayout:n.loadend?"auto":"fixed",style:{width:"100%"},dataSource:n.dataList,loading:n.loading,rowKey:"id",onChange:I,rowSelection:t,pagination:{showSizeChanger:!0,pageSize:r.perPage,current:r.page,total:n.total,hideOnSinglePage:10===r.perPage,onChange:k},children:[(0,K.jsx)(ce,{title:O.formatMessage({id:"common.table.name"}),dataIndex:"name",width:100,render:function(e,n){return(0,K.jsx)(u.Z,{ghost:!0,maxWidth:240,children:(0,K.jsx)("span",{children:n.name})})}},"name"),(0,K.jsx)(ce,{title:O.formatMessage({id:"resources.table.labels"}),dataIndex:"labels",width:200,render:function(e,n){return(0,K.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:P().map(n.labels,(function(e,n){return(0,K.jsxs)(u.Z,{className:"m-r-0",maxWidth:155,style:{paddingInline:8,borderRadius:12},children:[(0,K.jsx)("span",{children:n}),(0,K.jsxs)("span",{children:[":",e]})]},n)}))})}},"labels"),(0,K.jsx)(ce,{title:O.formatMessage({id:"common.table.status"}),dataIndex:"state",render:function(e,n){return(0,K.jsx)(g.Z,{maxTooltipWidth:400,statusValue:{status:H.i7[n.state],text:H.S7[n.state],message:n.state_message}})}},"state"),(0,K.jsx)(ce,{title:"IP",dataIndex:"ip"},"address"),(0,K.jsx)(ce,{title:"CPU",dataIndex:"CPU",render:function(e,n){var t;return(0,K.jsx)(f.Z,{percent:P().round(null==n||null===(t=n.status)||void 0===t||null===(t=t.cpu)||void 0===t?void 0:t.utilization_rate,0)})}},"CPU"),(0,K.jsx)(ce,{title:O.formatMessage({id:"resources.table.memory"}),dataIndex:"memory",render:function(e,n){var t,r;return(0,K.jsx)(f.Z,{percent:me(null==n||null===(t=n.status)||void 0===t||null===(t=t.memory)||void 0===t?void 0:t.used,null==n||null===(r=n.status)||void 0===r||null===(r=r.memory)||void 0===r?void 0:r.total),label:(0,K.jsx)(v.Z,{fieldList:de,data:n.status.memory})})}},"Memory"),(0,K.jsx)(ce,{title:"GPU",dataIndex:"GPU",render:function(e,n){var t;return(0,K.jsx)("span",{className:"flex-column flex-gap-2",children:P().map(P().sortBy((null==n||null===(t=n.status)||void 0===t?void 0:t.gpu_devices)||[],["index"]),(function(e,n){var t;return(0,K.jsxs)("span",{className:"flex-center",children:[(0,K.jsxs)("span",{className:"m-r-5",style:{display:"flex",width:25},children:["[",e.index,"]"]}),e.core?(0,K.jsx)(f.Z,{percent:P().round(null===(t=e.core)||void 0===t?void 0:t.utilization_rate,0)},n):"-"]},n)}))})}},"GPU"),(0,K.jsx)(ce,{title:O.formatMessage({id:"resources.table.vram"}),dataIndex:"VRAM",render:function(e,t,r){var a;return(0,K.jsx)("span",{className:"flex-column flex-gap-2",children:P().map(P().sortBy((null==t||null===(a=t.status)||void 0===a?void 0:a.gpu_devices)||[],["index"]),(function(e,t){var a,l,o,i;return(0,K.jsx)("span",{children:(0,K.jsxs)("span",{className:"flex-center",children:[(0,K.jsxs)("span",{className:"m-r-5",style:{display:"flex",width:25},children:["[",e.index,"]"]}),(0,K.jsx)(f.Z,{defaultOpen:0===r&&0===t&&n.loadend&&s.firstLoad,percent:null!==(a=e.memory)&&void 0!==a&&a.used?P().round(null===(l=e.memory)||void 0===l?void 0:l.utilization_rate,0):P().round((null===(o=e.memory)||void 0===o?void 0:o.allocated)/(null===(i=e.memory)||void 0===i?void 0:i.total)*100,0),label:(0,K.jsx)(v.Z,{fieldList:de,data:e.memory})},t),e.memory.is_unified_memory&&(0,K.jsx)(E.Z,{title:O.formatMessage({id:"resources.table.unified"}),children:(0,K.jsx)(w.Z,{className:"m-l-5",style:{color:"var(--ant-blue-5)"}})})]})},t)}))})}},"VRAM"),(0,K.jsx)(ce,{title:O.formatMessage({id:"resources.table.disk"}),dataIndex:"storage",render:function(e,n,t){var r,a,l;return(0,K.jsx)(f.Z,{percent:(a=null===(r=n.status)||void 0===r?void 0:r.filesystem,l=P().find(a,(function(e){return"/"===e.mount_point})),l?me(l.used,l.total):0),label:X(n.status.filesystem)})}},"storage"),(0,K.jsx)(ce,{title:O.formatMessage({id:"common.table.operation"}),render:function(e,n){return(0,K.jsx)(p.Z,{items:ue,onSelect:function(e){return Q(e,n)}})}},"operation")]})}),(0,K.jsx)(m.Z,{ref:l}),(0,K.jsx)(ne,{open:D,onCancel:function(){return W(!1)}}),(0,K.jsx)(ie,{open:G.open,onOk:J,onCancel:Y,data:{name:G.data.name,labels:G.data.labels}})]})})}}}]);