"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2695],{37963:function(e,n){n.Z={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1600}},56339:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ve}});var a,r,i,s,o=t(90228),l=t.n(o),c=t(26068),u=t.n(c),d=t(87999),f=t.n(d),g=t(15558),p=t.n(g),v=t(48305),h=t.n(v),m=t(53649),x=t.n(m),b=t(47820),k=t(62201),j=t(38551),y=t(85885),w=t(50959),A=t(97884),z=t(11527),C=A.ZP.div(a||(a=x()(["\n  display: flex;\n  justify-content: center;\n  margin-block: 16px;\n  opacity: 1;\n  transition: opacity 0.3s;\n  &.loading {\n    opacity: 0;\n    transition: opacity 0.3s ease-in-out;\n  }\n"]))),Z=function(e){var n=e.show,t=e.loading,a=e.loadMore,r=(0,j.useIntl)();return(0,z.jsx)(z.Fragment,{children:n?(0,z.jsx)(C,{className:t?"loading":"",children:(0,z.jsx)(y.ZP,{onClick:a,size:"middle",type:"text",icon:(0,z.jsx)(k.Z,{rotate:90}),children:r.formatMessage({id:"common.button.more"})})}):null})},N=t(62722),F=t(20369),P=t(32246),S=t(4881),q=t(56838),E=t(67581),L=t(40174),B=t(90468),V=t(8267),O=t(84682),M=t(99205),U=t(79416),I=t(32699),R=t.n(I),D=t(54713),Q=t(37963),X=t(54876),H=t(81745),Y=t(7922),G=t(49606),W=t(34682),K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAApBJREFUeF7tmzFPwkAUx+8ANZHBKImDcVAxTMbNwQ8gLn4QP4DOyOwHkNVP4KATLDiocXciIs4kqAtGsXD6ag6hQnvvpNDzXhNSEtrr/X/v/95dr5QzyzduuX5GAMgBjDEhxNHXLmcRjDJjLM85L3MQX6w4uYeGYNVGxwoG6VSMraU4y2YSeX5259Suas6KFco9IjeXYpf85LolbIm8N8jLc7EXfnD+JmyMvtRMAMgBlAJUA6gI0ihgMQHtYRCmkzuZuIsOvsNWqrTdfbHiGINUC0A2k+iKH6QUQJgCAQ0gSLwEAtPrws1H5J2AAqAqXqo2wQkoAMd7M+iIHl68o88Z5wnKAKDQ7W9PofsGaRDlu01lAFj7S1LWA4h6HVB2gG4KWF8D/g0AyGlsHYi6/UGTcgrIogYjgZz6+g0JJojXAqDiBFPEawOQEGAP6+vgCBjr5bOFKI/7XteiUwA9E4r4CQSAVoUNXBVeSMYYfOaTP0/3n5vfS5v3ddxijFEpAKLTi3FXvN9WrbeVQRgDYH0x4YrHbCogjACgI74XlB+IyAP4q/ggEJEGMErx3bXKeps9NTvuBzUTlIUH8hAqbm8jmLxUPTYM8YPcEOgAv8oLEAAGdugJghC2eHl96L8vABC/taq2DqhScYOEw++Ya6q0F3TMUAC6UQAQOhOSSYgfWgN0xXtpY1wx7sjLvv5ywKjE98KQtWJQ4VSd3QVZWff3PgBhiNft2LjO6wKwUXxfDdjdwD/2GleUwryO6wAY6oLusMLsxCTb5oVbR2DvsibZ4VFfm5dqwu4/SREAcgClANWAUVdWk9qDUcC294Xc+Ly2xOPsND+l1+ZMsmsYfSUHhEHVpDbJASZFK4y+Wu+AT2tYeGuEzy19AAAAAElFTkSuQmCC",T=t(8445),_=t(49280),J=t(1404),$=t(94899),ee=t(76808),ne=function(e){var n=e.gap,t=void 0===n?0:n,a=e.dataList,r=e.renderTag,i=(0,w.useRef)(null),s=(0,w.useState)({start:0,end:a.length}),o=h()(s,2),l=o[0],c=o[1],u=(0,w.useRef)(null),d=(0,w.useRef)(null),f=(0,w.useRef)(0),g=(0,w.useRef)([]),p=function(){var e,n,r,s=(null===(e=u.current)||void 0===e?void 0:e.offsetWidth)||0,o=null===(n=i.current)||void 0===n?void 0:n.childNodes,p=g.current;if(!p.length&&null!=o&&o.length&&(p=R().map(o,(function(e,n){return n===o.length-1?null==e?void 0:e.offsetWidth:(null==e?void 0:e.offsetWidth)+t})),g.current=p),0!==s&&p.length){var v;if(null!==(r=d.current)&&void 0!==r&&r.offsetWidth)f.current=(null===(v=d.current)||void 0===v?void 0:v.offsetWidth)+t;for(var h=0,m=a.length,x=0;x<p.length;x++){var b=p[x];if(h+f.current>=s){m=x-1<0?0:x-1;break}if((h+=b)>=s){m=x;break}}0===l.start&&l.end===m||c({start:0,end:m})}},v=function(e){var n;null===(n=e.domEvent)||void 0===n||n.stopPropagation()};(0,w.useEffect)((function(){i.current&&p()}),[a,t]);var m=R().throttle((function(){p()}),200);return(0,z.jsx)(W.Z,{onResize:m,children:(0,z.jsxs)("div",{className:"tags-wrapper",ref:u,children:[(0,z.jsx)(W.Z,{onResize:m,children:(0,z.jsx)("div",{className:"tags-content",ref:i,style:{gap:t},children:R().map(R().slice(a,l.start,l.end),(function(e,n){return(0,z.jsx)("span",{children:null==r?void 0:r(e)},n)}))})}),l.end<a.length&&(0,z.jsx)($.Z,{trigger:["hover"],overlayClassName:"tags-wrapper-dropdown",menu:{items:R().map(R().slice(a,l.end),(function(e,n){return{label:null==r?void 0:r(e),key:n,onClick:v}}))},children:(0,z.jsx)(ee.Z,{className:"more",style:{marginInline:l.end<1?0:"".concat(t,"px 0")},ref:d,children:(0,z.jsx)(J.Z,{rotate:90})})})]})})},te=w.memo(ne),ae=t(87443),re=t(87497),ie=t(82187),se=t.n(ie),oe=t(57989),le=function(e){var n,t,a=(0,j.useIntl)(),r=e.onClick,i=e.activeId,s=e.data,o=(0,w.useCallback)((function(){r(s)}),[s,r]);return(0,z.jsxs)("div",{onClick:o,className:se()("catalog-item",{active:i===s.id}),children:[(0,z.jsxs)("div",{className:"content",children:[(0,z.jsxs)("div",{className:"title",children:[(0,z.jsx)("div",{className:"img",children:(0,z.jsx)("img",{src:s.icon||K,alt:"",onError:function(e){e.target.src=K}})}),(0,z.jsx)(T.Z,{ghost:!0,style:{flex:1},children:s.name})]}),(0,z.jsx)(re.Z.Paragraph,{className:"desc",ellipsis:{rows:2,tooltip:(0,z.jsx)("div",{className:"custome-scrollbar",style:{display:"flex",justifyContent:"flex-start",maxHeight:300,maxWidth:300,overflow:"auto"},children:s.description})},children:s.description})]}),(0,z.jsxs)("div",{className:"item-footer",children:[(0,z.jsxs)("div",{className:"update-time",children:[(0,z.jsxs)("span",{className:"flex-center",title:a.formatMessage({id:"models.catalog.release.date"}),children:[(0,z.jsx)(_.Z,{type:"icon-new_release_outlined",className:"m-r-5",style:{color:"var(--ant-color-text-secondary)"}}),s.release_date]}),(0,z.jsx)("span",{className:"flex-center",children:R().map(s.licenses,(function(e,n){return(0,z.jsxs)("span",{className:"flex-center m-r-8",children:[(0,z.jsx)(_.Z,{type:"icon-justice1",className:"m-r-5"}),(0,z.jsx)("span",{children:e})]},e)}))})]}),(0,z.jsxs)("div",{className:"tags",children:[s.categories.map((function(e,n){var t;return(0,z.jsx)(ae.Z,{className:"tag-item",color:"blue",opacity:.7,children:(null===(t=R().find(oe._3,{value:e}))||void 0===t?void 0:t.label)||e},e)})),(null===(n=s.capabilities)||void 0===n?void 0:n.length)>0&&s.capabilities.map((function(e,n){return(0,z.jsx)(ae.Z,{className:"tag-item",color:"purple",opacity:.7,children:R().map(R().split(e,"/"),(function(e){return R().split(e,"_").join(" ")})).reverse().join(" ")},e)})),(null===(t=s.sizes)||void 0===t?void 0:t.length)>0&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("span",{className:"dot"}),(0,z.jsx)("div",{className:"box",children:(0,z.jsx)(te,{gap:8,dataList:s.sizes,renderTag:function(e){return(0,z.jsxs)(ae.Z,{className:"tag-item",opacity:.7,style:{marginRight:0,display:"flex",justifyContent:"center",alignItems:"center",padding:"2px 6px",borderRadius:4,fontSize:12,height:22},children:[e,"B"]},e)}})})]})]})]})]})},ce=w.memo(le),ue=t(45770),de=function(e){return(0,z.jsx)(H.Z,{gutter:[16,16],children:Array(6).fill(1).map((function(n,t){return(0,z.jsx)(Y.Z,{span:e.span,children:(0,z.jsx)(ue.Z,{avatar:{size:32},paragraph:{rows:2},style:{border:"1px solid var(--ant-color-border)",borderRadius:"var(--border-radius-base)",padding:"16px 16px"}})},t)}))})},fe=w.memo(de),ge=A.ZP.div(r||(r=x()(["\n  width: 100%;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  top: 0;\n  left: 0;\n  max-height: 400px;\n  right: 0;\n"]))),pe=function(e){var n=e.span,t=e.loading,a=e.isFirst;return(0,z.jsx)("div",{children:t&&(0,z.jsx)(ge,{children:(0,z.jsx)(X.Z,{spinning:t,style:{width:"100%"},wrapperClassName:"skelton-wrapper",children:a&&(0,z.jsx)(fe,{span:n})})})})},ve=function(e){var n=e.dataList,t=e.loading,a=e.activeId,r=e.isFirst,i=e.onDeploy,s=w.useState(8),o=h()(s,2),l=o[0],c=o[1],u=(0,w.useCallback)(R().throttle((function(e){var n;c((n=e.width)<Q.Z.md?24:n<Q.Z.lg?12:8)}),100),[]);return(0,z.jsxs)("div",{className:"relative",style:{width:"100%"},children:[(0,z.jsx)(W.Z,{onResize:u,children:(0,z.jsxs)("div",{children:[(0,z.jsx)(H.Z,{gutter:[16,16],children:n.map((function(e,n){return(0,z.jsx)(Y.Z,{span:l,children:(0,z.jsx)(ce,{onClick:i,activeId:a,data:e})},e.id)}))}),(0,z.jsx)(pe,{span:l,loading:t,isFirst:r})]})}),(0,z.jsx)(G.Z.BackTop,{visibilityHeight:1e3})]})},he=w.memo(ve),me=t(67768),xe=t(26545),be=t(33330),ke=t(43943),je=t(50209),ye=t(67303),we=t(2377),Ae=t(18752),ze=t(86660),Ce=["backend_version","backend_parameters","env","size","quantization"],Ze=A.ZP.div(i||(i=x()(["\n  display: flex;\n  flex: 1;\n  height: 100%;\n  maxwidth: 100%;\n"]))),Ne=[{label:"llama-box",value:oe.sk.llamaBox},{label:"vLLM",value:oe.sk.vllm},{label:"Ascend Mindie",value:oe.sk.ascendMindie},{label:"vox-box",value:oe.sk.voxBox}],Fe={F16:"FP16",f16:"FP16",F32:"FP32",f32:"FP32"},Pe=["Q4_K_M"],Se=["FP16","F16"],qe=["F16","FP16"],Ee=["Q8_0"],Le=function(e){var n=e||{},t=n.title,a=n.open,r=n.onOk,i=n.onCancel,s=n.source,o=n.action,c=n.current,d=n.width,g=void 0===d?600:d,p=(0,ye.Eg)(),v=p.setWarningStatus,m=p.handleDoEvalute,x=p.generateGPUIds,b=p.cancelEvaluate,k=p.submitAnyway,A=p.handleOnValuesChange,C=p.warningStatus,Z=(0,j.useIntl)(),N=(0,ye.W7)().getGPUList,F=(0,w.useRef)({}),P=(0,w.useState)([]),S=h()(P,2),q=S[0],E=S[1],L=(0,w.useState)(!1),B=h()(L,2),V=B[0],O=B[1],M=(0,w.useState)([]),U=h()(M,2),I=U[0],Q=U[1],X=(0,w.useState)([]),H=h()(X,2),Y=H[0],G=H[1],W=(0,w.useState)([]),K=h()(W,2),T=K[0],_=K[1],J=(0,w.useState)([]),$=h()(J,2),ee=$[0],ne=$[1],te=(0,w.useRef)({}),ae=(0,w.useRef)(null),re=(0,w.useRef)({}),ie=(0,w.useRef)([]),se=(0,w.useRef)(!1),le=function(){var e=f()(l()().mark((function e(){var n,t;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.current=!0,null===(n=F.current)||void 0===n||null===(t=n.submit)||void 0===t||t.call(n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e){var n=x(e);return u()(u()(u()({},R().omit(re.current,["name"])),e),n)},ue=function(e){return e.category===oe.Us.embedding||e.category===oe.Us.reranker?Se.includes(R().toUpper(e.quantOption)):e.backend===oe.sk.llamaBox&&(0,ye.lR)(q)?se.current?qe.includes(R().toUpper(e.quantOption)):Ee.includes(R().toUpper(e.quantOption)):Pe.includes(R().toUpper(e.quantOption))},de=function(e){var n=R().find(ie.current,(function(n){return e.size&&e.quantization?n.size===e.size&&n.backend===e.backend&&n.quantization===e.quantization:e.size?n.size===e.size&&n.backend===e.backend:e.quantization?n.quantization===e.quantization&&n.backend===e.backend:n.backend===e.backend}));return re.current=n,u()(u()({},R().pick(n,Ce)),{},{categories:R().get(c,"categories.0",null)})},fe=function(e){var n;re.current=e,null===(n=F.current)||void 0===n||n.setFieldsValue(u()(u()({},R().omit(e,["name"])),{},{categories:R().get(c,"categories.0",null)}))},ge=function(e){var n=R().groupBy(R().filter(ie.current,(function(n){return n.backend===e.backend})),"size"),t=R().keys(n).map((function(e){return{label:"".concat(e,"B"),value:R().toNumber(e)}})).filter((function(e){return e.value})),a=R().sortBy(t,"value");return _(a),a},pe=function(e){var n=R().filter(ie.current,(function(n){return n.size===e.size&&n.backend===e.backend})),t=R().map(n,(function(e){var n;return{label:null!==(n=Fe[e.quantization])&&void 0!==n?n:R().toUpper(e.quantization),value:e.quantization}})),a=R().uniqBy(t,"value");return ne(a),a},ve=function(){var e=R().groupBy(ie.current,"backend"),n=R().filter(Ne,(function(n){return e[n.value]}));return G(n),n},he=function(){var e=f()(l()().mark((function e(n){return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Le=function(){var e,n=null===(e=F.current)||void 0===e?void 0:e.getFieldsValue(),t=ce(n);he(t)},Be=function(e){var n,t;return(null===(n=R().find(e,(function(e){return e.value===F.current.getFieldValue("quantization")})))||void 0===n?void 0:n.value)||(null===(t=R().find(e,(function(e){return ue({category:R().get(c,"categories.0",""),quantOption:e.value,backend:F.current.getFieldValue("backend")})})))||void 0===t?void 0:t.value)||R().get(e,"0.value","")},Ve=function(){var n=f()(l()().mark((function n(t,a){var r;return l()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=u()(u()({},R().omit(re.current,["name"])),a),null==A||A({changedValues:t,allValues:r,source:e.source});case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),Oe=function(){var e=f()(l()().mark((function e(){var n,t,a,r,i,s,o,d,f;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(n=ae.current)||void 0===n||null===(t=n.cancel)||void 0===t||t.call(n),ae.current=(0,be.$i)(),e.next=5,(0,D.qX)({id:c.id},{token:ae.current.token});case 5:a=e.sent,r=R().groupBy(a.items,"source"),te.current=r,ie.current=a.items,i=R().filter(oe.YB,(function(e){return r[e.value]})),s=R().sortBy(a.items,"size"),se.current=R().some(a.items,(function(e){return qe.includes(R().toUpper(e.quantization))})),o=R().find(s,(function(e){return ue({category:R().get(c,"categories.0",""),quantOption:e.quantization,backend:e.backend})}))||R().get(a.items,"0",{}),re.current=o,Q(i),ve(),ge({backend:o.backend}),pe({size:o.size,backend:o.backend}),fe(o),d=R().toLower(c.name).replace(/\s/g,"-")||"",F.current.setFieldValue("name",d),o.backend===oe.sk.llamaBox?O(!0):O(!1),f=ce(u()(u()({},o),{},{categories:R().get(c,"categories.0",null),name:d})),he(f),e.next=28;break;case 26:e.prev=26,e.t0=e.catch(0);case 28:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=f()(l()().mark((function e(n){var t;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u()(u()({},R().omit(re.current,["name"])),n),r(t);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ue=function(){var e,n;null==i||i(),null===(e=ae.current)||void 0===e||null===(n=e.cancel)||void 0===n||n.call(e)},Ie=(0,w.useMemo)((function(){return C.show&&"success"!==C.type}),[C.show,C.type]);return(0,w.useEffect)((function(){return a&&Oe(),function(){var e,n;null===(e=ae.current)||void 0===e||null===(n=e.cancel)||void 0===n||n.call(e),b(),v({show:!1,title:"",message:[]})}}),[a,c]),(0,w.useEffect)((function(){N().then((function(e){E(e)}))}),[]),(0,z.jsx)(xe.Z,{title:(0,z.jsxs)("div",{className:"flex-between flex-center",children:[(0,z.jsx)("span",{style:{color:"var(--ant-color-text)",fontWeight:"var(--font-weight-medium)",fontSize:"var(--font-size-middle)"},children:t}),(0,z.jsx)(y.ZP,{type:"text",size:"small",onClick:Ue,children:(0,z.jsx)(ke.Z,{})})]}),open:a,onClose:Ue,destroyOnClose:!0,closeIcon:!1,maskClosable:!1,keyboard:!1,styles:{body:{height:"calc(100vh - 57px)",padding:"16px 0",overflowX:"hidden"},content:{borderRadius:"6px 0 0 6px"}},width:g,footer:!1,children:(0,z.jsx)(je.q3.Provider,{value:{isGGUF:V,byBuiltIn:!0,sizeOptions:T,quantizationOptions:ee,pageAction:o,onSizeChange:function(e){F.current.setFieldValue(oe.fx);var n=pe({backend:F.current.getFieldValue("backend"),size:e}),t=Be(n),a=de({backend:F.current.getFieldValue("backend"),size:e,quantization:t});F.current.setFieldsValue(u()(u()({},oe.fx),a)),Le()},onQuantizationChange:function(e){var n,t,a=de({backend:F.current.getFieldValue("backend"),size:F.current.getFieldValue("size"),quantization:e});F.current.setFieldsValue(u()(u()({},a),(t=null===(n=F.current)||void 0===n?void 0:n.getFieldsValue(),R().pick(t,Object.keys(oe.fx))))),Le()},onValuesChange:Ve},children:(0,z.jsx)(Ze,{children:(0,z.jsx)(we.Z,{paddingBottom:C.show?Array.isArray(C.message)?150:125:50,footer:(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Ae.Z,{showClose:!0,onClose:function(){v({show:!1,message:""})},warningStatus:C,contentStyle:{paddingInline:0}}),(0,z.jsx)(me.Z,{onCancel:Ue,onOk:function(){var e,n;null===(e=F.current)||void 0===e||null===(n=e.submit)||void 0===n||n.call(e)},showOkBtn:!Ie,extra:Ie&&(0,z.jsx)(y.ZP,{type:"primary",onClick:le,children:Z.formatMessage({id:"models.form.submit.anyway"})}),style:{padding:"16px 24px",display:"flex",justifyContent:"flex-end"}})]}),children:(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(ze.Z,{fields:[],source:s,action:o,selectedModel:{},onOk:Me,ref:F,isGGUF:V,sourceDisable:!1,backendOptions:Y,sourceList:I,gpuOptions:q,onBackendChange:function(e){e===oe.sk.llamaBox?O(!0):O(!1);var n,t,a=ge({backend:e}),r=(n=a,(null===(t=R().find(n,(function(e){return e.value===F.current.getFieldValue("size")})))||void 0===t?void 0:t.value)||R().get(n,"0.value",0)),i=pe({size:r,backend:e}),s=Be(i),o=de({backend:e,size:r,quantization:s});F.current.setFieldsValue(u()(u()({},oe.fx),o)),Le()},onSourceChange:function(e){var n=R().get(te.current,"".concat(e,".0"),{});fe(n),ge({backend:n.backend}),pe({size:n.size,backend:n.backend}),fe(n),Le()},onValuesChange:Ve})})})})})})},Be=A.ZP.div(s||(s=x()(["\n  display: none;\n  margin-block: 32px 16px;\n"]))),Ve=function(){var e=(0,j.useIntl)(),n=(0,P.Z)(),t=n.saveScrollHeight,a=n.restoreScrollHeight,r=(0,j.useNavigate)(),i=w.useState(-1),s=h()(i,2),o=(s[0],s[1]),c=w.useState(!0),d=h()(c,2),g=d[0],v=d[1],m=(0,w.useState)({dataList:[],loading:!1,total:0,totalPage:0}),x=h()(m,2),k=x[0],A=x[1],C=(0,w.useState)({page:1,perPage:24,search:"",categories:""}),I=h()(C,2),Q=I[0],X=I[1],H=(0,w.useState)({show:!1,width:600,current:{},source:oe.bI.huggingface_value}),Y=h()(H,2),G=Y[0],W=Y[1],K=(0,U.KO)(b.mj),T=h()(K,2),_=(T[0],T[1]),J=w.useRef([]),$=p()(oe._3.filter((function(e){return e.value}))),ee=((0,w.useCallback)((function(e){var n=e.search,t=e.categories;return J.current.filter((function(e){return n&&t?R().toLower(e.name).includes(n)&&e.categories.includes(t):n?R().toLower(e.name).includes(R().toLower(n)):!t||e.categories.includes(t)}))}),[J.current]),(0,w.useCallback)(function(){var e=f()(l()().mark((function e(n){var t,a,r,i;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u()(u()({},Q),n),!(k.loading||t.page>k.totalPage&&k.totalPage>0)){e.next=3;break}return e.abrupt("return");case 3:return A((function(e){return e.loading=!0,u()({},e)})),e.prev=4,a=u()({},R().pickBy(t,(function(e){return!!e}))),e.next=8,(0,D.vx)(a);case 8:r=e.sent,i=1===t.page?r.items:R().concat(k.dataList,r.items),A({dataList:i,loading:!1,total:r.pagination.total,totalPage:r.pagination.totalPage}),X(u()(u()({},Q),n)),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(4),J.current=[],A({dataList:[],loading:!1,total:k.total,totalPage:k.totalPage}),X(u()(u()({},Q),n));case 20:return e.prev=20,v(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[4,14,20,23]])})));return function(n){return e.apply(this,arguments)}}(),[Q,J.current])),ne=(0,w.useCallback)((function(e){t(),o(e.id),W({show:!0,source:oe.bI.huggingface_value,current:e,width:600})}),[]),te=(0,w.useCallback)(function(){var n=f()(l()().mark((function n(t){var a;return l()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,D.NY)({data:u()({},R().omit(t,["size","quantization"]))});case 3:a=n.sent,(0,S.jz)(S.Kh,!1),W(u()(u()({},G),{},{show:!1})),L.ZP.success(e.formatMessage({id:"common.message.success"})),_([a.id]),r("/models/deployments"),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}(),[G]),ae=(0,w.useCallback)((function(e,n){X(u()(u()({},Q),{},{page:e,perPage:n||10}))}),[Q]),re=R().debounce((function(e){ee(u()(u()({},Q),{},{page:1,search:e.target.value}))}),200);return(0,w.useEffect)((function(){ee()}),[]),(0,w.useEffect)((function(){var e=function(){var e=f()(l()().mark((function e(){var n;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.documentElement||document.body,n.scrollTop+n.clientHeight>=n.scrollHeight-20&&ee(u()(u()({},Q),{},{page:Q.page+1}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[ee]),(0,z.jsxs)(E._z,{ghost:!0,header:{title:e.formatMessage({id:"menu.modelCatalog"}),style:{paddingInline:"var(--layout-content-header-inlinepadding)"},breadcrumb:{}},extra:[],children:[(0,z.jsx)(N.Z,{marginBottom:22,left:(0,z.jsxs)(B.Z,{children:[(0,z.jsx)(V.Z,{placeholder:e.formatMessage({id:"common.filter.name"}),style:{width:230},size:"large",allowClear:!0,onClear:function(){return re({target:{value:""}})},onChange:re}),(0,z.jsx)(O.default,{allowClear:!0,showSearch:!1,placeholder:e.formatMessage({id:"models.filter.category"}),style:{width:180},size:"large",maxTagCount:1,onChange:function(e){ee(u()(u()({},Q),{},{page:1,categories:e}))},options:$}),(0,z.jsx)(y.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},icon:(0,z.jsx)(q.Z,{}),onClick:function(e){ee(u()(u()({},Q),{},{page:1}))}})]})}),(0,z.jsx)(he,{dataList:k.dataList,loading:k.loading,onDeploy:ne,activeId:-1,isFirst:g}),(0,z.jsx)(Z,{show:Q.page<k.totalPage,loading:k.loading,loadMore:function(){ee(u()(u()({},Q),{},{page:Q.page+1}))}}),(0,z.jsx)(Be,{children:(0,z.jsx)(M.Z,{hideOnSinglePage:100===Q.perPage,align:"end",defaultCurrent:1,total:k.total,pageSize:Q.perPage,showSizeChanger:!0,onChange:ae})}),(0,z.jsx)(Le,{open:G.show,action:F.Kd.CREATE,title:e.formatMessage({id:"models.button.deploy"}),source:G.source,width:G.width,current:G.current,onCancel:function(){W(u()(u()({},G),{},{show:!1})),a(),o(-1)},onOk:te})]})}}}]);