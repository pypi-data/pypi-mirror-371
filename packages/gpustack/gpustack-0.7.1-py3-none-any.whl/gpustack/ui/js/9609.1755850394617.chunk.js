"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9609],{38634:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(15558),a=t.n(r),c=t(48305),o=t.n(c),u=t(38551),s=t(32699),i=t.n(s),l=t(50959),p=t(19019),d=t(85885),v=t(39139),k=t(59186),f=t(23333),h=t(11527),g=function(e){var n=e.label,t=e.labelList,r=e.seperator,a=e.keyAddon,c=e.valueAddon,s=e.onChange,p=e.onDelete,g=e.onPaste,m=e.onBlur,b=(0,u.useIntl)(),y=(0,l.useState)(!1),w=o()(y,2),P=w[0],x=w[1];return(0,h.jsxs)("div",{className:"label-item",children:[(0,h.jsx)("div",{className:"label-key",children:null!=a?a:(0,h.jsx)(f.Z,{open:P,title:b.formatMessage({id:"resources.table.key.tips"}),children:(0,h.jsx)(v.Z.Input,{checkStatus:"success",label:b.formatMessage({id:"common.input.key"}),value:n.key,onChange:function(e){var t=e.target.value;null==s||s({key:t,value:n.value})},onBlur:function(e){return function(e,r){var a=e.target.value;i().filter(t,(function(e){return a&&a===e.key})).length>1?(x(!0),null==s||s({key:"",value:n.value}),setTimeout((function(){x(!1)}),1e3)):x(!1),null==m||m(e,r)}(e,"key")},onPaste:g})})}),r&&(0,h.jsx)("span",{className:"seprator",children:r}),(0,h.jsx)("div",{className:"label-value",children:null!=c?c:(0,h.jsx)(v.Z.Input,{checkStatus:n.value?"success":"",label:b.formatMessage({id:"common.input.value"}),value:n.value,onChange:function(e){var t=e.target.value;null==s||s({key:n.key,value:t})},onBlur:function(e){return null==m?void 0:m(e,"value")}})}),(0,h.jsx)(d.ZP,{size:"small",className:"btn",type:"default",shape:"circle",onClick:p,children:(0,h.jsx)(k.Z,{})})]})},m=l.memo(g),b=t(10850),y=function(e){e.labels;var n=e.labelList,t=e.onChange,r=e.onLabelListChange,c=e.onPaste,o=e.onBlur,s=e.onDelete,v=e.label,k=e.btnText,f=e.description,g=(0,u.useIntl)(),y=(0,l.useRef)(null),w=((0,l.useRef)(null),function(e){var n=i().reduce(e,(function(e,n){return n.key&&(e[n.key]=n.value),e}),{});null==t||t(n)}),P=function(e){var t=i().cloneDeep(n);t.splice(e,1),r(t),w(t),null==s||s(e)};return(0,h.jsx)(b.Z,{label:v,description:f,children:(0,h.jsxs)(h.Fragment,{children:[null==n?void 0:n.map((function(e,t){return(0,h.jsx)(m,{label:e,seperator:":",labelList:n,onDelete:function(){return P(t)},onChange:function(e){return function(e,t){var a=i().cloneDeep(n);a[e]=t,r(a),w(a)}(t,e)},onPaste:function(e){return null==c?void 0:c(e,t)},onBlur:function(e,n){return null==o?void 0:o(e,n,t)}},t)})),(0,h.jsx)("div",{className:"flex justify-center",children:(0,h.jsxs)(d.ZP,{ref:y,type:"text",block:!0,style:{marginTop:16,backgroundColor:"var(--ant-color-fill-secondary)"},onClick:function(){var e=[].concat(a()(n),[{key:"",value:""}]);r(e),w(e)},children:[(0,h.jsx)(p.Z,{className:"font-size-14"})," ",g.formatMessage({id:k||"common.button.addSelector"})]})})]})})},w=l.memo(y),P=function(e){var n=e.labels,t=e.onChange,r=e.onBlur,c=e.onDelete,s=e.label,p=e.btnText,d=e.description,v=(0,u.useIntl)(),k=(0,l.useState)({}),f=o()(k,2),g=f[0],m=f[1],b=(0,l.useState)([]),y=o()(b,2),P=y[0],x=y[1];(0,l.useEffect)((function(){if(!i().isEqual(n,g)){m(n||{});var e=i().map(i().keys(n),(function(e){return{key:e,value:n[e]}}));x(e)}}),[n]);var A=(0,l.useCallback)((function(e){x(e)}),[x]);return(0,h.jsx)(w,{label:s,btnText:p,description:null!=d?d:v.formatMessage({id:"models.form.keyvalue.paste"}),labels:g,labelList:P,onChange:function(e){m(e),null==t||t(e)},onLabelListChange:A,onPaste:function(e,n){var t=e.clipboardData.getData("text");if(t&&-1!==t.indexOf("=")){e.preventDefault();var r=t.split(/\r?\n/).map((function(e){return e.trim()})).filter((function(e){return e&&e.includes("=")})).map((function(e){var n=e.split("=").map((function(e){return e.trim()})),t=o()(n,2);return{key:t[0],value:t[1]}}));x((function(e){var t=a()(e);return t.splice.apply(t,[n,1].concat(a()(r))),t}))}},onBlur:r,onDelete:c})},x=l.memo(P)},10850:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(26068),a=t.n(r),c=t(67825),o=t.n(c),u=t(93692),s=t(50959),i="wrapper___VtpIn",l=t(11527),p=["children","label","description","labelExtra"],d=function(e){var n=e.children,t=e.label,r=e.description,c=e.labelExtra,d=o()(e,p);return(0,l.jsxs)("div",{className:i,children:[t&&(0,l.jsx)("span",{className:"label",children:(0,l.jsx)(u.Z,{label:t,description:r,labelExtra:c})}),s.isValidElement(n)?s.cloneElement(n,a()({},d)):n]})}},61555:function(e,n,t){t.d(n,{I7:function(){return i},JI:function(){return s},Pe:function(){return x},QV:function(){return b},Sw:function(){return p},Vq:function(){return g},bO:function(){return w},lM:function(){return f},m_:function(){return C},oz:function(){return v},qx:function(){return l}});var r=t(90228),a=t.n(r),c=t(87999),o=t.n(c),u=t(38551),s="/workers",i="/gpu-devices",l="/model-files";function p(e){return d.apply(this,arguments)}function d(){return(d=o()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(s),{methos:"GET",params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return k.apply(this,arguments)}function k(){return(k=o()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(i),{methos:"GET",params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=o()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(s,"/").concat(n),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,n){return m.apply(this,arguments)}function m(){return(m=o()(a()().mark((function e(n,t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(s,"/").concat(n),{method:"PUT",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=o()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)(l,{method:"GET",params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,n){return P.apply(this,arguments)}function P(){return(P=o()(a()().mark((function e(n,t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(l,"/").concat(n,"?cleanup=").concat(t.checked),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return A.apply(this,arguments)}function A(){return(A=o()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)(l,{method:"POST",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return T.apply(this,arguments)}function T(){return(T=o()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(l,"/").concat(n,"/reset"),{method:"POST"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},63878:function(e,n,t){t.d(n,{$F:function(){return p},Jq:function(){return i},KO:function(){return l},S7:function(){return u},i7:function(){return s},jX:function(){return o},no:function(){return v},w:function(){return d}});var r=t(82092),a=t.n(r),c=t(20369),o={ready:"ready",not_ready:"not_ready",unreachable:"unreachable"},u=a()(a()(a()({},o.ready,"Ready"),o.not_ready,"Not Ready"),o.unreachable,"Unreachable"),s=a()(a()(a()({},o.ready,c.iE.success),o.not_ready,c.iE.error),o.unreachable,c.iE.error),i={mac:{getToken:"cat /var/lib/gpustack/token",registerWorker:function(e){return"curl -sfL https://get.gpustack.ai | sh -s - --server-url ".concat(e.server," --token ").concat(e.token)}},win:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return"Invoke-Expression \"& { $((Invoke-WebRequest -Uri 'https://get.gpustack.ai' -UseBasicParsing).Content) } --server-url '".concat(e.server,"' --token '").concat(e.token,"'\"")}},cuda:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return"docker run -d --name gpustack \\\n    --restart=unless-stopped \\\n    --gpus all \\\n    --network=host \\\n    --ipc=host \\\n    -v gpustack-data:/var/lib/gpustack \\\n    gpustack/gpustack:".concat(e.tag," \\\n    --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},npu:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return"docker run -d --name gpustack \\\n    --restart=unless-stopped \\\n    --device /dev/davinci0 \\\n    --device /dev/davinci1 \\\n    --device /dev/davinci_manager \\\n    --device /dev/devmm_svm \\\n    --device /dev/hisi_hdc \\\n    -v /usr/local/dcmi:/usr/local/dcmi \\\n    -v /usr/local/bin/npu-smi:/usr/local/bin/npu-smi \\\n    -v /usr/local/Ascend/driver/lib64/:/usr/local/Ascend/driver/lib64/ \\\n    -v /usr/local/Ascend/driver/version.info:/usr/local/Ascend/driver/version.info \\\n    -v /etc/ascend_install.info:/etc/ascend_install.info \\\n    --network=host \\\n    --ipc=host \\\n    -v gpustack-data:/var/lib/gpustack \\\n    gpustack/gpustack:".concat(e.tag," \\\n    --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},npu310p:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return"docker run -d --name gpustack \\\n    --restart=unless-stopped \\\n    --device /dev/davinci0 \\\n    --device /dev/davinci1 \\\n    --device /dev/davinci_manager \\\n    --device /dev/devmm_svm \\\n    --device /dev/hisi_hdc \\\n    -v /usr/local/dcmi:/usr/local/dcmi \\\n    -v /usr/local/bin/npu-smi:/usr/local/bin/npu-smi \\\n    -v /usr/local/Ascend/driver/lib64/:/usr/local/Ascend/driver/lib64/ \\\n    -v /usr/local/Ascend/driver/version.info:/usr/local/Ascend/driver/version.info \\\n    -v /etc/ascend_install.info:/etc/ascend_install.info \\\n    --network=host \\\n    --ipc=host \\\n    -v gpustack-data:/var/lib/gpustack \\\n    gpustack/gpustack:".concat(e.tag,"-310p \\\n    --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},musa:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return"docker run -d --name gpustack \\\n    --restart=unless-stopped \\\n    --network=host \\\n    --ipc=host \\\n    -v gpustack-data:/var/lib/gpustack \\\n    gpustack/gpustack:".concat(e.tag," \\\n    --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},cpu:{getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return"docker run -d --name gpustack \\\n    --restart=unless-stopped \\\n    --network=host \\\n    -v gpustack-data:/var/lib/gpustack \\\n    gpustack/gpustack:".concat(e.tag," \\\n    --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},rocm:{registerWorker:function(e){return"docker run -d --name gpustack \\\n    --restart=unless-stopped \\\n    --device=/dev/kfd \\\n    --device=/dev/dri \\\n    --network=host \\\n    --ipc=host \\\n    --group-add video \\\n    --cap-add=SYS_PTRACE \\\n    --security-opt seccomp=unconfined \\\n    -v gpustack-data:/var/lib/gpustack \\\n    gpustack/gpustack:".concat(e.tag," \\\n    --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},dcu:{registerWorker:function(e){return"docker run -d --name gpustack \\\n    --restart=unless-stopped \\\n    --device=/dev/kfd \\\n    --device=/dev/mkfd \\\n    --device=/dev/dri \\\n    -v /opt/hyhal:/opt/hyhal:ro \\\n    --network=host \\\n    --ipc=host \\\n    --group-add video \\\n    --cap-add=SYS_PTRACE \\\n    --security-opt seccomp=unconfined \\\n    -v gpustack-data:/var/lib/gpustack \\\n    gpustack/gpustack:".concat(e.tag," \\\n    --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},corex:{registerWorker:function(e){return"docker run -d --name gpustack \\\n    -v /lib/modules:/lib/modules \\\n    -v /dev:/dev \\\n    --privileged \\\n    --cap-add=ALL \\\n    --pid=host \\\n    --restart=unless-stopped \\\n    --network=host \\\n    --ipc=host \\\n    -v gpustack-data:/var/lib/gpustack \\\n    gpustack/gpustack:".concat(e.tag," \\\n     --server-url ").concat(e.server," --token ").concat(e.token," --worker-ip ").concat(e.workerip)}},container:{getToken:"docker exec -it ${gpustack_container_id} cat /var/lib/gpustack/token"}},l=[{label:"NVIDIA CUDA",value:"cuda"},{label:"AMD ROCm",value:"rocm"},{label:"Ascend CANN",value:"npu"},{label:"Hygon DTK",value:"dcu"},{label:"Moore Threads MUSA",value:"musa"},{label:"Iluvatar Corex",value:"corex"},{label:"CPU",value:"cpu"}],p={Error:"error",Downloading:"downloading",Ready:"ready"},d=a()(a()(a()({},p.Error,"Error"),p.Downloading,"Downloading"),p.Ready,"Ready"),v=a()(a()(a()({},p.Ready,c.iE.success),p.Error,c.iE.error),p.Downloading,c.iE.transitioning)}}]);