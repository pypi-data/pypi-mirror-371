"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[732],{31079:function(e,n,t){var r,i,a=t(48305),o=t.n(a),l=t(53649),s=t.n(l),c=t(58258),u=t(17098),d=t(69070),f=t(38551),p=t(85885),h=t(96247),m=t(94899),g=t(91663),v=t(32699),x=t(50959),A=t(97884),y=t(8445),b=t(49280),j=t(11527),w=A.ZP.div(r||(r=s()(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 8px;\n  .ant-slider {\n    flex: 1;\n  }\n  .time {\n    color: var(--ant-color-text-tertiary);\n  }\n"]))),E=(0,g.kc)((function(e){var n=e.css,t=e.token.darkMode;return{wrapper:n(i||(i=s()(["\n      position: relative;\n      min-width: 360px;\n      height: 54px;\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      padding: 8px 10px;\n      background-color: ",";\n      border-radius: 28px;\n      .inner {\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        flex: 1;\n        gap: 8px;\n        .slider {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          flex: 1;\n          .ant-slider {\n            margin: 0;\n          }\n          &:hover {\n            .ant-slider-handle {\n              opacity: 1;\n              transition: opacity 0.3s ease-in-out;\n            }\n          }\n          &:focus-within {\n            .ant-slider-handle {\n              opacity: 1;\n            }\n          }\n        }\n\n        .ant-slider-handle {\n          opacity: 0;\n          &::before {\n            background-color: var(--ant-color-bg-spotlight);\n            border-radius: 50%;\n          }\n          &::after {\n            display: none;\n          }\n        }\n      }\n    "])),t?"var(--ant-color-fill-secondary)":"#F1F3F4")}})),C={rail:{borderRadius:"4px",backgroundColor:"var(--ant-color-fill-secondary)"},track:{borderRadius:"4px",backgroundColor:"var(--ant-color-bg-spotlight)"}},k=[{label:"1x",value:1},{label:"2x",value:2},{label:"3x",value:3},{label:"4x",value:4}],Q=(0,x.forwardRef)((function(e,n){var t=(0,f.useIntl)(),r=E().styles,i=e.autoplay,a=void 0!==i&&i,l=e.speed,s=void 0===l?1:l,g=e.actions,A=void 0===g?["delete"]:g,Q=e.name,Z=e.onDelete,I=x.useRef(null),B=x.useState({currentTime:0,duration:0}),N=o()(B,2),R=N[0],z=N[1],S=x.useState(!1),P=o()(S,2),M=P[0],U=P[1],F=x.useState(!1),J=o()(F,2),L=J[0],D=J[1],K=x.useState(1),H=o()(K,2),T=H[0],Y=H[1],W=x.useState(s),G=o()(W,2),O=G[0],q=G[1],X=x.useRef(null);(0,x.useImperativeHandle)(n,(function(){return{play:function(){var e;null===(e=I.current)||void 0===e||e.play()},pause:function(){var e;null===(e=I.current)||void 0===e||e.pause()}}}));(0,x.useCallback)((function(){D(!L)}),[L]);var V=(0,x.useCallback)((function(e){q(e),I.current.playbackRate=e}),[]),_=(0,x.useCallback)((function(){X.current=setInterval((function(){var e,n;z((function(e){var n,t;return{currentTime:Math.ceil((null===(n=I.current)||void 0===n?void 0:n.currentTime)||0),duration:e.duration||Math.ceil((null===(t=I.current)||void 0===t?void 0:t.duration)||0)}})),(null!==(e=I.current)&&void 0!==e&&e.paused||null!==(n=I.current)&&void 0!==n&&n.ended)&&(clearInterval(X.current),U(!1),z((function(e){var n;return{currentTime:null!==(n=I.current)&&void 0!==n&&n.ended?0:e.currentTime,duration:e.duration}})))}),500)}),[]),$=(0,x.useCallback)((function(){var e,n;(U(!M),M)?null===(e=I.current)||void 0===e||e.pause():null===(n=I.current)||void 0===n||n.play()}),[M]),ee=((0,x.useCallback)((function(e){I.current.volume=(0,v.round)(e,2),Y((0,v.round)(e,2))}),[]),(0,x.useCallback)((function(n){var t,r=Math.ceil((null===(t=I.current)||void 0===t?void 0:t.duration)||0);z({currentTime:0,duration:r&&r!==1/0?r:e.duration||0}),U(a)}),[a,e.duration])),ne=(0,x.useCallback)((function(e){I.current.currentTime=e,z((function(n){return{currentTime:e,duration:n.duration}}))}),[]),te=(0,x.useCallback)((function(){var n=e.url||"",t=e.name,r=document.createElement("a");r.href=n,r.download=t||"audio.mp3",document.body.appendChild(r),r.click(),r.remove()}),[e.url,e.name]),re=(0,x.useMemo)((function(){return[{key:"download",label:t.formatMessage({id:"common.button.download"}),icon:(0,j.jsx)(u.Z,{}),onClick:te},{key:"speed",label:t.formatMessage({id:"playground.params.speed"}),icon:(0,j.jsx)(b.Z,{type:"icon-play-speed"}),children:k.map((function(e){return{key:e.value,label:e.label,onClick:function(){return V(e.value)}}}))},{key:"delete",label:t.formatMessage({id:"common.button.delete"}),icon:(0,j.jsx)(d.Z,{}),danger:!0,onClick:function(){I.current&&(I.current.pause(),I.current.src="",I.current.load()),z({currentTime:0,duration:0}),U(!1),null==Z||Z()}}].filter((function(e){return A.includes(e.key)}))}),[A,t,te,Z,V]);return(0,x.useEffect)((function(){I.current&&I.current&&(I.current.volume=T,I.current.playbackRate=O)}),[I.current]),(0,x.useEffect)((function(){return function(){clearInterval(X.current)}}),[]),(0,j.jsxs)("div",{className:r.wrapper,style:{width:e.width||"100%",height:e.height||"60px",position:"relative"},children:[(0,j.jsxs)("div",{className:"inner",children:[(0,j.jsx)(p.ZP,{size:"middle",type:"text",onClick:$,shape:"circle",disabled:!(null!=R&&R.duration),icon:M?(0,j.jsx)(b.Z,{type:"icon-stopcircle-fill",style:{fontSize:"24px"}}):(0,j.jsx)(b.Z,{type:"icon-playcircle-fill",style:{fontSize:"24px"}})}),(0,j.jsxs)("div",{className:"slider",children:[(0,j.jsx)("div",{className:"flex-center flex-between file-name",children:(0,j.jsx)(y.Z,{ghost:!0,maxWidth:200,children:(0,j.jsx)("span",{children:Q})})}),(0,j.jsxs)(w,{children:[(0,j.jsx)("span",{className:"time",children:(0,c.mr)(R.currentTime)}),(0,j.jsx)(h.Z,{tooltip:{open:!1},min:0,step:1,styles:C,max:R.duration,value:R.currentTime,onChange:ne})]})]}),(0,j.jsx)(m.Z,{menu:{items:re},trigger:["click"],children:(0,j.jsx)(p.ZP,{icon:(0,j.jsx)(b.Z,{type:"icon-more"}),type:"text",size:"middle",shape:"circle"})})]}),(0,j.jsx)("audio",{crossOrigin:"anonymous",autoPlay:a,src:e.url,ref:I,preload:"metadata",style:{opacity:0,position:"absolute",left:"-9999px"},onPlay:_,onLoadedMetadata:ee})]})}));n.Z=x.memo(Q)},46818:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(26068),i=t.n(r),a=t(90228),o=t.n(a),l=t(87999),s=t.n(l),c=t(48305),u=t.n(c),d=t(35652),f=t(9288),p=t(82187),h=t.n(p),m=t(32699),g=t(34682),v=t(50959),x=t(67825),A=t.n(x),y=t(19289),b=t(17098),j=t(67201),w=t(90049),E=t(20027),C=t(84206),k=t(35502),Q=t(19729),Z=t(48980),I=t(90468),B=t(11527),N=["height","width","autoSize","preview"],R=function(e){var n=e.height,t=void 0===n?100:n,r=e.width,a=e.autoSize,l=e.preview,c=void 0===l||l,d=A()(e,N),f=(0,v.useState)(r||0),p=u()(f,2),h=p[0],g=p[1],x=(0,v.useState)(!1),R=u()(x,2),z=R[0],S=R[1],P=(0,v.useCallback)((function(e){return new Promise((function(n){var t=new Image;t.onload=function(){n({ratio:(0,m.round)(t.width/t.height,2)})},t.onerror=function(){n({ratio:1})},t.src=e}))}),[]),M=(0,v.useCallback)(s()(o()().mark((function n(){var r,i;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,P(e.src||"");case 4:if(r=n.sent,i=r.ratio,"number"!=typeof t){n.next=10;break}g(t*i),n.next=11;break;case 10:throw new Error("Height must be a number");case 11:case"end":return n.stop()}}),n)}))),[P,t,e.src]),U=(0,v.useCallback)((function(){var n=e.src||"",t=Date.now()+"",r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove()}),[e.src]),F=(0,v.useCallback)((function(){var n;null===(n=e.onLoad)||void 0===n||n.call(e),S(!1)}),[e.onLoad]),J=(0,v.useCallback)((function(){S(!0)}),[]);return(0,v.useEffect)((function(){M()}),[M]),(0,v.useEffect)((function(){g(r||0)}),[r]),(0,B.jsx)(Z.Z,i()(i()({},d),{},{height:z?"auto":t,width:z?"100%":h,onError:J,onLoad:F,fallback:"data:image/png;base64,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",crossOrigin:"anonymous",preview:c&&!z&&{mask:(0,B.jsx)(y.Z,{}),toolbarRender:function(e,n){var t=n.transform.scale,r=n.actions,i=r.onFlipY,a=r.onFlipX,o=r.onRotateLeft,l=r.onRotateRight,s=r.onZoomOut,c=r.onZoomIn,u=r.onReset;return(0,B.jsxs)(I.Z,{size:12,className:"toolbar-wrapper",children:[(0,B.jsx)(b.Z,{onClick:U}),(0,B.jsx)(j.Z,{rotate:90,onClick:i}),(0,B.jsx)(j.Z,{onClick:a}),(0,B.jsx)(w.Z,{onClick:o}),(0,B.jsx)(E.Z,{onClick:l}),(0,B.jsx)(C.Z,{disabled:1===t,onClick:s}),(0,B.jsx)(k.Z,{disabled:50===t,onClick:c}),(0,B.jsx)(Q.Z,{onClick:u})]})}}}))},z=v.memo(R),S=function(e){var n=e.editable,t=e.onDelete,r=e.onClick,a=e.autoSize,l=e.uid,c=e.loading,p=e.width,x=e.height,A=e.progress,y=e.maxHeight,b=e.maxWidth,j=e.dataUrl,w=void 0===j?"":j,E=e.label,C=e.style,k=e.autoBgColor,Q=e.preview,Z=void 0===Q||Q,I=e.loadingSize,N=void 0===I?"default":I,R=v.useRef(null),S=v.useState({width:p,height:x}),P=u()(S,2),M=P[0],U=P[1],F=v.useMemo((function(){return c?{width:"100%",height:"100%"}:{}}),[c,M]),J=(0,v.useCallback)((function(){null==r||r(e)}),[r,e]),L=(0,v.useCallback)((function(n){if(a&&n.width&&n.height){var t=n.width,r=n.height,i=e.width,o=e.height;if(i&&o){var l=t/i,s=r/o,c=Math.min(l,s,1),u=i*c,d=o*c;u===M.width&&d===M.height||U({width:u,height:d})}}}),[a,e.width,e.height]),D=v.useCallback(s()(o()().mark((function e(){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),[]);return(0,B.jsx)(g.Z,{onResize:L,children:(0,B.jsxs)("div",{style:i()({},C),className:h()("single-image",{"auto-bg-color":k,"auto-size":a,loading:c}),children:[k&&(0,B.jsx)("div",{className:"mask",style:{background:"url(".concat(w,") center center / cover no-repeat")}}),(0,B.jsxs)("span",{className:"thumb-img",style:i()({},F),ref:R,children:[(0,B.jsxs)(B.Fragment,{children:[E&&(0,B.jsx)("div",{className:"label",children:E}),c?(0,B.jsx)("span",{className:"progress-wrap",style:{width:"100%",height:"100%",display:"flex",border:"1px solid var(--ant-color-split)",borderRadius:"var(--border-radius-base)",justifyContent:"center",alignItems:"center",padding:"10px",overflow:"hidden"},children:(0,B.jsx)(f.Z,{percent:(0,m.round)(A,0),type:"dashboard",size:N,steps:{count:50,gap:2},format:function(){return(0,B.jsxs)("span",{className:"font-size-20",children:[(0,m.round)(A,0),"%"]})},trailColor:"var(--ant-color-fill-secondary)"})}):(0,B.jsxs)("span",{onClick:J,className:"img",style:{maxHeight:"min(".concat(y,", 100%)"),maxWidth:"min(".concat(b,", 100%)")},children:[(0,B.jsx)(z,{style:{objectFit:"cover"},preview:Z,autoSize:a,src:w,width:M.width||"100%",height:M.height||100,onLoad:D}),A&&A<100&&(0,B.jsx)("span",{className:"small-progress-wrap",children:(0,B.jsx)(f.Z,{percent:(0,m.round)(A,0),type:"dashboard",size:"small",steps:{count:25,gap:3},format:function(){return(0,B.jsxs)("span",{className:"font-size-12",children:[(0,m.round)(A,0),"%"]})},strokeColor:"var(--color-white-secondary)",trailColor:"var(--ant-color-fill-secondary)"})})]})]}),n&&(0,B.jsx)("span",{className:"del",onClick:function(){return t(l)},children:(0,B.jsx)(d.Z,{})})]})]},l)})}},8445:function(e,n,t){var r,i=t(26068),a=t.n(i),o=t(48305),l=t.n(o),s=t(67825),c=t.n(s),u=t(53649),d=t.n(u),f=t(43943),p=t(76808),h=t(32699),m=t(50959),g=t(97884),v=t(62605),x=t(11527),A=["children","maxWidth","minWidth","ghost","title","showTitle","tooltipProps","radius","filled"],y=(0,g.ZP)(p.Z)(r||(r=d()(["\n  &.tag-filled {\n    border: none;\n    background-color: var(--ant-color-fill-secondary);\n  }\n"]))),b=function(e){var n=e.children,t=e.maxWidth,r=void 0===t?"100%":t,i=e.minWidth,o=e.ghost,s=void 0!==o&&o,u=e.title,d=e.showTitle,p=void 0!==d&&d,g=e.tooltipProps,b=e.radius,j=void 0===b?12:b,w=e.filled,E=void 0!==w&&w,C=c()(e,A),k=(0,m.useRef)(null),Q=(0,m.useState)(!1),Z=l()(Q,2),I=Z[0],B=Z[1],N=(0,m.useRef)(null),R=(0,m.useCallback)((function(){if(k.current){var e=k.current,n=e.scrollWidth,t=e.clientWidth;B(n>t)}}),[k.current]);(0,m.useEffect)((function(){var e,n,t=k.current;if(t)return null===(e=N.current)||void 0===e||e.disconnect(),N.current=new ResizeObserver((function(){R()})),null===(n=N.current)||void 0===n||n.observe(t),R(),function(){var e;null===(e=N.current)||void 0===e||e.disconnect(),N.current=null}}),[R]),(0,m.useEffect)((function(){var e=(0,h.throttle)(R,200);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),e.cancel()}}),[R]),(0,m.useEffect)((function(){R()}),[n,R]);var z=(0,m.useMemo)((function(){return a()({maxWidth:r,minWidth:i,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},C.style)}),[r,C.style]);return(0,x.jsx)(v.$R,{toolTipProps:a()(a()({},g),{},{destroyTooltipOnHide:!1}),title:!(!I&&!p)&&(u||n),children:s?(0,x.jsx)("div",{ref:k,style:z,"data-overflow":I,children:n}):(0,x.jsx)(y,a()(a()({},C),{},{className:"".concat(C.className||""," ").concat(E?"tag-filled":""),ref:k,style:a()(a()({},z),{},{paddingInline:C.closable?"8px 22px":8,borderRadius:j}),closeIcon:!!C.closable&&(0,x.jsx)(f.Z,{style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)"}}),children:n}))})};n.Z=m.memo(b)},62605:function(e,n,t){t.d(n,{$R:function(){return x}});var r,i=t(67825),a=t.n(i),o=t(26068),l=t.n(o),s=t(53649),c=t.n(s),u=t(38780),d=t(23333),f=t(50959),p=t(97884),h=t(11527),m=["overlayInnerStyle"],g=p.ZP.div(r||(r=c()(["\n  max-height: ",";\n  overflow-y: auto;\n  width: 100%;\n"])),(function(e){var n=e.$maxHeight;return"number"==typeof n?"".concat(n,"px"):n})),v=function(e){var n=e.children,t=e.maxHeight,r=e.scrollbars,i=e.oppositeTheme,a=e.style,o=f.useRef(null),s=(0,u.Z)({options:{scrollbars:r,oppositeTheme:i}}).initialize;return f.useEffect((function(){o.current&&s(o.current)}),[]),(0,h.jsx)(g,{ref:o,"data-overlayscrollbars-initialize":!0,className:"overlay-scroller-wrapper",$maxHeight:t||200,hidden:!1,style:l()({paddingInlineStart:8,paddingInlineEnd:8},a),children:n})},x=function(e){var n=e.children,t=e.maxHeight,r=e.title,i=e.toolTipProps,o=e.scrollbars,s=e.oppositeTheme,c=i||{},u=c.overlayInnerStyle,f=a()(c,m);return(0,h.jsx)(d.Z,l()(l()({overlayInnerStyle:l()({paddingInline:0},u),title:r&&(0,h.jsx)(v,{scrollbars:l()(l()({},o),{},{theme:"os-theme-light"}),maxHeight:t,oppositeTheme:s,children:r})},f),{},{children:n}))};n.ZP=v},78734:function(e,n,t){var r=t(48305),i=t.n(r),a=t(89234),o=t(38551),l=t(40174),s=t(23333),c=t(30898),u=t(85885),d=t(50959),f=t(58258),p=t(11527),h=function(e){var n,t=l.ZP.useMessage(),r=i()(t,2),d=r[0],h=r[1],m=e.icon,g=(e.accept,e.type,e.size),v=void 0===g?"large":g,x=e.shape,A=void 0===x?"circle":x,y=(0,o.useIntl)();return(0,p.jsxs)(s.Z,{overlayInnerStyle:{maxWidth:290,width:"max-content"},title:y.formatMessage({id:"playground.audio.uploadfile.tips"},{formats:e.accept}),children:[(0,p.jsx)(c.Z,{beforeUpload:function(e){return!1},onChange:function(n){var t,r;(r=n.file,e.maxFileSize&&r.size>e.maxFileSize&&(d.open({type:"warning",content:y.formatMessage({id:"playground.uploadfile.sizeError"},{size:"".concat((0,f.hy)(e.maxFileSize))})}),1))||(null===(t=e.onChange)||void 0===t||t.call(e,n))},accept:e.accept,multiple:!1,maxCount:1,showUploadList:!1,fileList:[],children:(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:16},children:(0,p.jsx)(u.ZP,{size:v,icon:null!=m?m:(0,p.jsx)(a.Z,{}),type:null!==(n=e.type)&&void 0!==n?n:"text",shape:A})})}),h]})};n.Z=d.memo(h)},88479:function(e,n,t){t.d(n,{Z:function(){return Y}});var r,i,a=t(90228),o=t.n(a),l=t(15558),s=t.n(l),c=t(87999),u=t.n(c),d=t(26068),f=t.n(d),p=t(48305),h=t.n(p),m=t(53649),g=t.n(m),v=t(31079),x=t(49280),A=t(78734),y=t(82344),b=t(10232),j=t(67201),w=t(44896),E=t(51076),C=t(77353),k=t(38551),Q=t(8267),Z=t(85885),I=t(76571),B=t(83603),N=t(23333),R=t(32699),z=t.n(R),S=t(50959),P=t(94299),M=t(97884),U=t(1731),F=t(42326),J=t(76574),L=t(11527),D=M.ZP.div(r||(r=g()(["\n  padding-block: 10px;\n  height: max-content;\n  width: max-content;\n  audio {\n    padding-top: 10px;\n  }\n"]))),K=M.ZP.div.attrs({className:"custom-scrollbar-horizontal"})(i||(i=g()(["\n  display: flex;\n  overflow-x: auto;\n  width: 100%;\n  flex-direction: column;\n"]))),H=[{label:"2 columns",icon:"icon-cols_2",value:{span:12,count:2},tips:"playground.toolbar.compare2Model"},{label:"3 columns",icon:"icon-cols_3",value:{span:8,count:3},tips:"playground.toolbar.compare3Model"},{label:"4 columns",icon:"icon-cols_4",value:{span:12,count:4},tips:"playground.toolbar.compare4Model"},{label:"6 columns",icon:"icon-cols_6",value:{span:8,count:6},tips:"playground.toolbar.compare6Model"}],T=(0,S.forwardRef)((function(e,n){var t,r,i=e.handleSubmit,a=e.handleAbortFetch,l=e.clearAll,c=e.updateLayout,d=e.addMessage,p=e.onCheck,m=e.onInputChange,g=e.title,R=e.loading,M=e.disabled,T=e.isEmpty,Y=e.submitIcon,W=e.placeholer,G=e.defaultChecked,O=void 0===G||G,q=e.tools,X=e.style,V=e.checkLabel,_=e.defaultSize,$=void 0===_?{minRows:3,maxRows:8}:_,ee=e.shouldResetMessage,ne=void 0===ee||ee,te=e.actions,re=void 0===te?["clear","layout","role","upload","add","paste"]:te,ie=Q.Z.TextArea,ae=(0,k.useIntl)(),oe=(0,S.useState)(!1),le=h()(oe,2),se=le[0],ce=le[1],ue=(0,S.useState)({role:U.G7.User,content:"",imgs:[]}),de=h()(ue,2),fe=de[0],pe=de[1],he=(0,S.useRef)(0),me=(0,S.useRef)(null),ge=function(){return he.current+=1,he.current},ve=(0,S.useMemo)((function(){var e,n;return!!M||!fe.content&&T&&!(null!==(e=fe.imgs)&&void 0!==e&&e.length)&&!(null!==(n=fe.audio)&&void 0!==n&&n.length)}),[M,fe,T]),xe=function(){pe({role:fe.role,content:"",imgs:[]})},Ae=function(e){var n;null==m||m(e),pe(f()(f()({},fe),{},{content:null===(n=e.target)||void 0===n?void 0:n.value}))},ye=function(){i(f()({},fe)),ne&&xe()},be=function(e){null==e||e.preventDefault(),null==d||d(f()({},fe)),xe(),ce(!0),setTimeout((function(){var e,n;null===(e=me.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e)}),100)},je=(0,S.useCallback)(function(){var e=u()(o()().mark((function e(n){var t,r,i,a,l,c,u;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.clipboardData||window.clipboardData,r=t.items,i=[],a=o()().mark((function e(){var n,t,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"file"===(n=r[l]).kind&&-1!==n.type.indexOf("image")?(t=n.getAsFile(),a=new Promise((function(e,n){var r=new FileReader;r.onload=function(t){var r,i=null===(r=t.target)||void 0===r?void 0:r.result;i?e(i):n("Failed to convert image to base64")},r.readAsDataURL(t)})),i.push(a)):n.kind;case 2:case"end":return e.stop()}}),e)})),l=0;case 5:if(!(l<r.length)){e.next=10;break}return e.delegateYield(a(),"t0",7);case 7:l++,e.next=5;break;case 10:return e.prev=10,e.next=13,Promise.all(i);case 13:(c=e.sent).length&&(u=z().map(c,(function(e){return ge(),{uid:he.current,dataUrl:e}})),pe(f()(f()({},fe),{},{imgs:[].concat(s()(fe.imgs||[]),s()(u))}))),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(n){return e.apply(this,arguments)}}(),[fe]),we=function(){var e=u()(o()().mark((function e(n){var t,r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.lH)(n.file);case 3:return t=e.sent,e.next=6,(0,b.a5)(n.file);case 6:r=e.sent,pe((function(e){return f()(f()({},e),{},{audio:[{uid:ge(),format:b.jH[n.file.type],base64:t.split(",")[1],data:z().pick(r,["url","name","duration"])}]})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),Ee=function(e){if(e.key===y.d4.ENTER.keybinding){if(e.shiftKey)return;e.preventDefault(),R||ye()}};return(0,S.useImperativeHandle)(n,(function(){return{handleInputChange:Ae}})),(0,P.y1)(y.ZP.ADD,(function(e){e.preventDefault(),e.stopPropagation(),be()}),{enabled:!R,enableOnFormTags:se,preventDefault:!0}),(0,P.y1)(y.ZP.FOCUS,(function(){var e,n;null===(e=me.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e,{cursor:"end"})}),{preventDefault:!0}),(0,L.jsxs)("div",{className:"messageInput",style:f()({},X),children:[(0,L.jsxs)("div",{className:"tool-bar",children:[(0,L.jsxs)("div",{className:"actions",children:[g&&(0,L.jsx)("span",{className:"font-500",children:g}),re.includes("role")&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Z.ZP,{type:"text",size:"middle",variant:"filled",color:"default",onClick:function(){pe(f()(f()({},fe),{},{role:fe.role===U.G7.User?U.G7.Assistant:U.G7.User}))},icon:(0,L.jsx)(j.Z,{rotate:90}),children:ae.formatMessage({id:"playground.".concat(fe.role)})}),(0,L.jsx)(I.Z,{type:"vertical",style:{margin:0}})]}),re.includes("check")&&(0,L.jsx)(B.Z,{onChange:p,defaultChecked:O,children:V}),re.includes("upload")&&fe.role===U.G7.User&&(0,L.jsx)(J.Z,{handleUpdateImgList:function(e){pe(f()(f()({},fe),{},{imgs:[].concat(s()(fe.imgs||[]),s()(e))}))},size:"middle"}),re.includes("upload")&&fe.role===U.G7.User&&(0,L.jsx)(A.Z,{maxFileSize:1048576,type:"text",accept:".mp3,.wav",size:"middle",shape:"default",icon:(0,L.jsx)(w.Z,{}),onChange:we}),q,re.includes("clear")&&(0,L.jsx)(N.Z,{title:ae.formatMessage({id:"common.button.clear"}),children:(0,L.jsx)(Z.ZP,{disabled:R,type:"text",icon:(0,L.jsx)(E.Z,{}),size:"middle",onClick:function(e){e.stopPropagation(),l()}})}),re.includes("layout")&&c&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(I.Z,{type:"vertical",style:{margin:0}}),H.map((function(e){return(0,L.jsx)(N.Z,{title:ae.formatMessage({id:e.tips}),children:(0,L.jsx)(Z.ZP,{type:"text",icon:(0,L.jsx)(x.Z,{type:e.icon}),size:"middle",onClick:function(){return n=e.value,void(null==c||c(n));var n}},e.icon)},e.icon)}))]})]}),(0,L.jsxs)("div",{className:"actions",children:[re.includes("add")&&(0,L.jsx)(N.Z,{title:(0,L.jsxs)("span",{children:["[",y.d4.ADD.textKeybinding,"]"," ",ae.formatMessage({id:"common.button.add"})]}),children:(0,L.jsx)(Z.ZP,{type:"default",size:"middle",onClick:be,children:ae.formatMessage({id:"common.button.add"})})}),R?(0,L.jsx)(Z.ZP,{style:{width:46},type:"primary",onClick:function(){a()},size:"middle",icon:(0,L.jsx)(x.Z,{type:"icon-stop1",className:"font-size-14"})}):(0,L.jsx)(N.Z,{title:(0,L.jsxs)("span",{children:["[",y.d4.SUBMIT.textKeybinding,"]"," ",ae.formatMessage({id:"common.button.submit"})]}),children:(0,L.jsx)(Z.ZP,{style:{width:46},type:"primary",onClick:ye,size:"middle",disabled:ve,children:null!=Y?Y:(0,L.jsx)(C.Z,{rotate:0,className:"font-size-14"})})})]})]}),(0,L.jsxs)(K,{children:[(0,L.jsx)(F.Z,{style:{paddingBlockEnd:0},dataList:fe.imgs||[],onDelete:function(e){var n=z().filter(fe.imgs,(function(n){return n.uid!==e}));pe(f()(f()({},fe),{},{imgs:n}))},editable:!0}),fe.audio&&fe.audio.length>0&&(0,L.jsx)(D,{children:(0,L.jsx)(v.Z,{url:null===(t=fe.audio)||void 0===t||null===(t=t[0].data)||void 0===t?void 0:t.url,name:null===(r=fe.audio)||void 0===r||null===(r=r[0].data)||void 0===r?void 0:r.name,height:50,onDelete:function(){pe(f()(f()({},fe),{},{audio:[]}))}})})]}),(0,L.jsxs)("div",{className:"input-box",children:[re.includes("paste")?(0,L.jsx)(ie,{ref:me,autoSize:{minRows:$.minRows,maxRows:$.maxRows},onKeyDown:Ee,onChange:Ae,value:fe.content,size:"large",variant:"borderless",onFocus:function(){return ce(!0)},onBlur:function(){return ce(!1)},onPaste:function(e){e.clipboardData.getData("text")||(e.preventDefault(),je(e))}}):(0,L.jsx)(ie,{ref:me,autoSize:{minRows:$.minRows,maxRows:$.maxRows},onKeyDown:Ee,onChange:Ae,value:fe.content,size:"large",variant:"borderless",onFocus:function(){return ce(!0)},onBlur:function(){return ce(!1)}}),!fe.content&&!se&&(0,L.jsx)("span",{className:"holder",dangerouslySetInnerHTML:{__html:null!=W?W:ae.formatMessage({id:"playground.input.holder"})}})]})]})})),Y=T},42326:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(26068),i=t.n(r),a=t(46818),o=t(81745),l=t(7922),s=t(32699),c=t.n(s),u=t(50959),d=t(11527),f=function(e){e.layout;var n=e.column,t=void 0===n?2:n,r=e.dataList,s=e.editable,f=e.responseable,p=e.gutter,h=e.onDelete,m=e.onClick,g=e.autoBgColor,v=e.autoSize,x=e.style,A=(0,u.useCallback)((function(e){null==h||h(e)}),[h]),y=(0,u.useCallback)((function(e){null==m||m(e)}),[m]),b=(0,u.useMemo)((function(){return f?1===r.length?{0:{justifyContent:"center",alignItems:"center"}}:2===r.length?{0:{justifyContent:"flex-end",alignItems:"center"},1:{justifyContent:"flex-start",alignItems:"center"}}:3===r.length?{0:{justifyContent:"flex-end",alignItems:"flex-end"},1:{justifyContent:"flex-start",alignItems:"flex-end"},2:{justifyContent:"flex-end",alignItems:"flex-start"}}:{0:{justifyContent:"flex-end",alignItems:"flex-end"},1:{justifyContent:"flex-start",alignItems:"flex-end"},2:{justifyContent:"flex-end",alignItems:"flex-start"},3:{justifyContent:"flex-start",alignItems:"flex-start"}}:{}}),[r.length,f,t]);return(0,d.jsx)(d.Fragment,{children:null!=r&&r.length?(0,d.jsx)("div",{className:"thumb-list-wrap",style:i()({},x),children:f?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Z,{gutter:p||[],className:"flex-center",style:{height:r.length>t?"50%":"100%",flex:"none",width:"100%",justifyContent:1===r.length?"center":"flex-start"},children:c().map(c().slice(r,0,t),(function(e,n){return(0,d.jsx)(l.Z,{span:e.span,className:"flex-center justify-center",style:{height:"100%",width:"100%"},children:(0,d.jsx)(a.Z,i()(i()({},e),{},{preview:e.preview,style:i()({},b[n]||{}),loading:e.loading,autoSize:v,editable:s,autoBgColor:g,onDelete:A,onClick:function(){return y(e)}}))},"1-".concat(n))}))}),r.length>t&&(0,d.jsx)(o.Z,{gutter:p||[],style:{height:"50%",flex:"none",width:"100%",justifyContent:1===r.length?"center":"flex-start"},className:"flex-center",children:c().map(c().slice(r,2),(function(e,n){return(0,d.jsx)(l.Z,{span:e.span,className:"flex-center justify-center",style:{height:"100%",width:"100%"},children:(0,d.jsx)(a.Z,i()(i()({},e),{},{preview:e.preview,style:i()({},b[n+2]||{}),loading:e.loading,autoSize:v,editable:s,autoBgColor:g,onDelete:A,onClick:function(){return y(e)}}))},"2-".concat(n))}))})]}):(0,d.jsx)(d.Fragment,{children:c().map(r,(function(e){return(0,u.createElement)(a.Z,i()(i()({},e),{},{preview:e.preview,key:e.uid,autoSize:v,editable:s,autoBgColor:g,onDelete:A,onClick:function(){return y(e)}}))}))})}):null})},p=u.memo(f)},76574:function(e,n,t){var r=t(90228),i=t.n(r),a=t(87999),o=t.n(a),l=t(56642),s=t(38551),c=t(30898),u=t(23333),d=t(85885),f=t(32699),p=t(50959),h=t(11527),m=["image/png","image/jpg","image/jpeg"],g=function(e){var n=e.handleUpdateImgList,t=e.multiple,r=void 0===t||t,a=e.drag,g=void 0!==a&&a,v=e.disabled,x=void 0!==v&&v,A=e.children,y=e.icon,b=e.title,j=e.accept,w=void 0===j?m.join(","):j,E=e.size,C=void 0===E?"small":E,k=(0,s.useIntl)(),Q=(0,p.useRef)(null),Z=(0,p.useCallback)((function(e){return new Promise((function(n){var t=new Image;t.onload=function(){n({rawWidth:(0,f.round)(t.width,0),rawHeight:(0,f.round)(t.height,0)})},t.onerror=function(){n({rawWidth:0,rawHeight:0})},t.src=e}))}),[]),I=(0,p.useCallback)((function(e){return new Promise((function(n,t){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return n(r.result)},r.onerror=function(e){return t(e)}}))}),[]),B=(0,p.useCallback)((0,f.debounce)((function(e){n(e)}),300),[n,k]),N=(0,p.useCallback)(function(){var e=o()(i()().mark((function e(n){var t,r,a;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.fileList,e.next=3,Promise.all(t.map(function(){var e=o()(i()().mark((function e(n){var t,r,a,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.originFileObj||n.url){e.next=12;break}return e.next=3,I(n.originFileObj);case 3:return t=e.sent,e.next=6,Z(t);case 6:r=e.sent,a=r.rawWidth,o=r.rawHeight,n.url=t,n.rawWidth=a,n.rawHeight=o;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:(r=e.sent).length>0&&(a=r.filter((function(e){return e.url})).map((function(e){return{dataUrl:e.url,uid:e.uid,rawWidth:e.rawWidth,rawHeight:e.rawHeight}})),B(a));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[B,I]);return(0,h.jsx)(h.Fragment,{children:g?(0,h.jsx)(c.Z.Dragger,{ref:Q,accept:w,multiple:r,action:"/",fileList:[],beforeUpload:function(e){return!1},onChange:N,children:null!=A?A:(0,h.jsx)(u.Z,{title:null!=b?b:k.formatMessage({id:"playground.img.upload"}),children:(0,h.jsx)(d.ZP,{disabled:x,size:C,type:"text",icon:null!=y?y:(0,h.jsx)(l.Z,{})})})}):(0,h.jsx)(c.Z,{ref:Q,accept:w,multiple:r,action:"/",fileList:[],beforeUpload:function(e){return!1},onChange:N,children:null!=A?A:(0,h.jsx)(u.Z,{title:null!=b?b:k.formatMessage({id:"playground.img.upload"}),children:(0,h.jsx)(d.ZP,{disabled:x,size:C,type:"text",icon:null!=y?y:(0,h.jsx)(l.Z,{})})})})})};n.Z=p.memo(g)},10232:function(e,n,t){t.d(n,{a5:function(){return h},jH:function(){return d},lH:function(){return f}});var r=t(26068),i=t.n(r),a=t(90228),o=t.n(a),l=t(87999),s=t.n(l),c=t(40174),u=t(58258),d={"audio/wav":"wav","audio/mp3":"mp3","audio/mpeg":"mp3","audio/x-wav":"wav"},f=function(e){return new Promise((function(n,t){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return n(r.result)},r.onerror=function(e){return t(e)}}))},p=function(){var e=s()(o()().mark((function e(n,t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){try{var i=new Blob([n],{type:t}),a=(0,u.hy)(i.size),o=document.createElement("audio"),l=URL.createObjectURL(i);o.src=l,o.addEventListener("loadedmetadata",(function(){var n=o.duration;e({data:i,size:a,type:t,duration:Math.ceil(n),url:l})})),o.addEventListener("ended",(function(){URL.revokeObjectURL(o.src)})),o.addEventListener("error",(function(){URL.revokeObjectURL(l),c.ZP.error("Failed to load audio metadata invalid file"),r(new Error("Failed to load audio metadata invalid file"))}))}catch(e){r(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),h=function(){var e=s()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var r=new FileReader;r.onload=function(){var r=s()(o()().mark((function r(a){var l,s;return o()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l=a.target.result,r.next=5,p(l,n.type);case 5:s=r.sent,e(i()(i()({},s||{}),{},{name:n.name})),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),t(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}(),r.onerror=function(e){return t(e)},r.readAsArrayBuffer(n)})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},76223:function(){}}]);