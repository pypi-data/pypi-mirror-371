[build-system]
requires = ["setuptools>=80.9.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "osducli"
dynamic = ["version", "readme"]
description = "OSDU command line"
license = "Apache-2.0"
requires-python = ">= 3.12"

authors = [
    { name = "Equinor ASA", email = "mhew@equinor.com" }
]

classifiers = [
        "Development Status :: 3 - Alpha",
        "Environment :: Console",
        "Natural Language :: English",
        "Programming Language :: Python :: 3.13",
]

keywords = ["osdu"]

dependencies = [
    "click",
    "jmespath",
    "osdu-api[common]==1.0.3",
    "requests",
    "tabulate",
    "packaging",
    # Azure specific
    "msal",
    "msal-extensions",
    "azure-identity",
    "azure-keyvault",
    # AWS specific
    "boto3",
    # GCP specific
    "google",
    "google-auth",
    "google-auth-oauthlib",
    "google-cloud-storage",
]

[project.urls]
homepage = "https://community.opengroup.org/osdu/platform/data-flow/data-loading/osdu-cli"
issue-tracker = "https://community.opengroup.org/osdu/platform/data-flow/data-loading/osdu-cli/-/issues"

[project.optional-dependencies]
dev = [
    # formatting
    "black",
    "isort",
    # linting
    "pylint",
    "ruff",
    # testing
    "pytest",
    "pytest-mock",
    "pytest-cov",
    "mock",
    "testfixtures",
    # other frameworks
    "setuptools",
    "tox",
    "docutils"
]

[project.scripts]
osdu = "osducli.__main__:main"

[tool.setuptools.dynamic]
version = {file = "src/osducli/VERSION"}
readme = {file = "README.rst"}

[tool.setuptools.package-data]
"osducli" = ["VERSION"]

[tool.nose2]
unittest = { test-file-pattern = "*test*.py", start-dir = "tests" }

[tool.ruff]
target-version = "py313"
src = ["src"]

[tool.ruff.lint]
select = ["E", "F", "W", "I", "B", "UP"]
ignore = ["E501"]

[tool.pylint."messages control"]
disable = [
    "missing-docstring",
    "protected-access",
    "too-many-arguments",
    "too-many-locals",
    "too-many-branches",
    "too-many-positional-arguments",
    "format",
    "fixme",
    "unknown-option-value",
    "unspecified-encoding",
    "broad-exception-raised"
]