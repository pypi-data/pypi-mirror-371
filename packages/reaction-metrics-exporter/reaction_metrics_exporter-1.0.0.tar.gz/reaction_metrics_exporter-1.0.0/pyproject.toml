[project]
name = "reaction-metrics-exporter"
version = "1.0.0" 
description = "A daemon that scans reaction outputs, and serves an HTTP OpenMetrics endpoint"
authors = [
    {name = "Lilou", email = "lilou@chosto.me"}
]
readme = "README.md"
license = "AGPL-3.0-or-later"
keywords = [ "reaction", "prometheus", "openmetrics" ]
classifiers = [
    "Development Status :: 4 - Beta",
    "Topic :: System :: Monitoring"
]
requires-python = ">=3.10"
dependencies = [
    "python-systemd (>=0.0.9,<0.0.10)",
    "structlog (>=25.4.0,<26.0.0)",
    "aiofiles (>=24.1.0,<25.0.0)",
    "aionotify (>=0.3.1,<0.4.0)",
    "systemd-python (>=235,<236)",
    "ruamel-yaml (>=0.18.14,<0.19.0)",
    "asyncio-simple-http-server (>=0.0.8,<0.0.9)",
    "prometheus-client (>=0.22.1,<0.23.0)",
    "schema (>=0.7.7,<0.8.0)",
    "python-dateutil (>=2.9.0.post0,<3.0.0)",
    "pytest (>=8.4.1,<9.0.0)",
    "jinja2 (>=3.1.6,<4.0.0)",
]

[projects.url]
repository = "https://framagit/Chosto/reaction-metrics-exporter"

[build-system]
requires = ["poetry-core>=2.0.0,<3.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.pyright]
reportAny = false
reportExplicitAny = false
reportUnknownVariableType = false
reportUnknownMemberType = false
reportUnknownArgumentType = false
reportUnannotatedClassAttribute = false
reportPrivateLocalImportUsage = false
reportUnusedCallResult = false
reportUnusedCoroutine = false
reportUntypedFunctionDecorator = false
reportPrivateUsage = false
# @override needs 3.12
reportImplicitOverride = false
reportUnknownLambdaType = false
reportMissingTypeStubs = false

[tool.poetry.group.dev.dependencies]
black = "^25.1.0"
pytest-asyncio = "^1.1.0"

[tool.pytest.ini_options]
asyncio_mode = "auto"

[tool.black]
line-length = 100