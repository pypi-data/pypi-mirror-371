Metadata-Version: 2.4
Name: mcp-sqlserver-filesystem
Version: 0.1.7
Summary: Enhanced MCP server for SQL Server and filesystem access with dual interface support (Web UI and Desktop Application)
Project-URL: Homepage, https://github.com/ppengit/mcp-sqlserver-filesystem
Project-URL: Repository, https://github.com/ppengit/mcp-sqlserver-filesystem
Project-URL: Issues, https://github.com/ppengit/mcp-sqlserver-filesystem/issues
Author-email: PJ <peng.it@qq.com>
License: MIT
License-File: LICENSE
Keywords: cross-platform,database,desktop-app,dual-interface,filesystem,interactive,mcp,native-app,rust,sqlserver,tauri,web-ui
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: MacOS X
Classifier: Environment :: Web Environment
Classifier: Environment :: Win32 (MS Windows)
Classifier: Environment :: X11 Applications
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Database
Classifier: Topic :: Desktop Environment
Classifier: Topic :: Internet :: WWW/HTTP :: Dynamic Content
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Software Development :: User Interfaces
Classifier: Topic :: System :: Filesystems
Requires-Python: >=3.11
Requires-Dist: aiofiles>=23.0.0
Requires-Dist: aiohttp>=3.8.0
Requires-Dist: fastapi>=0.115.0
Requires-Dist: fastmcp>=2.0.0
Requires-Dist: jinja2>=3.1.0
Requires-Dist: mcp>=1.9.3
Requires-Dist: psutil>=7.0.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: pyodbc>=5.0.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: sqlalchemy>=2.0.0
Requires-Dist: uvicorn>=0.30.0
Requires-Dist: websockets>=13.0.0
Provides-Extra: desktop
Requires-Dist: psutil>=7.0.0; extra == 'desktop'
Provides-Extra: dev
Requires-Dist: black>=23.0.0; extra == 'dev'
Requires-Dist: bump2version>=1.0.1; extra == 'dev'
Requires-Dist: flake8>=6.0.0; extra == 'dev'
Requires-Dist: isort>=5.12.0; extra == 'dev'
Requires-Dist: maturin>=1.8.7; extra == 'dev'
Requires-Dist: mypy>=1.0.0; extra == 'dev'
Requires-Dist: pillow>=11.2.1; extra == 'dev'
Requires-Dist: pre-commit>=3.0.0; extra == 'dev'
Requires-Dist: pytest-asyncio>=0.21.0; extra == 'dev'
Requires-Dist: pytest-cov>=4.0.0; extra == 'dev'
Requires-Dist: pytest-timeout>=2.1.0; extra == 'dev'
Requires-Dist: pytest>=7.0.0; extra == 'dev'
Requires-Dist: ruff>=0.11.0; extra == 'dev'
Requires-Dist: setuptools-rust>=1.11.1; extra == 'dev'
Requires-Dist: twine>=6.1.0; extra == 'dev'
Description-Content-Type: text/markdown

# MCP SQL Server Filesystem

ğŸš€ **Enhanced MCP server** for SQL Server database and filesystem access with **dual interface support** (Web UI and Desktop Application).

*Read this in other languages: [English](#english) | [ä¸­æ–‡](#ä¸­æ–‡)*

---

## English

### âœ¨ Features

- ğŸ—„ï¸ **Complete SQL Server Support** - Execute all SQL commands with detailed operation tracking
- ğŸ“ **Full Filesystem Access** - Read/write files with advanced security controls
- ğŸŒ **Web UI Interface** - Real-time query results display with modern responsive design  
- ğŸ–¥ï¸ **Desktop Application** - Cross-platform native desktop app with intelligent fallback to Web UI
- ğŸ” **Smart Environment Detection** - Auto-adapts to SSH Remote, WSL, Local environments
- ğŸ” **Enhanced Connection Parameters** - Built-in support for `TrustServerCertificate=true`, `Encrypt=false`, `MultipleActiveResultSets=true`
- âš¡ **Dual Interface Architecture** - Choose between Web UI and native desktop experience
- ğŸ¨ **Modern UI Design** - Responsive design with professional styling
- ğŸ”„ **Real-time Communication** - WebSocket-based live updates
- ğŸ“Š **Detailed Operation Tracking** - INSERT/UPDATE/DELETE operations show affected records

### ğŸš€ Quick Start

#### ğŸ“¦ Zero-Installation Usage (Recommended)

```bash
# Install uv (if not already installed)
pip install uv

# Run directly - no need to clone repository or install Rust!
uvx mcp-sqlserver-filesystem@latest
```

#### ğŸ§ª Testing Both Interfaces

```bash
# Test Web UI (browser-based interface)
uvx mcp-sqlserver-filesystem@latest --test-web

# Test Desktop Application (native app with auto-fallback)
uvx mcp-sqlserver-filesystem@latest --test-desktop
```

### ğŸ–¥ï¸ Desktop Application

#### Features
- **Zero Rust Installation Required**: Uses pre-compiled binaries with intelligent fallback
- **Cross-platform Support**: Windows, macOS, Linux
- **Auto-Fallback System**: Automatically switches to Web UI if desktop app unavailable  
- **Modern Interface**: Professional design with tabbed navigation
- **Real-time Updates**: WebSocket communication with backend
- **No Dependencies**: Just needs uv + ODBC Driver

#### How It Works
1. **First Priority**: Uses pre-compiled desktop binary (if available)
2. **Smart Fallback**: Automatically launches Web UI if desktop unavailable
3. **Zero Maintenance**: No user installation or setup required

### ğŸ“‹ System Requirements

**All platforms:**
1. **Python 3.11+**
2. **ODBC Driver for SQL Server** â­ **Critical!**
3. **uv** (for package execution)

**Windows users:**
```bash
# Check Python version
python --version

# Check ODBC drivers
python -c "import pyodbc; print([d for d in pyodbc.drivers() if 'SQL Server' in d])"

# Install ODBC Driver (choose one method):
# Method 1: winget (recommended)
winget install Microsoft.ODBCDriverforSQLServer

# Method 2: Chocolatey
choco install sqlserver-odbcdriver
```

**Download links:**
- [ODBC Driver 18](https://go.microsoft.com/fwlink/?linkid=2249006) (latest)
- [ODBC Driver 17](https://go.microsoft.com/fwlink/?linkid=2249005) (stable)
- [All versions](https://docs.microsoft.com/en-us/sql/connect/odbc/download-odbc-driver-for-sql-server)

### ğŸ”§ Augment Code Configuration

#### Option 1: Complete Setup (Database + Filesystem)

```json
{
  "mcpServers": {
    "mcp-sqlserver-filesystem": {
      "command": "uvx",
      "args": ["mcp-sqlserver-filesystem@latest"],
      "timeout": 600,
      "env": {
        "DB_SERVER": "localhost",
        "DB_DATABASE": "your_database", 
        "DB_USE_WINDOWS_AUTH": "true",
        "DB_TRUST_SERVER_CERTIFICATE": "true",
        "FS_ALLOWED_PATHS": "C:\\Users\\YourName\\Documents,D:\\Projects",
        "FS_ALLOWED_EXTENSIONS": ".txt,.md,.py,.json,.sql,.csv",
        "FS_IGNORE_FILE_LOCKS": "true"
      },
      "autoApprove": [
        "sql_query", "list_tables", "get_table_schema",
        "read_file", "write_file", "list_directory"
      ]
    }
  }
}
```

#### Option 2: SQL Server Authentication + Full Filesystem Access

```json
{
  "mcpServers": {
    "mcp-sqlserver-filesystem": {
      "command": "uvx", 
      "args": ["mcp-sqlserver-filesystem@latest"],
      "timeout": 600,
      "env": {
        "DB_SERVER": "your-server",
        "DB_DATABASE": "your_database",
        "DB_USE_WINDOWS_AUTH": "false",
        "DB_USERNAME": "sa",
        "DB_PASSWORD": "your_password",
        "FS_ALLOWED_PATHS": "*",
        "FS_ALLOWED_EXTENSIONS": "*.*",
        "FS_IGNORE_FILE_LOCKS": "true"
      },
      "autoApprove": [
        "sql_query", "list_tables", "get_table_schema",
        "read_file", "write_file", "list_directory"
      ]
    }
  }
}
```

#### Option 3: Security-Restricted Mode (Production)

```json
{
  "mcpServers": {
    "mcp-sqlserver-filesystem": {
      "command": "uvx",
      "args": ["mcp-sqlserver-filesystem@latest"],
      "timeout": 600,
      "env": {
        "DB_SERVER": "prod-server.company.com",
        "DB_DATABASE": "ProductionDB", 
        "DB_USE_WINDOWS_AUTH": "false",
        "DB_USERNAME": "readonly_user",
        "DB_PASSWORD": "secure_password",
        "FS_ALLOWED_PATHS": "C:\\Projects\\Safe,D:\\Data\\ReadOnly",
        "FS_ALLOWED_EXTENSIONS": ".txt,.log,.json,.csv", 
        "FS_ENABLE_WRITE": "false",
        "FS_ENABLE_DELETE": "false",
        "SEC_ENABLE_SQL_PROTECTION": "true"
      },
      "autoApprove": [
        "sql_query", "list_tables", "get_table_schema", 
        "read_file", "list_directory"
      ]
    }
  }
}
```

### ğŸ› ï¸ Environment Variables

#### Database Configuration
| Variable | Default | Description |
|----------|---------|-------------|
| `DB_SERVER` | `localhost` | SQL Server hostname or IP |
| `DB_DATABASE` | `master` | Database name |
| `DB_USE_WINDOWS_AUTH` | `true` | Use Windows Authentication |
| `DB_USERNAME` | - | SQL Server username (if not using Windows auth) |
| `DB_PASSWORD` | - | SQL Server password (if not using Windows auth) |
| `DB_TRUST_SERVER_CERTIFICATE` | `true` | Trust server certificate |
| `DB_ENCRYPT` | `false` | Enable connection encryption |
| `DB_MULTIPLE_ACTIVE_RESULT_SETS` | `true` | Enable MARS |

#### Filesystem Configuration  
| Variable | Default | Description |
|----------|---------|-------------|
| `FS_ALLOWED_PATHS` | `[]` | Allowed base paths (empty or `*` = allow all) |
| `FS_ALLOWED_EXTENSIONS` | `[]` | Allowed file extensions (empty or `*.*` = allow all) |
| `FS_ENABLE_WRITE` | `true` | Enable write operations |
| `FS_ENABLE_DELETE` | `true` | Enable delete operations |
| `FS_IGNORE_FILE_LOCKS` | `true` | Ignore file locks for better compatibility |
| `FS_MAX_FILE_SIZE` | `1073741824` | Maximum file size (1GB) |

#### Security Configuration
| Variable | Default | Description |
|----------|---------|-------------|
| `SEC_ENABLE_SQL_PROTECTION` | `false` | Enable SQL injection protection |
| `SEC_MAX_QUERY_LENGTH` | `100000` | Maximum SQL query length |
| `SEC_ENABLE_QUERY_LOGGING` | `true` | Enable query logging |

### ğŸ“š Available Tools

#### Database Operations
- `sql_query` - Execute SELECT queries with detailed results
- `list_tables` - List all database tables  
- `get_table_schema` - Get detailed table structure information

#### Filesystem Operations  
- `read_file` - Read file contents with encoding detection
- `write_file` - Write file contents with confirmation
- `list_directory` - List directory contents with metadata

### ğŸ¯ Usage Examples

#### SQL Operations with Detailed Tracking
```python
# Execute query - shows column names, data types, and row counts
result = sql_query("SELECT TOP 10 * FROM users ORDER BY created_date DESC")

# INSERT operation - shows exactly which records were inserted  
result = sql_query("INSERT INTO users (name, email) VALUES ('John', 'john@example.com')")

# UPDATE operation - shows affected records before and after
result = sql_query("UPDATE users SET status = 'active' WHERE last_login > '2024-01-01'") 

# DELETE operation - shows exactly which records were deleted
result = sql_query("DELETE FROM users WHERE status = 'inactive'")
```

#### Filesystem Operations with Security
```python
# Read files (supports locked files)
content = read_file("C:/Projects/config.json") 

# Write files with confirmation
write_file("C:/Projects/output.txt", "Hello World!")

# List directories with metadata
files = list_directory("C:/Projects")
```

### ğŸ”§ Development Setup (Optional)

Only needed if you want to contribute or build from source:

```bash
# Clone repository
git clone https://github.com/ppengit/mcp-sqlserver-filesystem.git
cd mcp-sqlserver-filesystem

# Install development dependencies
pip install -e ".[dev]"

# Run tests
python -m pytest

# Run from source
python -m mcp_sqlserver_filesystem --test-web
```

### ğŸš¨ Troubleshooting

#### Common Issues

1. **"No module named 'pyodbc'"**
   ```bash
   # Install ODBC driver first, then retry
   winget install Microsoft.ODBCDriverforSQLServer
   ```

2. **Connection timeout issues**
   ```json
   "env": {
     "DB_CONNECTION_TIMEOUT": "60",
     "DB_COMMAND_TIMEOUT": "120"
   }
   ```

3. **Desktop app not launching**
   - No problem! The system automatically falls back to Web UI
   - Check browser opens at `http://localhost:8765`

4. **File access denied**
   ```json
   "env": {
     "FS_IGNORE_FILE_LOCKS": "true"
   }
   ```

---

## ä¸­æ–‡

### âœ¨ ä¸»è¦åŠŸèƒ½

- ğŸ—„ï¸ **å®Œæ•´SQL Serveræ”¯æŒ** - æ‰§è¡Œæ‰€æœ‰SQLå‘½ä»¤ï¼Œè¯¦ç»†è·Ÿè¸ªæ“ä½œè®°å½•
- ğŸ“ **å…¨é¢æ–‡ä»¶ç³»ç»Ÿè®¿é—®** - è¯»å†™æ–‡ä»¶ï¼Œæ”¯æŒé«˜çº§å®‰å…¨æ§åˆ¶
- ğŸŒ **Web UIç•Œé¢** - å®æ—¶æŸ¥è¯¢ç»“æœæ˜¾ç¤ºï¼Œç°ä»£å“åº”å¼è®¾è®¡
- ğŸ–¥ï¸ **æ¡Œé¢åº”ç”¨ç¨‹åº** - è·¨å¹³å°åŸç”Ÿæ¡Œé¢åº”ç”¨ï¼Œæ™ºèƒ½å›é€€åˆ°Web UI
- ğŸ” **æ™ºèƒ½ç¯å¢ƒæ£€æµ‹** - è‡ªåŠ¨é€‚é…SSHè¿œç¨‹ã€WSLã€æœ¬åœ°ç¯å¢ƒ
- ğŸ” **å¢å¼ºè¿æ¥å‚æ•°** - å†…ç½®æ”¯æŒ`TrustServerCertificate=true`ã€`Encrypt=false`ã€`MultipleActiveResultSets=true`
- âš¡ **åŒç•Œé¢æ¶æ„** - åœ¨Web UIå’ŒåŸç”Ÿæ¡Œé¢ä½“éªŒä¹‹é—´é€‰æ‹©
- ğŸ¨ **ç°ä»£UIè®¾è®¡** - å“åº”å¼è®¾è®¡ï¼Œä¸“ä¸šæ ·å¼
- ğŸ”„ **å®æ—¶é€šä¿¡** - åŸºäºWebSocketçš„å®æ—¶æ›´æ–°
- ğŸ“Š **è¯¦ç»†æ“ä½œè·Ÿè¸ª** - INSERT/UPDATE/DELETEæ“ä½œæ˜¾ç¤ºå—å½±å“çš„å…·ä½“è®°å½•

### ğŸš€ å¿«é€Ÿå¼€å§‹

#### ğŸ“¦ é›¶å®‰è£…ä½¿ç”¨æ–¹å¼ï¼ˆæ¨èï¼‰

```bash
# å®‰è£…uvï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰
pip install uv

# ç›´æ¥è¿è¡Œ - æ— éœ€å…‹éš†ä»“åº“æˆ–å®‰è£…Rustï¼
uvx mcp-sqlserver-filesystem@latest
```

#### ğŸ§ª æµ‹è¯•ä¸¤ç§ç•Œé¢

```bash
# æµ‹è¯•Web UIï¼ˆåŸºäºæµè§ˆå™¨çš„ç•Œé¢ï¼‰
uvx mcp-sqlserver-filesystem@latest --test-web

# æµ‹è¯•æ¡Œé¢åº”ç”¨ï¼ˆåŸç”Ÿåº”ç”¨ï¼Œè‡ªåŠ¨å›é€€ï¼‰
uvx mcp-sqlserver-filesystem@latest --test-desktop
```

### ğŸ–¥ï¸ æ¡Œé¢åº”ç”¨

#### åŠŸèƒ½ç‰¹æ€§
- **æ— éœ€å®‰è£…Rust**ï¼šä½¿ç”¨é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ™ºèƒ½å›é€€æœºåˆ¶
- **è·¨å¹³å°æ”¯æŒ**ï¼šWindowsã€macOSã€Linux
- **è‡ªåŠ¨å›é€€ç³»ç»Ÿ**ï¼šæ¡Œé¢åº”ç”¨ä¸å¯ç”¨æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°Web UI
- **ç°ä»£ç•Œé¢**ï¼šä¸“ä¸šè®¾è®¡ï¼Œæ ‡ç­¾é¡µå¯¼èˆª
- **å®æ—¶æ›´æ–°**ï¼šä¸åç«¯çš„WebSocketé€šä¿¡
- **é›¶ä¾èµ–**ï¼šåªéœ€è¦uv + ODBCé©±åŠ¨

#### å·¥ä½œåŸç†
1. **é¦–é€‰æ–¹æ¡ˆ**ï¼šä½¿ç”¨é¢„ç¼–è¯‘çš„æ¡Œé¢äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚æœå¯ç”¨ï¼‰
2. **æ™ºèƒ½å›é€€**ï¼šæ¡Œé¢åº”ç”¨ä¸å¯ç”¨æ—¶è‡ªåŠ¨å¯åŠ¨Web UI
3. **é›¶ç»´æŠ¤**ï¼šç”¨æˆ·æ— éœ€å®‰è£…æˆ–è®¾ç½®

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

**æ‰€æœ‰å¹³å°ï¼š**
1. **Python 3.11+**
2. **ODBC Driver for SQL Server** â­ **å¿…éœ€ï¼**
3. **uv**ï¼ˆç”¨äºåŒ…æ‰§è¡Œï¼‰

**Windowsç”¨æˆ·ï¼š**
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python --version

# æ£€æŸ¥ODBCé©±åŠ¨
python -c "import pyodbc; print([d for d in pyodbc.drivers() if 'SQL Server' in d])"

# å®‰è£…ODBCé©±åŠ¨ï¼ˆé€‰æ‹©ä¸€ç§æ–¹æ³•ï¼‰ï¼š
# æ–¹æ³•1ï¼šwingetï¼ˆæ¨èï¼‰
winget install Microsoft.ODBCDriverforSQLServer

# æ–¹æ³•2ï¼šChocolatey
choco install sqlserver-odbcdriver
```

### ğŸ”§ Augment Codeé…ç½®

#### æ–¹æ¡ˆ1ï¼šå®Œæ•´è®¾ç½®ï¼ˆæ•°æ®åº“+æ–‡ä»¶ç³»ç»Ÿï¼‰

```json
{
  "mcpServers": {
    "mcp-sqlserver-filesystem": {
      "command": "uvx",
      "args": ["mcp-sqlserver-filesystem@latest"],
      "timeout": 600,
      "env": {
        "DB_SERVER": "localhost",
        "DB_DATABASE": "your_database",
        "DB_USE_WINDOWS_AUTH": "true", 
        "DB_TRUST_SERVER_CERTIFICATE": "true",
        "FS_ALLOWED_PATHS": "C:\\Users\\YourName\\Documents,D:\\Projects",
        "FS_ALLOWED_EXTENSIONS": ".txt,.md,.py,.json,.sql,.csv",
        "FS_IGNORE_FILE_LOCKS": "true"
      },
      "autoApprove": [
        "sql_query", "list_tables", "get_table_schema",
        "read_file", "write_file", "list_directory"
      ]
    }
  }
}
```

#### æ–¹æ¡ˆ2ï¼šSQL Serverè®¤è¯ + æ–‡ä»¶ç³»ç»Ÿå…¨è®¿é—®

```json
{
  "mcpServers": {
    "mcp-sqlserver-filesystem": {
      "command": "uvx",
      "args": ["mcp-sqlserver-filesystem@latest"],
      "timeout": 600, 
      "env": {
        "DB_SERVER": "your-server",
        "DB_DATABASE": "your_database",
        "DB_USE_WINDOWS_AUTH": "false",
        "DB_USERNAME": "sa",
        "DB_PASSWORD": "your_password",
        "FS_ALLOWED_PATHS": "*",
        "FS_ALLOWED_EXTENSIONS": "*.*",
        "FS_IGNORE_FILE_LOCKS": "true"
      },
      "autoApprove": [
        "sql_query", "list_tables", "get_table_schema",
        "read_file", "write_file", "list_directory"
      ]
    }
  }
}
```

#### æ–¹æ¡ˆ3ï¼šå®‰å…¨é™åˆ¶æ¨¡å¼ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```json
{
  "mcpServers": {
    "mcp-sqlserver-filesystem": {
      "command": "uvx",
      "args": ["mcp-sqlserver-filesystem@latest"],
      "timeout": 600,
      "env": {
        "DB_SERVER": "prod-server.company.com",
        "DB_DATABASE": "ProductionDB",
        "DB_USE_WINDOWS_AUTH": "false", 
        "DB_USERNAME": "readonly_user",
        "DB_PASSWORD": "secure_password",
        "FS_ALLOWED_PATHS": "C:\\Projects\\Safe,D:\\Data\\ReadOnly",
        "FS_ALLOWED_EXTENSIONS": ".txt,.log,.json,.csv",
        "FS_ENABLE_WRITE": "false",
        "FS_ENABLE_DELETE": "false",
        "SEC_ENABLE_SQL_PROTECTION": "true"
      },
      "autoApprove": [
        "sql_query", "list_tables", "get_table_schema",
        "read_file", "list_directory"
      ]
    }
  }
}
```

### ğŸ› ï¸ ç¯å¢ƒå˜é‡

#### æ•°æ®åº“é…ç½®
| å˜é‡ | é»˜è®¤å€¼ | æè¿° |
|------|-------|------|
| `DB_SERVER` | `localhost` | SQL Serverä¸»æœºåæˆ–IP |
| `DB_DATABASE` | `master` | æ•°æ®åº“åç§° |
| `DB_USE_WINDOWS_AUTH` | `true` | ä½¿ç”¨Windowsè®¤è¯ |
| `DB_USERNAME` | - | SQL Serverç”¨æˆ·åï¼ˆéWindowsè®¤è¯æ—¶ï¼‰ |
| `DB_PASSWORD` | - | SQL Serverå¯†ç ï¼ˆéWindowsè®¤è¯æ—¶ï¼‰ |
| `DB_TRUST_SERVER_CERTIFICATE` | `true` | ä¿¡ä»»æœåŠ¡å™¨è¯ä¹¦ |
| `DB_ENCRYPT` | `false` | å¯ç”¨è¿æ¥åŠ å¯† |
| `DB_MULTIPLE_ACTIVE_RESULT_SETS` | `true` | å¯ç”¨MARS |

#### æ–‡ä»¶ç³»ç»Ÿé…ç½®
| å˜é‡ | é»˜è®¤å€¼ | æè¿° |
|------|-------|------|
| `FS_ALLOWED_PATHS` | `[]` | å…è®¸çš„åŸºè·¯å¾„ï¼ˆç©ºæˆ–`*` = å…è®¸å…¨éƒ¨ï¼‰ |
| `FS_ALLOWED_EXTENSIONS` | `[]` | å…è®¸çš„æ–‡ä»¶æ‰©å±•åï¼ˆç©ºæˆ–`*.*` = å…è®¸å…¨éƒ¨ï¼‰ |
| `FS_ENABLE_WRITE` | `true` | å¯ç”¨å†™æ“ä½œ |
| `FS_ENABLE_DELETE` | `true` | å¯ç”¨åˆ é™¤æ“ä½œ |
| `FS_IGNORE_FILE_LOCKS` | `true` | å¿½ç•¥æ–‡ä»¶é”å®šï¼Œæé«˜å…¼å®¹æ€§ |
| `FS_MAX_FILE_SIZE` | `1073741824` | æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆ1GBï¼‰ |

#### å®‰å…¨é…ç½®
| å˜é‡ | é»˜è®¤å€¼ | æè¿° |
|------|-------|------|
| `SEC_ENABLE_SQL_PROTECTION` | `false` | å¯ç”¨SQLæ³¨å…¥ä¿æŠ¤ |
| `SEC_MAX_QUERY_LENGTH` | `100000` | æœ€å¤§SQLæŸ¥è¯¢é•¿åº¦ |
| `SEC_ENABLE_QUERY_LOGGING` | `true` | å¯ç”¨æŸ¥è¯¢æ—¥å¿— |

### ğŸ“š å¯ç”¨å·¥å…·

#### æ•°æ®åº“æ“ä½œ
- `sql_query` - æ‰§è¡ŒSELECTæŸ¥è¯¢ï¼Œæä¾›è¯¦ç»†ç»“æœ
- `list_tables` - åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“è¡¨
- `get_table_schema` - è·å–è¯¦ç»†è¡¨ç»“æ„ä¿¡æ¯

#### æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- `read_file` - è¯»å–æ–‡ä»¶å†…å®¹ï¼Œè‡ªåŠ¨æ£€æµ‹ç¼–ç 
- `write_file` - å†™å…¥æ–‡ä»¶å†…å®¹ï¼Œéœ€è¦ç¡®è®¤
- `list_directory` - åˆ—å‡ºç›®å½•å†…å®¹åŠå…ƒæ•°æ®

### ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

#### å¸¦è¯¦ç»†è·Ÿè¸ªçš„SQLæ“ä½œ
```python
# æ‰§è¡ŒæŸ¥è¯¢ - æ˜¾ç¤ºåˆ—åã€æ•°æ®ç±»å‹å’Œè¡Œæ•°
result = sql_query("SELECT TOP 10 * FROM users ORDER BY created_date DESC")

# INSERTæ“ä½œ - æ˜¾ç¤ºæ’å…¥çš„å…·ä½“è®°å½•
result = sql_query("INSERT INTO users (name, email) VALUES ('John', 'john@example.com')")

# UPDATEæ“ä½œ - æ˜¾ç¤ºæ›´æ–°å‰åçš„å—å½±å“è®°å½•
result = sql_query("UPDATE users SET status = 'active' WHERE last_login > '2024-01-01'")

# DELETEæ“ä½œ - æ˜¾ç¤ºåˆ é™¤çš„å…·ä½“è®°å½•
result = sql_query("DELETE FROM users WHERE status = 'inactive'")
```

#### å¸¦å®‰å…¨æ§åˆ¶çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
```python
# è¯»å–æ–‡ä»¶ï¼ˆæ”¯æŒè¢«é”å®šçš„æ–‡ä»¶ï¼‰
content = read_file("C:/Projects/config.json")

# å†™å…¥æ–‡ä»¶å¹¶ç¡®è®¤
write_file("C:/Projects/output.txt", "Hello World!")

# åˆ—å‡ºç›®å½•åŠå…ƒæ•°æ®
files = list_directory("C:/Projects")
```

### ğŸ”§ å¼€å‘è®¾ç½®ï¼ˆå¯é€‰ï¼‰

ä»…åœ¨å¸Œæœ›è´¡çŒ®ä»£ç æˆ–ä»æºç æ„å»ºæ—¶éœ€è¦ï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/ppengit/mcp-sqlserver-filesystem.git
cd mcp-sqlserver-filesystem

# å®‰è£…å¼€å‘ä¾èµ–
pip install -e ".[dev]"

# è¿è¡Œæµ‹è¯•
python -m pytest

# ä»æºç è¿è¡Œ
python -m mcp_sqlserver_filesystem --test-web
```

### ğŸš¨ æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜

1. **"No module named 'pyodbc'"**
   ```bash
   # å…ˆå®‰è£…ODBCé©±åŠ¨ï¼Œç„¶åé‡è¯•
   winget install Microsoft.ODBCDriverforSQLServer
   ```

2. **è¿æ¥è¶…æ—¶é—®é¢˜**
   ```json
   "env": {
     "DB_CONNECTION_TIMEOUT": "60",
     "DB_COMMAND_TIMEOUT": "120"
   }
   ```

3. **æ¡Œé¢åº”ç”¨æ— æ³•å¯åŠ¨**
   - æ²¡é—®é¢˜ï¼ç³»ç»Ÿä¼šè‡ªåŠ¨å›é€€åˆ°Web UI
   - æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦åœ¨`http://localhost:8765`æ‰“å¼€

4. **æ–‡ä»¶è®¿é—®è¢«æ‹’ç»**
   ```json
   "env": {
     "FS_IGNORE_FILE_LOCKS": "true"
   }
   ```

### ğŸ“– æ›´å¤šä¿¡æ¯

- ğŸŒŸ **GitHub**: [mcp-sqlserver-filesystem](https://github.com/ppengit/mcp-sqlserver-filesystem)
- ğŸ“¦ **PyPI**: [mcp-sqlserver-filesystem](https://pypi.org/project/mcp-sqlserver-filesystem/)
- ğŸ› **é—®é¢˜æŠ¥å‘Š**: [GitHub Issues](https://github.com/ppengit/mcp-sqlserver-filesystem/issues)

---

## License

MIT License - see [LICENSE](LICENSE) file for details.

## Author

**PJ** - [peng.it@qq.com](mailto:peng.it@qq.com)