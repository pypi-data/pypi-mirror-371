#
# AlphaPy Variables
#
# [F] Functions defined in transforms.py
# [A] Aliases defined here
# [V] Variables defined here
#

dictionary:
    adv        : 'Average Daily Volume'
    adx        : 'Average Directional Index [F]'
    ahlr       : 'Average High/Low Range'
    atr        : 'Average True Range'
    barpct     : 'Bar Time Percentage of Day [F]'
    bizday     : 'Business Day of Month and Week [F]'
    c2max      : 'Maximum Value of Two Columns [F]'
    c2min      : 'Minimum Value of Two Columns [F]'
    canbulleng : 'Candle Bullish Engulfing'
    candoji    : 'Candle Doji'
    canharami  : 'Candle Harami'
    cmax       : 'Highest Close of Period'
    cmin       : 'Lowest Close of Period'
    dateparts  : 'Year Month Day DayOfWeek [F]'
    diff       : 'Nth Order Difference [F]'
    diminus    : 'Minus Directional Indicator -DI [F]'
    diplus     : 'Plus Directional Indicator +DI [F]'
    dminus     : 'Minus Directional Movement -DM [F]'
    dmplus     : 'Plus Directional Movement +DM [F]'
    earlyday   : 'Early in the Day'
    ema        : 'Exponential Moving Average [F]'
    gap        : 'Gap % Change from Previous Close to Open [F]'
    gapbadown  : 'Breakaway Gap Down True/False [F]'
    gapbaup    : 'Breakaway Gap Up True/False [F]'
    gapdown    : 'Gap Down True/False [F]'
    gapup      : 'Gap Up True/False [F]'
    gtval      : 'Column A Greater Than Column B [F]'
    gtval0     : 'Column A Values Greater Than Column B Else 0 [F]'
    haclose    : 'Heikin-Ashi Close [F]'
    hahigh     : 'Heikin-Ashi High [F]'
    halow      : 'Heikin-Ashi Low [F]'
    haopen     : 'Heikin-Ashi Open [F]'
    hc         : 'Higher Close than Previous Close'
    hh         : 'Higher High than Previous High'
    higher     : 'Higher [F]'
    highest    : 'Highest [F]'
    hl         : 'Higher Low than Previous Low'
    hlrange    : 'High/Low Range [F]'
    hmax       : 'Highest High of Period'
    hmin       : 'Lowest High of Period'
    ho         : 'Higher Open than Previous Open'
    hookdown   : 'Hook Reversal Down'
    hookup     : 'Hook Reversal Up'
    inside     : 'Inside Bar'
    lateday    : 'Late in the Day'
    lc         : 'Lower Close than Previous Close'
    lh         : 'Lower High than Previous High'
    ll         : 'Lower Low than Previous Low'
    lmax       : 'Highest Low of Period'
    lmin       : 'Lowest Low of Period'
    lo         : 'Lower Open than Previous Open'
    lower      : 'Lower [F]'
    lowest     : 'Lowest [F]'
    ma         : 'Moving Average [F]'
    maabove    : 'Moving Average Above [F]'
    mabelow    : 'Moving Average Below [F]'
    madelta    : 'Distance from MA (ATR Units)'
    maratio    : 'Moving Average Ratio [F]'
    negval0    : 'Negative Values Maximum 0 [F]'
    negvals    : 'Negative Values True [F]'
    net        : 'Net Change [F]'
    netc       : 'Net Change Close'
    netneg     : 'Net Negative'
    netpos     : 'Net Positive'
    netreturn  : '% Change of Column x 100 [F]'
    nr         : 'Narrowest Range of Period'
    omax       : 'Highest Open of Period'
    omin       : 'Lowest Open of Period'
    orb        : 'Open Range Breakout'
    outside    : 'Outside Bar'
    pchange1   : '% Change One Column [F]'
    pchange2   : '% Change Two Columns [F]'
    posval0    : 'Positive Values Minimum 0 [F]'
    posvals    : 'Positive Values True [F]'
    rindex     : 'Range Index [F]'
    rixc       : 'Range Index of Close (Fast %K)'
    rixo       : 'Range Index of Open (%)'
    rmax       : 'Maximum Range of Period'
    rmin       : 'Minimum Range of Period'
    roi        : 'Return On Investment (% Change)'
    rr         : 'Range Ratio'
    rsi        : 'Relative Strength Index'
    rtotal     : 'Running Total over Period [F]'
    runs       : 'Total Runs over Period [F]'
    runstest   : 'All Runs Tests over Period [F]'
    sep        : 'Range Index of Close - Open'
    sepma      : 'Moving Average of Separation'
    slowd      : 'Slow Stochastic (%D)'
    smac       : 'Simple Moving Average Close'
    smav       : 'Simple Moving Average Volume'
    streak     : 'Latest Streak Length over Period [F]'
    timeparts  : 'Hour Minute Second [F]'
    tbdown     : 'Trend Bar Down'
    tbup       : 'Trend Bar Up'
    truehigh   : 'True High'
    truelow    : 'True Low'
    truerange  : 'True Range [F]'
    volatility : 'ATR Divided by Close (%)'
    vratio     : 'Volume Ratio'
    wr         : 'Widest Range of Period'
    xmadown    : 'MA Crossover Down over Period [F]'
    xmaup      : 'MA Crossover Up over Period[F]'
    zscore     : 'Z-Score over Period [F]'
    # Shannon's Demon Variables
    wdev       : 'Portfolio Weight Deviation from Target [F]'
    rbalprof   : 'Rebalancing Profit Potential [F]'
    volregime  : 'Volatility Regime Classification [F]'
    corrshift  : 'Correlation Regime Change [F]'
    txcost     : 'Transaction Cost Ratio [F]'
    rebaltime  : 'Time Since Last Rebalance [F]'
    profitsig  : 'Profitable Rebalancing Signal [F]'

aliases:
    adv        : 'ma_volume'
    ahlr       : 'ma_hlrange'
    atr        : 'ma_truerange'
    cmax       : 'highest_close'
    cmin       : 'lowest_close'
    hc         : 'higher_close'
    hh         : 'higher_high'
    hl         : 'higher_low'
    hmax       : 'highest_high'
    hmin       : 'lowest_high'
    ho         : 'higher_open'
    lc         : 'lower_close'
    lh         : 'lower_high'
    ll         : 'lower_low'
    lmax       : 'highest_low'
    lmin       : 'lowest_low'
    lo         : 'lower_open'
    netc       : 'net_close'
    netneg     : 'negvalues_net'
    netpos     : 'posvalues_net'
    omax       : 'highest_open'
    omin       : 'lowest_open'
    rixc       : 'rindex_close_high_low'
    rixo       : 'rindex_open_high_low'
    rmax       : 'highest_hlrange'
    rmin       : 'lowest_hlrange'
    roi        : 'netreturn_close'
    rr         : 'maratio_hlrange'
    sepma      : 'ma_sep'
    slowd      : 'ma_rindex'
    smac       : 'ma_close'
    smav       : 'ma_volume'
    vratio     : 'maratio_volume'
    vwapd      : 'vwap_close_day'
    vwapm      : 'vwap_close_month'
    vwapq      : 'vwap_close_quarter'
    vwapw      : 'vwap_close_week'
    # Shannon's Demon Aliases
    wdev       : 'weight_deviation'
    rbalprof   : 'rebalance_profit_potential'
    volregime  : 'volatility_regime'
    corrshift  : 'correlation_shift'
    txcost     : 'transaction_cost_ratio'
    rebaltime  : 'time_since_rebalance'
    profitsig  : 'profitable_signal'

variables:
    adxhigh    : 'adx >= 35'
    adxlow     : 'adx <= 15'
    atrhigh    : 'hlrange > atr'
    atrlow     : 'hlrange < atr'
    bbfadel    : 'close < bblower_close_50'
    bbfadeu    : 'close > bbupper_close_50'
    bblong     : 'close > bblower_close_50'
    bbshort    : 'close < bbupper_close_50'
    canbulleng : 'open < close[1] & close > open[1]'
    candoji    : 'seplow_1_1_10 & rrunder'
    cminuso    : 'close - open'
    earlyday   : 'barpct <= 20'
    hahigher   : 'hahigh > hahigh[1]'
    halower    : 'halow < halow[1]'
    hh4        : 'hh_4'
    hookdown   : 'open > high[1] & close < close[1]'
    hookup     : '(open < low[1]) & (close > close[1])'
    inside     : 'low > low[1] & high < high[1]'
    klowbuy    : 'rixlow_200_5'
    klowsell   : 'rixhigh_200_95'
    lateday    : 'barpct >= 80'
    maabove    : 'close > smac_50'
    mabelow    : 'close < smac_50'
    madelta    : '(close - smac_50) / atr_10'
    madiff     : smac_20 - smac_50
    momneg     : 'lc & mabelow'
    mompos     : 'hc & maabove'
    nr         : 'hlrange == rmin_4'
    orblong    : 'barnumber == 0 & hc'
    orbshort   : 'barnumber == 0 & lc'
    outside    : 'low < low[1] & high > high[1]'
    pbdown     : 'trendown & rixhigh'
    pbup       : 'trendup & rixlow'
    rixhigh    : 'rixc_14 >= 80'
    rixlow     : 'rixc_14 <= 20'
    roihigh    : 'roi_5 >= 10'
    roilow     : 'roi_5 <= -10'
    roineg     : 'roi_5 < 0'
    roipos     : 'roi_5 > 0'
    rrhigh     : 'rr_4_30 >= 1.3'
    rrlow      : 'rr_4_30 <= 0.7'
    rrover     : 'rr_1_8 >= 1.0'
    rrunder    : 'rr_1_8 < 1.0'
    sep        : 'rixc_1 - rixo_1'
    sephigh    : 'abs(sep_1_1) >= 80'
    seplow     : 'abs(sep_1_1) <= 20'
    tbdown     : 'rrhigh & sephigh & (cminuso < 0)'
    tbup       : 'rrhigh & sephigh & (cminuso > 0)'
    trendown   : 'adxhigh & (dminus > dmplus)'
    trendup    : 'adxhigh & (dmplus > dminus)'
    vmover     : 'vratio >= 1'
    vmunder    : 'vratio < 1'
    vwaplong   : 'vwapd > close'
    vwapshort  : 'vwapd < close'
    volatility : 'atr_20 / close'
    wr         : 'hlrange == rmax_4'
    # Shannon's Demon Variables (implemented as functions in transforms.py)
    # wdev, wdevhigh, wdevlow, shannlong, shannshort, shannhold
    volhigh    : 'volatility >= volatility.quantile(0.75)'
    vollow     : 'volatility <= volatility.quantile(0.25)'
    volregime  : 'volhigh * 2 + vollow * (-1)'
    corrshift  : 'abs(corrshift) >= 0.3'
    txcost     : '0.001'
    rebaltime  : 'time_since_rebalance'
