Metadata-Version: 2.4
Name: pyheroapi
Version: 0.4.3
Summary: Easy-to-use Python client for Kiwoom Securities REST API with intuitive interface
Project-URL: Homepage, https://github.com/gejyn14/pyheroapi
Project-URL: Documentation, https://github.com/gejyn14/pyheroapi#readme
Project-URL: Repository, https://github.com/gejyn14/pyheroapi.git
Project-URL: Issues, https://github.com/gejyn14/pyheroapi/issues
Author-email: Kiwoom API Client <contact@example.com>
License-Expression: MIT
License-File: LICENSE
Keywords: api,kiwoom,korea,securities,stock,trading
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Financial and Insurance Industry
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Office/Business :: Financial :: Investment
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.8
Requires-Dist: pydantic>=2.0.0
Requires-Dist: requests>=2.25.0
Requires-Dist: typing-extensions>=4.0.0
Provides-Extra: all
Requires-Dist: websockets>=11.0.0; extra == 'all'
Provides-Extra: dev
Requires-Dist: bandit>=1.7.5; extra == 'dev'
Requires-Dist: black>=22.0.0; extra == 'dev'
Requires-Dist: doc8>=1.1.0; extra == 'dev'
Requires-Dist: flake8>=5.0.0; extra == 'dev'
Requires-Dist: httpx>=0.24.0; extra == 'dev'
Requires-Dist: isort>=5.0.0; extra == 'dev'
Requires-Dist: jupyter>=1.0.0; extra == 'dev'
Requires-Dist: memory-profiler>=0.60.0; extra == 'dev'
Requires-Dist: mypy>=1.0.0; extra == 'dev'
Requires-Dist: notebook>=6.5.0; extra == 'dev'
Requires-Dist: psutil>=5.9.0; extra == 'dev'
Requires-Dist: pydocstyle>=6.3.0; extra == 'dev'
Requires-Dist: pytest-asyncio>=0.21.0; extra == 'dev'
Requires-Dist: pytest-cov>=4.0.0; extra == 'dev'
Requires-Dist: pytest-json-report>=1.5.0; extra == 'dev'
Requires-Dist: pytest-mock>=3.10.0; extra == 'dev'
Requires-Dist: pytest-xdist>=3.0.0; extra == 'dev'
Requires-Dist: pytest>=7.0.0; extra == 'dev'
Requires-Dist: responses>=0.23.0; extra == 'dev'
Requires-Dist: safety>=2.3.0; extra == 'dev'
Requires-Dist: websockets>=11.0.0; extra == 'dev'
Provides-Extra: realtime
Requires-Dist: websockets>=11.0.0; extra == 'realtime'
Description-Content-Type: text/markdown

# PyHero API - AIì™€ ë§Œë“¤ì–´ë³¸ í‚¤ì›€ì¦ê¶Œ REST API Python í´ë¼ì´ì–¸íŠ¸ v0.3.3

[![PyPI version](https://badge.fury.io/py/pyheroapi.svg)](https://badge.fury.io/py/pyheroapi)
[![Python versions](https://img.shields.io/pypi/pyversions/pyheroapi.svg)](https://pypi.org/project/pyheroapi/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Documentation](https://img.shields.io/badge/docs-latest-brightgreen.svg)](https://github.com/gejyn14/pyheroapi#readme)

í‚¤ì›€ì¦ê¶Œ REST APIë¥¼ íŒŒì´ì¬ìœ¼ë¡œ ì§ê´€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

ğŸš€ **v0.3.3 ìƒˆë¡œìš´ ê¸°ëŠ¥**: í¬ê´„ì ì¸ ì˜ˆì œ ì‹œìŠ¤í…œ, ì‹¤ì‹œê°„ WebSocket ì§€ì›, 163ê°œ API ë©”ì†Œë“œ ì™„ì „ êµ¬í˜„

---

## ğŸŒŸ ì£¼ìš” íŠ¹ì§•

### ğŸ’¡ **ì§ê´€ì ì´ê³  ê°•ë ¥í•œ API**
- ğŸ¯ **í•œ ì¤„ ì—°ê²°**: `pyheroapi.connect()` í•œ ë²ˆìœ¼ë¡œ ëª¨ë“  ê¸°ëŠ¥ ì‚¬ìš©
- ğŸ”„ **ìë™ í† í° ê´€ë¦¬**: í† í° ë°œê¸‰, ê°±ì‹ , íê¸° ì™„ì „ ìë™í™”
- ğŸ›¡ï¸ **ìš°ì•„í•œ ì˜¤ë¥˜ ì²˜ë¦¬**: ì˜ˆì™¸ ëŒ€ì‹  ì•ˆì „í•œ ê¸°ë³¸ê°’ ë°˜í™˜
- âš¡ **ìŠ¤ë§ˆíŠ¸ ìºì‹±**: ì¤‘ë³µ API í˜¸ì¶œ ìë™ ìµœì í™”

### ğŸ“Š **ì™„ì „í•œ ê±°ë˜ ì‹œìŠ¤í…œ**
- âœ… **í¬ê´„ì ì¸ ì£¼ë¬¸ ê´€ë¦¬**: ë§¤ìˆ˜/ë§¤ë„, ì •ì •/ì·¨ì†Œ, ì¡°ê±´ë¶€ ì£¼ë¬¸
- âœ… **ì‹ ìš©ê±°ë˜ ì§€ì›**: ì‹ ìš© ë§¤ìˆ˜/ë§¤ë„, ëŒ€ì¶œ ê´€ë¦¬
- âœ… **ë‹¤ì–‘í•œ ì£¼ë¬¸ ìœ í˜•**: ì§€ì •ê°€, ì‹œì¥ê°€, ìµœìœ ë¦¬, IOC, FOK ë“±
- âœ… **ì‹¤ì‹œê°„ ì£¼ë¬¸ ì¶”ì **: ë¯¸ì²´ê²°/ì²´ê²° ë‚´ì—­, ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸

### ğŸ”¥ **ì‹¤ì‹œê°„ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë°**
- ğŸŒ **WebSocket ì‹¤ì‹œê°„ ì‹œì„¸**: ì£¼ê°€, í˜¸ê°€, ì²´ê²° ë°ì´í„°
- ğŸ“ˆ **ì‹¤ì‹œê°„ ê³„ì¢Œ ëª¨ë‹ˆí„°ë§**: ì”ê³ , í¬ì§€ì…˜ ë³€í™” ì¶”ì 
- âš¡ **ë¹„ë™ê¸° ì²˜ë¦¬**: async/await íŒ¨í„´ ì™„ì „ ì§€ì›
- ğŸ”” **ì´ë²¤íŠ¸ ê¸°ë°˜ ì½œë°±**: ì‹¤ì‹œê°„ ë°ì´í„° ë³€í™” ì•Œë¦¼

### ğŸ’° **ê³ ê¸‰ ê¸ˆìœµ ë°ì´í„° ë¶„ì„**
- ğŸ“Š **ETF ì‹¬í™” ë¶„ì„**: NAV, ì¶”ì ì˜¤ì°¨, ìˆ˜ìµë¥ , êµ¬ì„±ì¢…ëª©
- âš¡ **ELW ì „ë¬¸ ë„êµ¬**: ê·¸ë¦­ìŠ¤(Delta, Gamma, Theta, Vega), ë¯¼ê°ë„ ì§€í‘œ
- ğŸ›ï¸ **ê¸°ê´€/ì™¸êµ­ì¸ ë§¤ë§¤**: ì‹¤ì‹œê°„ ë§¤ë§¤ ë™í–¥, ìˆœë§¤ìˆ˜/ìˆœë§¤ë„
- ğŸ“ˆ **ì‹œì¥ ìˆœìœ„ ë¶„ì„**: ê±°ë˜ëŸ‰, ë“±ë½ë¥ , ì‹œê°€ì´ì•¡ ìˆœìœ„

### ğŸ“ **êµìœ¡ì  ì˜ˆì œ ì‹œìŠ¤í…œ**
- ğŸ“š **7ê°œ í¬ê´„ì  ëª¨ë“ˆ**: ê¸°ì´ˆë¶€í„° ê³ ê¸‰ê¹Œì§€ ë‹¨ê³„ë³„ í•™ìŠµ
- ğŸ›¡ï¸ **ì•ˆì „í•œ ìƒŒë“œë°•ìŠ¤**: ëª¨ì˜ê±°ë˜ í™˜ê²½ ì œê³µê³µ
- ğŸ“– **ìƒì„¸í•œ ë¬¸ì„œí™”**: ëª¨ë“  ê¸°ëŠ¥ì— ëŒ€í•œ ì‹¤ìš©ì  ì˜ˆì œ
- ğŸ”§ **í”„ë¡œë•ì…˜ ì¤€ë¹„**: ì‹¤ì œ ê±°ë˜ë¥¼ ìœ„í•œ ì•ˆì „ ê°€ì´ë“œ

---

## ğŸ¯ ì™„ì „í•œ API ì»¤ë²„ë¦¬ì§€

### **âœ… 163ê°œ API ë©”ì†Œë“œ êµ¬í˜„ ì™„ë£Œ**

| ì¹´í…Œê³ ë¦¬ | êµ¬í˜„ëœ ê¸°ëŠ¥ | ì»¤ë²„ë¦¬ì§€ |
|---------|------------|---------|
| ğŸ” **ì¸ì¦ & í† í°** | í† í° ë°œê¸‰/íê¸°, ìë™ ê´€ë¦¬ | **100%** |
| ğŸ’° **ì£¼ë¬¸ & ê±°ë˜** | ëª¨ë“  ì£¼ë¬¸ ìœ í˜•, ì‹ ìš©ê±°ë˜ | **100%** |
| ğŸ›ï¸ **ê³„ì¢Œ ê´€ë¦¬** | ì”ê³ , í¬ì§€ì…˜, ì†ìµë¶„ì„ | **100%** |
| ğŸ“Š **ì‹œì„¸ ë°ì´í„°** | ì‹¤ì‹œê°„/ê³¼ê±° ì‹œì„¸, í˜¸ê°€ | **100%** |
| ğŸ“ˆ **ì°¨íŠ¸ ë°ì´í„°** | ì¼/ì£¼/ì›”/ë¶„ë´‰, ê¸°ìˆ ì  ì§€í‘œ | **100%** |
| ğŸ” **ì¢…ëª© ì •ë³´** | ì¢…ëª© ìƒì„¸ì •ë³´, ì¬ë¬´ë°ì´í„° | **95%** |
| ğŸ’¹ **ETF ë¶„ì„** | NAV, ì¶”ì ì˜¤ì°¨, êµ¬ì„±ì¢…ëª© | **100%** |
| âš¡ **ELW ë„êµ¬** | ê·¸ë¦­ìŠ¤, ë¯¼ê°ë„, ì¡°ê±´ê²€ìƒ‰ | **100%** |
| ğŸ“Š **ìˆœìœ„ ì •ë³´** | ê±°ë˜ëŸ‰/ë“±ë½ë¥ /ì‹œì´ ìˆœìœ„ | **100%** |
| ğŸ¢ **ê¸°ê´€/ì™¸êµ­ì¸** | ë§¤ë§¤ ë™í–¥, ë³´ìœ  í˜„í™© | **100%** |
| ğŸ”„ **ì‹¤ì‹œê°„ ë°ì´í„°** | WebSocket ìŠ¤íŠ¸ë¦¬ë° | **100%** |
| ğŸ¯ **ì¡°ê±´ ê²€ìƒ‰** | ì‹¤ì‹œê°„ ì¡°ê±´ê²€ìƒ‰, ì¡°ê±´ëª©ë¡ ê´€ë¦¬ | **100%** |

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì„¤ì¹˜

```bash
# ê¸°ë³¸ ì„¤ì¹˜
pip install pyheroapi

# ì‹¤ì‹œê°„ ê¸°ëŠ¥ í¬í•¨
pip install pyheroapi[realtime]

# ëª¨ë“  ê¸°ëŠ¥ í¬í•¨
pip install pyheroapi[all]
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# ~/.bashrc ë˜ëŠ” ~/.zshrcì— ì¶”ê°€
export KIWOOM_APPKEY="your_app_key_here"
export KIWOOM_SECRETKEY="your_secret_key_here"  
export KIWOOM_ACCOUNT_NUMBER="your_account_number_here"
```

### ğŸ¯ 30ì´ˆ ì‹œì‘í•˜ê¸°

```python
import pyheroapi

# 1. ê°„ë‹¨í•œ ì—°ê²° (ìƒŒë“œë°•ìŠ¤ ëª¨ë“œ)
with pyheroapi.connect(is_production=False) as api:  # SANDBOX MODE: set is_production=False explicitly
    # 2. ì£¼ì‹ ê°€ê²© ì¡°íšŒ
    samsung = api.stock("005930")
    price = samsung.current_price
    print(f"ì‚¼ì„±ì „ì: â‚©{price:,.0f}")
    
    # 3. ê³„ì¢Œ ì •ë³´
    account = api.account()
    balance = account.balance["available_balance"] 
    print(f"ì£¼ë¬¸ê°€ëŠ¥ê¸ˆì•¡: â‚©{balance:,.0f}")
    
    # 4. ì‹œì¥ ìˆœìœ„ (ìƒìœ„ 10ê°œ)
    rankings = api.rankings.volume_leaders(limit=10)
    for rank, stock in enumerate(rankings, 1):
        print(f"{rank}. {stock['name']}: {stock['volume']:,}ì£¼")
```

---

## ğŸ“š í¬ê´„ì ì¸ ì˜ˆì œ ì‹œìŠ¤í…œ

### ğŸ“ **7ê°œ êµìœ¡ ëª¨ë“ˆ - ì´ˆê¸‰ë¶€í„° ì „ë¬¸ê°€ê¹Œì§€**

#### [`01_authentication.py`](examples/01_authentication.py) - ğŸ” ì¸ì¦ ê¸°ì´ˆ
```python
# í† í° ê´€ë¦¬ì˜ ëª¨ë“  ê²ƒ
from pyheroapi import KiwoomClient

# í™˜ê²½ë³€ìˆ˜ì—ì„œ ìë™ ë¡œë“œ
client = KiwoomClient.create_with_credentials()

# í† í° ìˆ˜ë™ ê´€ë¦¬
token = client.issue_token()
print(f"ë°œê¸‰ëœ í† í°: {token.token[:20]}...")

# í† í° ê²€ì¦ ë° íê¸°
is_valid = client.validate_token()
client.revoke_token()
```

#### [`02_market_data.py`](examples/02_market_data.py) - ğŸ“Š ì‹œì„¸ ë°ì´í„° ë§ˆìŠ¤í„°
```python
# ì‹¤ì‹œê°„ ì‹œì„¸ë¶€í„° ê³¼ê±° ë°ì´í„°ê¹Œì§€
with pyheroapi.connect(is_production=False) as api:  # SANDBOX MODE: set is_production=False explicitly
    # ì‹¤ì‹œê°„ ì‹œì„¸
    samsung = api.stock("005930")
    quote = samsung.quote
    print(f"í˜„ì¬ê°€: {quote['current_price']}")
    print(f"ë§¤ìˆ˜í˜¸ê°€: {quote['best_bid']}")
    print(f"ë§¤ë„í˜¸ê°€: {quote['best_ask']}")
    
    # OHLCV ê³¼ê±° ë°ì´í„°
    history = samsung.get_daily_data(period="1Y")
    
    # ë¶„ë´‰ ë°ì´í„° 
    minute_data = samsung.get_minute_data(interval="1", period="1D")
    
    # ì‹œì¥ ì„±ê³¼ ì§€í‘œ
    performance = samsung.market_performance()
    print(f"ê±°ë˜ê°•ë„: {performance['trading_intensity']}")
```

#### [`03_trading_orders.py`](examples/03_trading_orders.py) - ğŸ’° ê±°ë˜ ì‹¤í–‰ ì™„ì „ ê°€ì´ë“œ
```python
# ëª¨ë“  ì¢…ë¥˜ì˜ ì£¼ë¬¸ê³¼ ê´€ë¦¬
with pyheroapi.connect(is_production=False) as api:  # SANDBOX MODE: set is_production=False explicitly
    # ê³„ì¢Œ ìƒíƒœ í™•ì¸
    account = api.account()
    balance = account.balance
    print(f"ì£¼ë¬¸ê°€ëŠ¥ê¸ˆì•¡: â‚©{balance['available']:,.0f}")
    
    # ë‹¤ì–‘í•œ ì£¼ë¬¸ ìœ í˜•
    # ì§€ì •ê°€ ë§¤ìˆ˜
    result = api.trading.buy("005930", quantity=10, price=75000, order_type="limit")
    
    # ì‹œì¥ê°€ ë§¤ë„  
    result = api.trading.sell("005930", quantity=5, order_type="market")
    
    # ì¡°ê±´ë¶€ ì§€ì •ê°€
    result = api.trading.buy("005930", quantity=10, price=75000, 
                           order_type="conditional_limit", condition_price=74000)
    
    # ì£¼ë¬¸ ìˆ˜ì •/ì·¨ì†Œ
    if result["success"]:
        order_no = result["order_number"]
        
        # ì£¼ë¬¸ ìˆ˜ì •
        api.trading.modify_order(order_no, "005930", new_quantity=8, new_price=74500)
        
        # ì£¼ë¬¸ ì·¨ì†Œ
        api.trading.cancel_order(order_no, "005930", cancel_quantity=8)
    
    # ì‹ ìš©ê±°ë˜
    credit_result = api.trading.credit_buy("005930", quantity=100, price=75000)
```

#### [`04_etf_elw.py`](examples/04_etf_elw.py) - ğŸ’¹ ETF/ELW ì „ë¬¸ ë¶„ì„
```python
# ETFì™€ ELWì˜ ëª¨ë“  ê²ƒ
with pyheroapi.connect(is_production=False) as api:  # SANDBOX MODE: set is_production=False explicitly
    # ETF ì‹¬í™” ë¶„ì„
    kodex = api.etf("069500")
    
    # NAV ë¶„ì„
    nav_data = kodex.get_nav_analysis()
    print(f"NAV: â‚©{nav_data['nav']:,.2f}")
    print(f"ê´´ë¦¬ìœ¨: {nav_data['premium_discount']:.2f}%")
    print(f"ì¶”ì ì˜¤ì°¨: {nav_data['tracking_error']:.4f}")
    
    # ETF êµ¬ì„±ì¢…ëª©
    holdings = kodex.get_holdings()
    for holding in holdings[:10]:
        print(f"{holding['symbol']}: {holding['weight']:.2f}%")
    
    # ELW ê·¸ë¦­ìŠ¤ ë¶„ì„
    elw = api.elw("5XXXXX")  # ELW ì¢…ëª©ì½”ë“œ
    
    # ì‹¤ì‹œê°„ ê·¸ë¦­ìŠ¤
    greeks = elw.get_greeks()
    print(f"Delta: {greeks['delta']:.4f}")
    print(f"Gamma: {greeks['gamma']:.4f}")
    print(f"Theta: {greeks['theta']:.4f}")
    print(f"Vega: {greeks['vega']:.4f}")
    
    # ë¯¼ê°ë„ ì§€í‘œ
    sensitivity = elw.get_sensitivity_indicators()
    
    # ELW ì¡°ê±´ ê²€ìƒ‰ (REST API)
    elw_search = client.get_elw_condition_search(
        underlying_asset_code="201",  # KOSPI200
        right_type="1",  # ì½œì˜µì…˜
        sort_type="1"    # ìƒìŠ¹ìœ¨ìˆœ
    )
    
    # ì‹¤ì‹œê°„ ì¡°ê±´ê²€ìƒ‰ (WebSocket)
    async def on_condition_result(data):
        print(f"ì¡°ê±´ê²€ìƒ‰ ê²°ê³¼: {data['symbol']} - {data['name']}")
    
    # ì¡°ê±´ê²€ìƒ‰ ëª©ë¡ ì¡°íšŒ
    await client.realtime.get_conditional_search_list()
    
    # ì¡°ê±´ê²€ìƒ‰ ì‹¤í–‰ (ì¼ë°˜)
    await client.realtime.execute_conditional_search("1", "0")
    
    # ì¡°ê±´ê²€ìƒ‰ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
    await client.realtime.execute_conditional_search_realtime("1")
    
    # ì‹¤ì‹œê°„ ì¡°ê±´ê²€ìƒ‰ í•´ì œ
    await client.realtime.cancel_conditional_search_realtime("1")
```

#### [`05_rankings_analysis.py`](examples/05_rankings_analysis.py) - ğŸ“ˆ ì‹œì¥ ìˆœìœ„ ë¶„ì„
```python
# ì‹œì¥ì˜ ëª¨ë“  ìˆœìœ„ ì •ë³´
with pyheroapi.connect(is_production=False) as api:  # SANDBOX MODE: set is_production=False explicitly
    # ê±°ë˜ëŸ‰ ìˆœìœ„
    volume_leaders = api.rankings.volume_leaders(limit=20)
    print("ğŸ”¥ ê±°ë˜ëŸ‰ TOP 20")
    for i, stock in enumerate(volume_leaders, 1):
        print(f"{i:2d}. {stock['name']:10s} {stock['volume']:>10,}ì£¼")
    
    # ìƒìŠ¹ë¥  ìˆœìœ„
    gainers = api.rankings.price_gainers(limit=10)
    print("\nğŸ“ˆ ìƒìŠ¹ë¥  TOP 10")
    for stock in gainers:
        print(f"{stock['name']}: +{stock['change_rate']:.2f}%")
    
    # ì™¸êµ­ì¸ ìˆœë§¤ìˆ˜ ìˆœìœ„
    foreign_net_buy = api.rankings.foreign_net_buying(limit=15)
    print("\nğŸŒ ì™¸êµ­ì¸ ìˆœë§¤ìˆ˜ TOP 15")
    
    # ê¸°ê´€ ìˆœë§¤ìˆ˜ ìˆœìœ„  
    institutional_buy = api.rankings.institutional_net_buying(limit=15)
    
    # í”„ë¡œê·¸ë¨ ë§¤ë§¤ ë¶„ì„
    program_trading = api.rankings.program_trading_activity()
    
    # ì„¹í„°ë³„ ë¶„ì„
    sector_performance = api.rankings.sector_performance()
    print("\nğŸ­ ì„¹í„° ì„±ê³¼")
    for sector in sector_performance:
        print(f"{sector['name']}: {sector['change_rate']:+.2f}%")
```

#### [`06_charts_technical.py`](examples/06_charts_technical.py) - ğŸ“Š ì°¨íŠ¸ & ê¸°ìˆ ì  ë¶„ì„
```python
# ëª¨ë“  ì°¨íŠ¸ ë°ì´í„°ì™€ ê¸°ìˆ ì  ë¶„ì„
with pyheroapi.connect(is_production=False) as api:  # SANDBOX MODE: set is_production=False explicitly
    samsung = api.stock("005930")
    
    # ë‹¤ì–‘í•œ ì‹œê°„í”„ë ˆì„ ì°¨íŠ¸
    daily_chart = samsung.get_chart_data("daily", period="6M")
    weekly_chart = samsung.get_chart_data("weekly", period="2Y") 
    monthly_chart = samsung.get_chart_data("monthly", period="5Y")
    
    # ë¶„ë´‰ ì°¨íŠ¸ (1ë¶„, 5ë¶„, 15ë¶„, 30ë¶„, 60ë¶„)
    minute_1 = samsung.get_chart_data("1min", period="1D")
    minute_5 = samsung.get_chart_data("5min", period="5D")
    minute_30 = samsung.get_chart_data("30min", period="1M")
    
    # ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°
    def calculate_sma(data, period=20):
        """ë‹¨ìˆœì´ë™í‰ê·  ê³„ì‚°"""
        prices = [float(d['close']) for d in data]
        sma = []
        for i in range(len(prices)):
            if i >= period - 1:
                avg = sum(prices[i-period+1:i+1]) / period
                sma.append(avg)
            else:
                sma.append(None)
        return sma
    
    # 20ì¼ ì´ë™í‰ê· 
    sma_20 = calculate_sma(daily_chart, 20)
    
    # ê±°ë˜ëŸ‰ ë¶„ì„
    volume_analysis = samsung.volume_analysis(period="3M")
    
    # ì—…ì¢… ì°¨íŠ¸ ë¶„ì„
    sector_chart = api.get_sector_chart("ì „ê¸°ì „ì", period="1Y")
```

#### [`07_realtime_websocket.py`](examples/07_realtime_websocket.py) - ğŸŒ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°
```python
# WebSocketì„ í†µí•œ ì‹¤ì‹œê°„ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë°
import asyncio
from pyheroapi import RealtimeClient

async def main():
    # ì‹¤ì‹œê°„ í´ë¼ì´ì–¸íŠ¸ ìƒì„±
    realtime = RealtimeClient()
    await realtime.connect()
    
    # ì‹¤ì‹œê°„ ì‹œì„¸ ì½œë°±
    def on_price_update(data):
        print(f"[{data['symbol']}] â‚©{data['price']:,} ({data['change']:+.2f}%)")
    
    # ì‹¤ì‹œê°„ í˜¸ê°€ ì½œë°±  
    def on_orderbook_update(data):
        print(f"ë§¤ìˆ˜í˜¸ê°€: â‚©{data['best_bid']:,} / ë§¤ë„í˜¸ê°€: â‚©{data['best_ask']:,}")
    
    # ì‹¤ì‹œê°„ ì²´ê²° ì½œë°±
    def on_trade_update(data):
        print(f"ì²´ê²°: {data['quantity']:,}ì£¼ @ â‚©{data['price']:,}")
    
    # ì‹¤ì‹œê°„ ê³„ì¢Œ ì½œë°±
    def on_account_update(data):
        print(f"ê³„ì¢Œë³€í™”: ì”ê³  â‚©{data['balance']:,}")
    
    # ì‹¤ì‹œê°„ ì¡°ê±´ê²€ìƒ‰ ì½œë°±
    def on_conditional_search_result(data):
        print(f"ğŸ¯ ì¡°ê±´ê²€ìƒ‰ í¸ì…: {data['symbol']} - ì‹œê°„: {data['time']}")
    
    def on_conditional_search_list(data):
        print(f"ğŸ“‹ ì¡°ê±´ê²€ìƒ‰ ëª©ë¡: {len(data)}ê°œ ì¡°ê±´ì‹ í™•ì¸")
    
    # êµ¬ë… ì„¤ì •
    await realtime.subscribe_price("005930", on_price_update)
    await realtime.subscribe_orderbook("005930", on_orderbook_update)  
    await realtime.subscribe_trades("005930", on_trade_update)
    await realtime.subscribe_account("your_account", on_account_update)
    
    # ì¡°ê±´ê²€ìƒ‰ ì½œë°± ë“±ë¡
    realtime.register_callback('conditional_search_realtime', on_conditional_search_result)
    realtime.register_callback('conditional_search_list', on_conditional_search_list)
    
    # ì¡°ê±´ê²€ìƒ‰ ëª©ë¡ ì¡°íšŒ
    await realtime.get_conditional_search_list()
    
    # ì‹¤ì‹œê°„ ì¡°ê±´ê²€ìƒ‰ ì‹œì‘ (ì¡°ê±´ì‹ ë²ˆí˜¸ "1")
    await realtime.execute_conditional_search_realtime("1")
    
    # ë‹¤ì¤‘ ì¢…ëª© êµ¬ë…
    symbols = ["005930", "000660", "035420", "005380", "068270"]
    for symbol in symbols:
        await realtime.subscribe_price(symbol, on_price_update)
    
    # ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì‹  ëŒ€ê¸°
    print("ğŸ”´ ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì‹  ì¤‘... (Ctrl+Cë¡œ ì¤‘ë‹¨)")
    try:
        await realtime.listen()
    except KeyboardInterrupt:
        print("\nâ¹ï¸ ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì‹  ì¤‘ë‹¨")
        await realtime.disconnect()

# ì‹¤í–‰
if __name__ == "__main__":
    asyncio.run(main())
```

---

## ğŸ”¥ ê³ ê¸‰ ê¸°ëŠ¥

### ğŸ¯ **ìŠ¤ë§ˆíŠ¸ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬**

```python
with pyheroapi.connect(is_production=False) as api:  # SANDBOX MODE: set is_production=False explicitly
    account = api.account()
    
    # ì „ì²´ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„
    portfolio = account.get_portfolio_analysis()
    print(f"ì´ í‰ê°€ê¸ˆì•¡: â‚©{portfolio['total_value']:,.0f}")
    print(f"ì‹¤í˜„ì†ìµ: â‚©{portfolio['realized_pnl']:,.0f}")
    print(f"í‰ê°€ì†ìµ: â‚©{portfolio['unrealized_pnl']:,.0f}")
    print(f"ì´ ìˆ˜ìµë¥ : {portfolio['total_return']:.2f}%")
    
    # ì¢…ëª©ë³„ í¬ì§€ì…˜
    positions = account.positions
    for pos in positions:
        print(f"{pos['name']}: {pos['quantity']:,}ì£¼")
        print(f"  í‰ê· ë‹¨ê°€: â‚©{pos['avg_price']:,}")
        print(f"  í˜„ì¬ê°€: â‚©{pos['current_price']:,}")
        print(f"  ìˆ˜ìµë¥ : {pos['return_rate']:+.2f}%")
        print(f"  í‰ê°€ì†ìµ: â‚©{pos['unrealized_pnl']:+,.0f}")
    
    # ì¼ë³„ ì†ìµ ë‚´ì—­
    daily_pnl = account.get_daily_pnl(days=30)
    total_trades = sum(day['trade_count'] for day in daily_pnl)
    total_pnl = sum(day['realized_pnl'] for day in daily_pnl)
    
    print(f"\nğŸ“Š 30ì¼ ê±°ë˜ í†µê³„")
    print(f"ì´ ê±°ë˜ íšŸìˆ˜: {total_trades:,}íšŒ")
    print(f"ì‹¤í˜„ì†ìµ í•©ê³„: â‚©{total_pnl:+,.0f}")
```

### ğŸ“Š **ê³ ê¸‰ ì‹œì¥ ë¶„ì„**

```python
with pyheroapi.connect(is_production=False) as api:  # SANDBOX MODE: set is_production=False explicitly
    # ì‹œì¥ ì „ì²´ í˜„í™©
    market_summary = api.get_market_summary()
    print(f"KOSPI: {market_summary['kospi']['value']:.2f} ({market_summary['kospi']['change']:+.2f}%)")
    print(f"KOSDAQ: {market_summary['kosdaq']['value']:.2f} ({market_summary['kosdaq']['change']:+.2f}%)")
    
    # ì™¸êµ­ì¸/ê¸°ê´€ ë§¤ë§¤ ë™í–¥
    institutional_flow = api.get_institutional_trading()
    print(f"\nğŸ’° ì™¸êµ­ì¸ ìˆœë§¤ë§¤: â‚©{institutional_flow['foreign_net']:+,.0f}ì–µ")
    print(f"ğŸ’° ê¸°ê´€ ìˆœë§¤ë§¤: â‚©{institutional_flow['institution_net']:+,.0f}ì–µ")
    
    # í”„ë¡œê·¸ë¨ ë§¤ë§¤ í˜„í™©
    program_trading = api.get_program_trading()
    print(f"ğŸ“ˆ í”„ë¡œê·¸ë¨ ë§¤ìˆ˜: â‚©{program_trading['buy_amount']:,.0f}ì–µ")
    print(f"ğŸ“‰ í”„ë¡œê·¸ë¨ ë§¤ë„: â‚©{program_trading['sell_amount']:,.0f}ì–µ")
    
    # ì‹ ìš©ê±°ë˜ í˜„í™©
    credit_info = api.get_credit_balance()
    print(f"ğŸ¦ ì‹ ìš©ì”ê³ : â‚©{credit_info['credit_balance']:,.0f}ì–µ")
    print(f"ğŸ¦ ëŒ€ì£¼ì”ê³ : â‚©{credit_info['lending_balance']:,.0f}ì–µ")
```

### âš¡ **ê³ ì„±ëŠ¥ ì¼ê´„ ì²˜ë¦¬**

```python
import asyncio
from concurrent.futures import ThreadPoolExecutor

async def analyze_multiple_stocks(symbols):
    """ì—¬ëŸ¬ ì¢…ëª© ë™ì‹œ ë¶„ì„"""
    with pyheroapi.connect(is_production=False) as api:  # SANDBOX MODE: set is_production=False explicitly
        with ThreadPoolExecutor(max_workers=10) as executor:
            # ë™ì‹œì— ì—¬ëŸ¬ ì¢…ëª© ë°ì´í„° ìˆ˜ì§‘
            futures = []
            for symbol in symbols:
                future = executor.submit(api.stock(symbol).get_complete_data)
                futures.append((symbol, future))
            
            results = {}
            for symbol, future in futures:
                try:
                    data = future.result(timeout=30)
                    results[symbol] = data
                    print(f"âœ… {symbol}: ë°ì´í„° ìˆ˜ì§‘ ì™„ë£Œ")
                except Exception as e:
                    print(f"âŒ {symbol}: ì˜¤ë¥˜ - {e}")
            
            return results

# ëŒ€í˜•ì£¼ TOP 20 ë™ì‹œ ë¶„ì„
large_caps = ["005930", "000660", "035420", "005380", "068270", 
              "207940", "005490", "035720", "000270", "006400"]

results = asyncio.run(analyze_multiple_stocks(large_caps))
```

---

## ğŸ›¡ï¸ ì•ˆì „ ê°€ì´ë“œ

### ğŸ”’ **ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€**

```python
import os
from pyheroapi import KiwoomClient

# âœ… í™˜ê²½ë³€ìˆ˜ ì‚¬ìš© (ê¶Œì¥)
appkey = os.getenv("KIWOOM_APPKEY")
secretkey = os.getenv("KIWOOM_SECRETKEY")

# âŒ í•˜ë“œì½”ë”© ê¸ˆì§€
# appkey = "PAKXXXXXXXX"  # ì ˆëŒ€ ê¸ˆì§€!

# ì•ˆì „í•œ í´ë¼ì´ì–¸íŠ¸ ìƒì„±
client = KiwoomClient.create_with_credentials(
    appkey=appkey,
    secretkey=secretkey,
    is_production=False,  # SANDBOX MODE: set is_production=False explicitly
    timeout=30,
    retry_attempts=3
)
```

### ğŸ¯ **ê±°ë˜ ì•ˆì „ ì ê²€**

```python
def safe_trading_example():
    """ì•ˆì „í•œ ê±°ë˜ í”„ë¡œì„¸ìŠ¤"""
    with pyheroapi.connect(is_production=False) as api:  # SANDBOX MODE: set is_production=False explicitly
        account = api.account()
        
        # 1. ê³„ì¢Œ ìƒíƒœ í™•ì¸
        balance = account.balance
        available = balance["available_balance"]
        print(f"ì£¼ë¬¸ê°€ëŠ¥ê¸ˆì•¡: â‚©{available:,.0f}")
        
        # 2. ì¢…ëª© ë¶„ì„
        samsung = api.stock("005930")
        current_price = samsung.current_price
        quote = samsung.quote
        
        # 3. ì•ˆì „ ì ê²€
        order_amount = current_price * 100  # 100ì£¼ ì£¼ë¬¸ê¸ˆì•¡
        
        if available < order_amount:
            print("âŒ ì£¼ë¬¸ê°€ëŠ¥ê¸ˆì•¡ ë¶€ì¡±")
            return
        
        if quote["volume"] < 1000:  # ìµœì†Œ ê±°ë˜ëŸ‰ ì ê²€
            print("âŒ ê±°ë˜ëŸ‰ ë¶€ì¡± - ì£¼ë¬¸ ì·¨ì†Œ")
            return
        
        # 4. ì£¼ë¬¸ ì‹¤í–‰ (ìƒŒë“œë°•ìŠ¤ì—ì„œë§Œ!)
        result = api.trading.buy("005930", quantity=100, price=current_price)
        
        if result["success"]:
            print(f"âœ… ì£¼ë¬¸ ì„±ê³µ: {result['order_number']}")
            
            # 5. ì£¼ë¬¸ ìƒíƒœ ëª¨ë‹ˆí„°ë§
            order_status = api.trading.get_order_status(result["order_number"])
            print(f"ì£¼ë¬¸ ìƒíƒœ: {order_status['status']}")
        else:
            print(f"âŒ ì£¼ë¬¸ ì‹¤íŒ¨: {result['message']}")

# ì‹¤í–‰
safe_trading_example()
```

---

## ğŸ“ ë‹¨ê³„ë³„ í•™ìŠµ ê°€ì´ë“œ

### **1ë‹¨ê³„: ê¸°ì´ˆ (1-2ì¼)**
- [`01_authentication.py`](examples/01_authentication.py) - ì¸ì¦ê³¼ í† í° ê´€ë¦¬
- [`02_market_data.py`](examples/02_market_data.py) - ê¸°ë³¸ ì‹œì„¸ ì¡°íšŒ

### **2ë‹¨ê³„: ê±°ë˜ (3-5ì¼)**  
- [`03_trading_orders.py`](examples/03_trading_orders.py) - ì£¼ë¬¸ ì‹¤í–‰ê³¼ ê´€ë¦¬
- ìƒŒë“œë°•ìŠ¤ì—ì„œ ì¶©ë¶„í•œ ì—°ìŠµ

### **3ë‹¨ê³„: ë¶„ì„ (1ì£¼)**
- [`04_etf_elw.py`](examples/04_etf_elw.py) - ETF/ELW ì „ë¬¸ ë¶„ì„
- [`05_rankings_analysis.py`](examples/05_rankings_analysis.py) - ì‹œì¥ ìˆœìœ„ ë¶„ì„
- [`06_charts_technical.py`](examples/06_charts_technical.py) - ì°¨íŠ¸ì™€ ê¸°ìˆ ì  ë¶„ì„

### **4ë‹¨ê³„: ê³ ê¸‰ (2ì£¼)**
- [`07_realtime_websocket.py`](examples/07_realtime_websocket.py) - ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°
- í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬ì¶•
- ìë™ ë§¤ë§¤ ì‹œìŠ¤í…œ ê°œë°œ

---

## ğŸ”§ í™˜ê²½ ì„¤ì •

### **API í‚¤ ë°œê¸‰**
1. [í‚¤ì›€ OpenAPI í™ˆí˜ì´ì§€ì§€](https://openapi.kiwoom.com/) ë°©ë¬¸
2. ê³„ì • ìƒì„± ë° ë¡œê·¸ì¸
3. REST API ì„œë¹„ìŠ¤ ì‹ ì²­
4. APP KEYì™€ SECRET KEY ë°œê¸‰

### **ê°œë°œ í™˜ê²½ ì„¤ì •**

```bash
# 1. í”„ë¡œì íŠ¸ í´ë” ìƒì„±
mkdir my_trading_bot
cd my_trading_bot

# 2. ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. PyHeroAPI ì„¤ì¹˜
pip install pyheroapi[all]

# 4. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
echo 'export KIWOOM_APPKEY="í‚¤ì›€ REST API APPKEY' >> ~/.bashrc
echo 'export KIWOOM_SECRETKEY="í‚¤ì›€ REST API SECRETKEY"' >> ~/.bashrc
source ~/.bashrc

# 5. ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸
python -c "
import pyheroapi
with pyheroapi.connect(is_production=False) as api:
    print('âœ… ì—°ê²° ì„±ê³µ!')
    print(f'ì‚¼ì„±ì „ì: â‚©{api.stock(\"005930\").current_price:,.0f}')
"
```

---

## ğŸ“‹ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

- **Python**: 3.8 ì´ìƒ
- **ìš´ì˜ì²´ì œ**: Windows, macOS, Linux
- **ë©”ëª¨ë¦¬**: ìµœì†Œ 512MB (ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‹œ 1GB ê¶Œì¥)
- **ë„¤íŠ¸ì›Œí¬**: ì•ˆì •ì ì¸ ì¸í„°ë„· ì—°ê²°

### **ì˜ì¡´ì„± íŒ¨í‚¤ì§€**
```
requests>=2.25.0        # HTTP í´ë¼ì´ì–¸íŠ¸
pydantic>=2.0.0         # ë°ì´í„° ê²€ì¦
typing-extensions>=4.0.0 # íƒ€ì… íŒíŠ¸
websockets>=11.0.0      # ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° (ì„ íƒì‚¬í•­)
```

---

## âš ï¸ ì¤‘ìš” ê³µì§€ì‚¬í•­

### **ë©´ì±…ì¡°í•­**
- ğŸ“– **êµìœ¡ ëª©ì **: ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” êµìœ¡ ë° ê°œë°œ ëª©ì ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤
- ğŸ’° **íˆ¬ì ì±…ì„**: ì‹¤ì œ ê±°ë˜ë¡œ ì¸í•œ ì†ì‹¤ì— ëŒ€í•´ ì±…ì„ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤
- ğŸ§ª **ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸**: ì‹¤ê±°ë˜ ì „ ë°˜ë“œì‹œ ìƒŒë“œë°•ìŠ¤ì—ì„œ ì¶©ë¶„íˆ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”
- ğŸ“Š **ì‹œì¥ ë¦¬ìŠ¤í¬**: ì£¼ì‹ íˆ¬ìì—ëŠ” ì›ê¸ˆ ì†ì‹¤ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤

### **ì‚¬ìš© ì œí•œì‚¬í•­**
- ğŸ• **API í˜¸ì¶œ ì œí•œ**: ì´ˆë‹¹ ìš”ì²­ ìˆ˜ ì œí•œ (ìë™ ê´€ë¦¬ë¨)
- ğŸ›ï¸ **ì¥ ì‹œê°„ ì œí•œ**: ì¼ë¶€ ê¸°ëŠ¥ì€ ê°œì¥ ì‹œê°„ì—ë§Œ ì‘ë™
- ğŸ“± **ì‹¤ì‹œê°„ ë°ì´í„°**: ì•½ê°„ì˜ ì§€ì—°ì´ ìˆì„ ìˆ˜ ìˆìŒ
- ğŸ”’ **ë³´ì•ˆ**: API í‚¤ëŠ” ì ˆëŒ€ ê³µê°œí•˜ì§€ ë§ˆì„¸ìš”

---

## ğŸ¤ ì»¤ë®¤ë‹ˆí‹°

### **ê¸°ì—¬í•˜ê¸°**
1. ğŸ´ [ì €ì¥ì†Œ í¬í¬](https://github.com/gejyn14/pyheroapi/fork)
2. ğŸŒ¿ ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„±: `git checkout -b feature/amazing-feature`
3. ğŸ“ ë³€ê²½ì‚¬í•­ ì»¤ë°‹: `git commit -m 'Add amazing feature'`
4. ğŸ“¤ ë¸Œëœì¹˜ í‘¸ì‹œ: `git push origin feature/amazing-feature`
5. ğŸ”„ Pull Request ìƒì„±

### **ì§€ì› ì±„ë„**
- ğŸ“– **ë¬¸ì„œ**: [GitHub Wiki](https://github.com/gejyn14/pyheroapi/wiki)
- ğŸ› **ë²„ê·¸ ë¦¬í¬íŠ¸**: [Issues](https://github.com/gejyn14/pyheroapi/issues)
- ğŸ’¡ **ê¸°ëŠ¥ ìš”ì²­**: [Discussions](https://github.com/gejyn14/pyheroapi/discussions)
- ğŸ“§ **ì´ë©”ì¼**: dean_jin@icloud.com

### **ë¼ì´ì„ ìŠ¤**
MIT License - ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ ì°¸ì¡°

---

<div align="center">

### â­ ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì…¨ë‹¤ë©´ ë³„í‘œë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!

[![GitHub stars](https://img.shields.io/github/stars/gejyn14/pyheroapi.svg?style=social&label=Star)](https://github.com/gejyn14/pyheroapi)
[![GitHub forks](https://img.shields.io/github/forks/gejyn14/pyheroapi.svg?style=social&label=Fork)](https://github.com/gejyn14/pyheroapi/fork)

**Happy Trading! ğŸ“ˆğŸš€**

**âš ï¸ ë©´ì±…ì¡°í•­**: ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” êµìœ¡ ë° ê°œë°œ ëª©ì ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤. ì‹¤ì œ ê±°ë˜ì—ì„œ ë°œìƒí•˜ëŠ” ì†ì‹¤ì— ëŒ€í•´ì„œëŠ” ì±…ì„ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ê±°ë˜ ì‹œ ì£¼ì˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
