{
  "testcase": {
    "testcase_type": "PoissonFDM",
    "PoissonFDM_params": {
        "dim": 2,
        "N": 100,
        "rhs": "random",
        "device": "cpu:0"
    },
    "xMatrixMarket_params": {
        "filename_A": "../test-data/amgcl.elas.3d_A.mtx",
        "filename_b": "../test-data/amgcl.elas.3d_b.mtx",
        "device": "cpu:0"
    },
    "MatrixMarket_params": {
        "filename_A": "../test-data/dhA.mtx",
        "filename_b": "../test-data/dhb.mtx",
        "device": "cpu"
    }
 
  },

  "solver": {
    "solver_type": "SolverPCG", // SolverBiCGSTAB, SolverMINRES, SolverSYMMLQ, SolverPCG, SolverFLGMRES_R, SolverMUMPS
    "SolverPreOnly_params": {},
    "SolverSOR_params": {
      "max_its": 5000,
      "relax": 1,
      "rtol": 1e-8,
      "verbose": 1
    },
    "SolverAdamW_params": {
      "weight_decay": 1e-5,
      "learning_rate": 0.01,
      "verbose": 2,
      "max_its": 10,
      "amsgrad": true
    },
    "SolverSSOR_params": {
      "max_its": 5000,
      "relax": 1,
      "rtol": 1e-8,
      "verbose": 1
    },
    "SolverMUMPS_params": {
      "verbose": 2
    },
    "SolverGaussElim_params": {
      "verbose": 2
    },
    "SolverAMG_params": {
      "max_its": 5000,
      "rtol": 1e-8,
      "verb": 1,
      "cycle_type": "V-cycle", // V-cycle, W-cycle, F-cycle
      "max_levels": 1,
      "min_coarse_size": 300,
      "level_transfer": {
        "level_transfer_type": "LevelTransferSmoothAggregation",
        "LevelTransferSmoothAggregation_params": {}
      },
      // "coarse_solver": {
      //   "solver_type": "SolverGaussElim",
      //   "SolverGauss_params": {}
      // },
      "pre_smoother": {
        "smoother_type": "SmootherSOR",
        "SmootherSOR_params": {
          "nsweeps": 1,
          "verb": 0,
          "relax": 1,
          "forward": true
        }
      },
      "pre_smoother2": {
        "smoother_type": "SmootherList",
        "SmootherList_params": [
          {
            "smoother_type": "SmootherSOR",
            "SmootherSOR_params": {
              "nsweeps": 1,
              "verb": 0,
              "relax": 1,
              "forward": true
            }
          },
          {
            "smoother_type": "SmootherSOR",
            "SmootherSOR_params": {
              "nsweeps": 1,
              "verb": 0,
              "relax": 1,
              "forward": true
            }
          }
        ]
      },
      "post_smoother": {
        "smoother_type": "SmootherSOR",
        "SmootherSOR_params": {
          "nsweeps": 1,
          "verb": 0,
          "forward": false
        }
      }
    },

    "SolverPCG_params": {
      "max_its": 5000,
      "rtol": 1e-8,
      "verbose": 2
    },

    "SolverBiCGSTAB_params": {
      "max_its": 1000,
      "rtol": 1e-8,
      "verbose": 1
    },

    "SolverMINRES_params": {
      "max_its": 5000,
      "rtol": 1e-8,
      "verbose": 5,
      "algo": "standard",
      "monitor": 0
    },
    "SolverSYMMLQ_params": {
      "max_its": 5000,
      "rtol": 1e-8,
      "verbose": 5
    },

    "SolverFLGMRES_R_params": {
      "max_its": 1000,
      "restart": 20,
      "rtol": 1e-8,
      "verbose": 1
    }
  },
  "preconditioner": {
    "preconditioner_type": "PrecondAMG", // PrecondIdentity, PrecondAMG, PrecondSOR, PrecondJacobi, PrecondList
    "PrecondIdentity_params": {},
    "PrecondSOR_params": {
      "nsweeps": 2,
      "verb": 0,
      "relax": 1.0,
      "forward": true
    },
    "PrecondJacobi_params": {
      "nsweeps": 4,
      "verb": 0,
      "relax": 1.0
    },
    "PrecondList_params": [
      {
        "preconditioner_type": "PrecondJacobi",
        "PrecondSOR_params": {
          "nsweeps": 2,
          "verb": 0,
          "relax": 1,
          "forward": true
        },
        "PrecondJacobi_params": {
          "nsweeps": 2,
          "verb": 0,
          "relax": 1.0
        }
      },
      {
        "preconditioner_type": "PrecondJacobi",
        "PrecondSOR_params": {
          "nsweeps": 2,
          "verb": 0,
          "relax": 1,
          "forward": false
        },
        "PrecondJacobi_params": {
          "nsweeps": 2,
          "verb": 0,
          "relax": 1.0
        }
      }
    ],
    "PrecondAMG_params": {
      "cycle_type": "V-cycle", // V-cycle, W-cycle, F-cycle
      "max_levels": 20,
      "min_coarse_size": 50,
      "verbose": 1,
      "level_transfer": {
        "level_transfer_type": "LevelTransferBoomerAMG", // LevelTransferBoomerAMG, LevelTransferHYPRE, LevelTransferRugeStuben, LevelTransferRugeStubenAMGCL, LevelTransferSmoothAggregationAMGCL, LevelTransferSmoothAggregation, LevelTransferSmoothAggregationSeq
        "LevelTransferHYPRE_params": {
          //"max_row_sum": 0.9,
          //"strong_threshold": 0.5,
          //"coarsen_type": 8,
          //"interp_type": 6
        },
        "LevelTransferBoomerAMG_params": {
          "verbose": 0
        },
        "LevelTransferRugeStuben": {
          "eps_strong":0.5
        },
        "LevelTransferSmoothAggregation_params": {
          "verbose": true,
          "smooth": true,
          "aggregator": {
            "aggregator_type": "AggregatorVMB", // AggregatorVMB, AggregatorVMBSeq
            "AggregatorVMB_params": {
              
            }
          },
          "input": "A",
          "output": ["P", "R"],
          "ops": [
            {
              "type": "StrengthSA",
              "input": "A",
              "output": "csrmatrix-S"
            },
            {
              "type": "AggregatorSA",
              "input": "csrmatrix-S",
              "output": ["vector-aggr", "scalar-naggr"]
            },
            {
              "type": "tentative-P",
              "input": ["vector-aggr", "scalar-naggr"],
              "output": "P_tent"
            },
            {
              "type": "tentative-P",
              "input": ["A", "S", "P_tent"],
              "output": "P"
            },
            {
              "type": "transpose",
              "input": "P",
              "output": "R"
            }
          ]
        }
      },
      // "coarse_solver": {
      //   "solver_type": "SolverGaussElim",
      //   "SolverGauss_params": {}
      // },
      "pre_smoother": {
        "smoother_type": "SmootherJacobi", // SmootherJacobi, SmootherSOR
        "SmootherSOR_params": {
          "nsweeps": 2,
          "verb": 0,
          "relax": 1.0,
          "forward": true
        },
        "SmootherJacobi_params": {
          "nsweeps": 2,
          "verb": 0,
          "relax": 1
        }
      },
      "post_smoother": {
        "smoother_type": "SmootherJacobi",
        "SmootherSOR_params": {
          "nsweeps": 2,
          "verb": 0,
          "relax": 1.0,
          "forward": false
        },
        "SmootherJacobi_params": {
          "nsweeps": 2,
          "verb": 0,
          "relax": 1
        }
      }
    }
  }
}
