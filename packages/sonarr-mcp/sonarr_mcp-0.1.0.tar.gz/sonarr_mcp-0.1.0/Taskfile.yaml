version: '3'

dotenv:
  - '.env'

tasks:
  install:
    cmd: |
      uv sync 

  mcp_inspector: 
    cmd: |
      npx @modelcontextprotocol/inspector uv run sonarr-mcp --url $SONARR_URL --api-token $SONARR_API_TOKEN

  build:
    cmd: |
      uv build

  pypi_upload:
    deps:
      - build
    cmd: |
      uv run twine check dist/*
      uv run twine upload -u __token__ -p $PYPI_API_TOKEN dist/*
