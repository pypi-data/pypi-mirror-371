import{S as et,i as tt,s as lt,H as _e,I as me,C as P,D as K,E as Z,K as he,q as N,r as z,F as X,v as it,k as we,w as rt,M as at,e as y,t as F,l as L,c as I,a as w,b as M,d,p as S,f as h,g as D,h as b,G as ve,J as ft,j as B,y as J,u as $,P as ot,m as ie,n as le,a3 as pe,X as ct,T as ut,a5 as dt,N as ge,O as ke}from"./BCvnKofF.js";import"./IHki7fMi.js";import{u as ne,w as Le}from"./kUZEmwP1.js";import{e as Se}from"./CSm0urZa.js";import{e as be,a as _t}from"./D65_I83N.js";import{g as mt}from"./CAfd7NL6.js";import{M as ht}from"./CAH0SlZd.js";import{X as nt}from"./BKFELi7o.js";import{I as vt}from"./BmIpgewV.js";import{S as pt}from"./B2cy1-IZ.js";import{T as st}from"./DqitWVaI.js";import{d as Ue}from"./I1CDPYOB.js";import{S as Ee}from"./CVAJiM1o.js";function Be(r,e,t){const l=r.slice();return l[15]=e[t],l}function Te(r){var f,a,_;let e,t,l,i=((f=r[0])==null?void 0:f.type)&&We(r),s=((a=r[0])==null?void 0:a.description)&&Re(r),n=((_=r[0])==null?void 0:_.created_at)&&qe(r);return{c(){i&&i.c(),e=L(),s&&s.c(),t=L(),n&&n.c(),l=ie()},l(c){i&&i.l(c),e=S(c),s&&s.l(c),t=S(c),n&&n.l(c),l=ie()},m(c,o){i&&i.m(c,o),D(c,e,o),s&&s.m(c,o),D(c,t,o),n&&n.m(c,o),D(c,l,o)},p(c,o){var u,m,v;(u=c[0])!=null&&u.type?i?i.p(c,o):(i=We(c),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),(m=c[0])!=null&&m.description?s?s.p(c,o):(s=Re(c),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),(v=c[0])!=null&&v.created_at?n?n.p(c,o):(n=qe(c),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(c){c&&(d(e),d(t),d(l)),i&&i.d(c),s&&s.d(c),n&&n.d(c)}}}function We(r){let e,t=r[0].type+"",l,i;return{c(){e=y("div"),l=F(t),i=F(`
								•`),this.h()},l(s){e=I(s,"DIV",{class:!0});var n=w(e);l=M(n,t),n.forEach(d),i=M(s,`
								•`),this.h()},h(){h(e,"class","capitalize shrink-0")},m(s,n){D(s,e,n),b(e,l),D(s,i,n)},p(s,n){n&1&&t!==(t=s[0].type+"")&&B(l,t)},d(s){s&&(d(e),d(i))}}}function Re(r){let e,t=r[0].description+"",l,i;return{c(){e=y("div"),l=F(t),i=F(`
								•`),this.h()},l(s){e=I(s,"DIV",{class:!0});var n=w(e);l=M(n,t),n.forEach(d),i=M(s,`
								•`),this.h()},h(){h(e,"class","line-clamp-1")},m(s,n){D(s,e,n),b(e,l),D(s,i,n)},p(s,n){n&1&&t!==(t=s[0].description+"")&&B(l,t)},d(s){s&&(d(e),d(i))}}}function qe(r){let e,t=Ue(r[0].created_at*1e3).format("LL")+"",l;return{c(){e=y("div"),l=F(t),this.h()},l(i){e=I(i,"DIV",{class:!0});var s=w(e);l=M(s,t),s.forEach(d),this.h()},h(){h(e,"class","capitalize shrink-0")},m(i,s){D(i,e,s),b(e,l)},p(i,s){s&1&&t!==(t=Ue(i[0].created_at*1e3).format("LL")+"")&&B(l,t)},d(i){i&&d(e)}}}function He(r){let e,t=ne(r[0].size)+"",l,i;return{c(){e=y("div"),l=F(t),i=F(`
							•`),this.h()},l(s){e=I(s,"DIV",{class:!0});var n=w(e);l=M(n,t),n.forEach(d),i=M(s,`
							•`),this.h()},h(){h(e,"class","capitalize shrink-0")},m(s,n){D(s,e,n),b(e,l),D(s,i,n)},p(s,n){n&1&&t!==(t=ne(s[0].size)+"")&&B(l,t)},d(s){s&&(d(e),d(i))}}}function Oe(r){var c,o,u;let e,t=Le(((u=(o=(c=r[0])==null?void 0:c.file)==null?void 0:o.data)==null?void 0:u.content)??"")+"",l,i,s,n,f,a,_;return f=new vt({}),{c(){e=y("div"),l=F(t),i=F(" extracted lines"),s=L(),n=y("div"),P(f.$$.fragment),a=F(`

								Formatting may be inconsistent from source.`),this.h()},l(m){e=I(m,"DIV",{class:!0});var v=w(e);l=M(v,t),i=M(v," extracted lines"),v.forEach(d),s=S(m),n=I(m,"DIV",{class:!0});var V=w(n);K(f.$$.fragment,V),a=M(V,`

								Formatting may be inconsistent from source.`),V.forEach(d),this.h()},h(){h(e,"class","capitalize shrink-0"),h(n,"class","flex items-center gap-1 shrink-0")},m(m,v){D(m,e,v),b(e,l),b(e,i),D(m,s,v),D(m,n,v),Z(f,n,null),b(n,a),_=!0},p(m,v){var V,p,k;(!_||v&1)&&t!==(t=Le(((k=(p=(V=m[0])==null?void 0:V.file)==null?void 0:p.data)==null?void 0:k.content)??"")+"")&&B(l,t)},i(m){_||(N(f.$$.fragment,m),_=!0)},o(m){z(f.$$.fragment,m),_=!1},d(m){m&&(d(e),d(s),d(n)),X(f)}}}function Pe(r){let e,t=r[7].t("Knowledge Base")+"",l;return{c(){e=y("div"),l=F(t),this.h()},l(i){e=I(i,"DIV",{class:!0});var s=w(e);l=M(s,t),s.forEach(d),this.h()},h(){h(e,"class","capitalize shrink-0")},m(i,s){D(i,e,s),b(e,l)},p(i,s){s&128&&t!==(t=i[7].t("Knowledge Base")+"")&&B(l,t)},d(i){i&&d(e)}}}function Ke(r){let e,t,l;return t=new st({props:{content:r[3]?r[7].t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):r[7].t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),$$slots:{default:[kt]},$$scope:{ctx:r}}}),{c(){e=y("div"),P(t.$$.fragment)},l(i){e=I(i,"DIV",{});var s=w(e);K(t.$$.fragment,s),s.forEach(d)},m(i,s){D(i,e,s),Z(t,e,null),l=!0},p(i,s){const n={};s&136&&(n.content=i[3]?i[7].t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):i[7].t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.")),s&262281&&(n.$$scope={dirty:s,ctx:i}),t.$set(n)},i(i){l||(N(t.$$.fragment,i),l=!0)},o(i){z(t.$$.fragment,i),l=!1},d(i){i&&d(e),X(t)}}}function bt(r){let e=r[7].t("Using Focused Retrieval")+"",t;return{c(){t=F(e)},l(l){t=M(l,e)},m(l,i){D(l,t,i)},p(l,i){i&128&&e!==(e=l[7].t("Using Focused Retrieval")+"")&&B(t,e)},d(l){l&&d(t)}}}function gt(r){let e=r[7].t("Using Entire Document")+"",t;return{c(){t=F(e)},l(l){t=M(l,e)},m(l,i){D(l,t,i)},p(l,i){i&128&&e!==(e=l[7].t("Using Entire Document")+"")&&B(t,e)},d(l){l&&d(t)}}}function kt(r){let e,t,l,i,s;function n(o,u){return o[3]?gt:bt}let f=n(r),a=f(r);function _(o){r[11](o)}let c={};return r[3]!==void 0&&(c.state=r[3]),l=new pt({props:c}),_e.push(()=>me(l,"state",_)),l.$on("change",r[12]),{c(){e=y("div"),a.c(),t=L(),P(l.$$.fragment),this.h()},l(o){e=I(o,"DIV",{class:!0});var u=w(e);a.l(u),t=S(u),K(l.$$.fragment,u),u.forEach(d),this.h()},h(){h(e,"class","flex items-center gap-1.5 text-xs")},m(o,u){D(o,e,u),a.m(e,null),b(e,t),Z(l,e,null),s=!0},p(o,u){f===(f=n(o))&&a?a.p(o,u):(a.d(1),a=f(o),a&&(a.c(),a.m(e,t)));const m={};!i&&u&8&&(i=!0,m.state=o[3],he(()=>i=!1)),l.$set(m)},i(o){s||(N(l.$$.fragment,o),s=!0)},o(o){z(l.$$.fragment,o),s=!1},d(o){o&&d(e),a.d(),X(l)}}}function wt(r){let e,t,l;return t=new Ee({props:{className:"size-5"}}),{c(){e=y("div"),P(t.$$.fragment),this.h()},l(i){e=I(i,"DIV",{class:!0});var s=w(e);K(t.$$.fragment,s),s.forEach(d),this.h()},h(){h(e,"class","flex items-center justify-center py-6")},m(i,s){D(i,e,s),Z(t,e,null),l=!0},p:le,i(i){l||(N(t.$$.fragment,i),l=!0)},o(i){z(t.$$.fragment,i),l=!1},d(i){i&&d(e),X(t)}}}function Et(r){let e;function t(s,n){var f;return((f=s[0])==null?void 0:f.type)==="collection"?Dt:s[6]?It:yt}let l=t(r),i=l(r);return{c(){i.c(),e=ie()},l(s){i.l(s),e=ie()},m(s,n){i.m(s,n),D(s,e,n)},p(s,n){l===(l=t(s))&&i?i.p(s,n):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},i:le,o:le,d(s){s&&d(e),i.d(s)}}}function yt(r){var s,n;let e,t,l=r[4]&&Ze(r),i=((n=(s=r[0])==null?void 0:s.file)==null?void 0:n.data)&&Xe(r);return{c(){l&&l.c(),e=L(),i&&i.c(),t=ie()},l(f){l&&l.l(f),e=S(f),i&&i.l(f),t=ie()},m(f,a){l&&l.m(f,a),D(f,e,a),i&&i.m(f,a),D(f,t,a)},p(f,a){var _,c;f[4]?l?l.p(f,a):(l=Ze(f),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),(c=(_=f[0])==null?void 0:_.file)!=null&&c.data?i?i.p(f,a):(i=Xe(f),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(f){f&&(d(e),d(t)),l&&l.d(f),i&&i.d(f)}}}function It(r){let e,t,l;return{c(){e=y("iframe"),this.h()},l(i){e=I(i,"IFRAME",{title:!0,src:!0,class:!0}),w(e).forEach(d),this.h()},h(){var i;h(e,"title",t=(i=r[0])==null?void 0:i.name),pe(e.src,l=`${be}/files/${r[0].id}/content`)||h(e,"src",l),h(e,"class","w-full h-[70vh] border-0 rounded-lg mt-4")},m(i,s){D(i,e,s)},p(i,s){var n;s&1&&t!==(t=(n=i[0])==null?void 0:n.name)&&h(e,"title",t),s&1&&!pe(e.src,l=`${be}/files/${i[0].id}/content`)&&h(e,"src",l)},d(i){i&&d(e)}}}function Dt(r){var i;let e,t=Se((i=r[0])==null?void 0:i.files),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ge(Be(r,t,s));return{c(){e=y("div");for(let s=0;s<l.length;s+=1)l[s].c()},l(s){e=I(s,"DIV",{});var n=w(e);for(let f=0;f<l.length;f+=1)l[f].l(n);n.forEach(d)},m(s,n){D(s,e,n);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null)},p(s,n){var f;if(n&1){t=Se((f=s[0])==null?void 0:f.files);let a;for(a=0;a<t.length;a+=1){const _=Be(s,t,a);l[a]?l[a].p(_,n):(l[a]=Ge(_),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(s){s&&d(e),ct(l,s)}}}function Ze(r){let e,t;return{c(){e=y("audio"),this.h()},l(l){e=I(l,"AUDIO",{src:!0,class:!0,playsinline:!0}),w(e).forEach(d),this.h()},h(){pe(e.src,t=`${be}/files/${r[0].id}/content`)||h(e,"src",t),h(e,"class","w-full border-0 rounded-lg mb-2"),e.controls=!0,h(e,"playsinline","")},m(l,i){D(l,e,i)},p(l,i){i&1&&!pe(e.src,t=`${be}/files/${l[0].id}/content`)&&h(e,"src",t)},d(l){l&&d(e)}}}function Xe(r){var i,s,n;let e,t=(((n=(s=(i=r[0])==null?void 0:i.file)==null?void 0:s.data)==null?void 0:n.content)??"No content")+"",l;return{c(){e=y("div"),l=F(t),this.h()},l(f){e=I(f,"DIV",{class:!0});var a=w(e);l=M(a,t),a.forEach(d),this.h()},h(){h(e,"class","max-h-96 overflow-scroll scrollbar-hidden text-xs whitespace-pre-wrap")},m(f,a){D(f,e,a),b(e,l)},p(f,a){var _,c,o;a&1&&t!==(t=(((o=(c=(_=f[0])==null?void 0:_.file)==null?void 0:c.data)==null?void 0:o.content)??"No content")+"")&&B(l,t)},d(f){f&&d(e)}}}function Ge(r){var n,f;let e,t,l=((f=(n=r[15])==null?void 0:n.meta)==null?void 0:f.name)+"",i,s;return{c(){e=y("div"),t=y("div"),i=F(l),s=L(),this.h()},l(a){e=I(a,"DIV",{class:!0});var _=w(e);t=I(_,"DIV",{class:!0});var c=w(t);i=M(c,l),c.forEach(d),s=S(_),_.forEach(d),this.h()},h(){h(t,"class","flex-shrink-0 text-xs"),h(e,"class","flex items-center gap-2 mb-2")},m(a,_){D(a,e,_),b(e,t),b(t,i),b(e,s)},p(a,_){var c,o;_&1&&l!==(l=((o=(c=a[15])==null?void 0:c.meta)==null?void 0:o.name)+"")&&B(i,l)},d(a){a&&d(e)}}}function Vt(r){var Ve,Ne,Ce,ze,Fe,Me;let e,t,l,i,s,n,f=(((Ve=r[0])==null?void 0:Ve.name)??"File")+"",a,_,c,o,u,m,v,V,p,k,g,U,se,re,G,H,O,E,ee,ye;u=new nt({});let W=((Ne=r[0])==null?void 0:Ne.type)==="collection"&&Te(r),R=r[0].size&&He(r),j=((Fe=(ze=(Ce=r[0])==null?void 0:Ce.file)==null?void 0:ze.data)==null?void 0:Fe.content)&&Oe(r),q=((Me=r[0])==null?void 0:Me.knowledge)&&Pe(r),A=r[2]&&Ke(r);const Ie=[Et,wt],Q=[];function De(C,T){return C[5]?1:0}return H=De(r),O=Q[H]=Ie[H](r),{c(){e=y("div"),t=y("div"),l=y("div"),i=y("div"),s=y("div"),n=y("a"),a=F(f),_=L(),c=y("div"),o=y("button"),P(u.$$.fragment),m=L(),v=y("div"),V=y("div"),p=y("div"),W&&W.c(),k=L(),R&&R.c(),g=L(),j&&j.c(),U=L(),q&&q.c(),se=L(),A&&A.c(),re=L(),G=y("div"),O.c(),this.h()},l(C){e=I(C,"DIV",{class:!0});var T=w(e);t=I(T,"DIV",{class:!0});var Y=w(t);l=I(Y,"DIV",{class:!0});var te=w(l);i=I(te,"DIV",{});var ae=w(i);s=I(ae,"DIV",{class:!0});var fe=w(s);n=I(fe,"A",{href:!0,class:!0});var oe=w(n);a=M(oe,f),oe.forEach(d),fe.forEach(d),ae.forEach(d),_=S(te),c=I(te,"DIV",{});var ce=w(c);o=I(ce,"BUTTON",{});var ue=w(o);K(u.$$.fragment,ue),ue.forEach(d),ce.forEach(d),te.forEach(d),m=S(Y),v=I(Y,"DIV",{});var je=w(v);V=I(je,"DIV",{class:!0});var de=w(V);p=I(de,"DIV",{class:!0});var x=w(p);W&&W.l(x),k=S(x),R&&R.l(x),g=S(x),j&&j.l(x),U=S(x),q&&q.l(x),x.forEach(d),se=S(de),A&&A.l(de),de.forEach(d),je.forEach(d),Y.forEach(d),re=S(T),G=I(T,"DIV",{class:!0});var Ae=w(G);O.l(Ae),Ae.forEach(d),T.forEach(d),this.h()},h(){h(n,"href","#"),h(n,"class","hover:underline line-clamp-1"),h(s,"class","font-medium text-lg dark:text-gray-100"),h(l,"class","flex items-start justify-between"),h(p,"class","flex flex-wrap text-sm gap-1 text-gray-500"),h(V,"class","flex flex-col items-center md:flex-row gap-1 justify-between w-full"),h(t,"class","pb-2"),h(G,"class","max-h-[75vh] overflow-auto"),h(e,"class","font-primary px-6 py-5 w-full flex flex-col justify-center dark:text-gray-400")},m(C,T){D(C,e,T),b(e,t),b(t,l),b(l,i),b(i,s),b(s,n),b(n,a),b(l,_),b(l,c),b(c,o),Z(u,o,null),b(t,m),b(t,v),b(v,V),b(V,p),W&&W.m(p,null),b(p,k),R&&R.m(p,null),b(p,g),j&&j.m(p,null),b(p,U),q&&q.m(p,null),b(V,se),A&&A.m(V,null),b(e,re),b(e,G),Q[H].m(G,null),E=!0,ee||(ye=[ve(n,"click",ft(r[9])),ve(o,"click",r[10])],ee=!0)},p(C,T){var te,ae,fe,oe,ce,ue;(!E||T&1)&&f!==(f=(((te=C[0])==null?void 0:te.name)??"File")+"")&&B(a,f),((ae=C[0])==null?void 0:ae.type)==="collection"?W?W.p(C,T):(W=Te(C),W.c(),W.m(p,k)):W&&(W.d(1),W=null),C[0].size?R?R.p(C,T):(R=He(C),R.c(),R.m(p,g)):R&&(R.d(1),R=null),(ce=(oe=(fe=C[0])==null?void 0:fe.file)==null?void 0:oe.data)!=null&&ce.content?j?(j.p(C,T),T&1&&N(j,1)):(j=Oe(C),j.c(),N(j,1),j.m(p,U)):j&&(J(),z(j,1,1,()=>{j=null}),$()),(ue=C[0])!=null&&ue.knowledge?q?q.p(C,T):(q=Pe(C),q.c(),q.m(p,null)):q&&(q.d(1),q=null),C[2]?A?(A.p(C,T),T&4&&N(A,1)):(A=Ke(C),A.c(),N(A,1),A.m(V,null)):A&&(J(),z(A,1,1,()=>{A=null}),$());let Y=H;H=De(C),H===Y?Q[H].p(C,T):(J(),z(Q[Y],1,1,()=>{Q[Y]=null}),$(),O=Q[H],O?O.p(C,T):(O=Q[H]=Ie[H](C),O.c()),N(O,1),O.m(G,null))},i(C){E||(N(u.$$.fragment,C),N(j),N(A),N(O),E=!0)},o(C){z(u.$$.fragment,C),z(j),z(A),z(O),E=!1},d(C){C&&d(e),X(u),W&&W.d(),R&&R.d(),j&&j.d(),q&&q.d(),A&&A.d(),Q[H].d(),ee=!1,ot(ye)}}}function Nt(r){let e,t,l;function i(n){r[13](n)}let s={size:"lg",$$slots:{default:[Vt]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.show=r[1]),e=new ht({props:s}),_e.push(()=>me(e,"show",i)),{c(){P(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,f){Z(e,n,f),l=!0},p(n,[f]){const a={};f&262399&&(a.$$scope={dirty:f,ctx:n}),!t&&f&2&&(t=!0,a.show=n[1],he(()=>t=!1)),e.$set(a)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){z(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Ct(r,e,t){let l,i;const s=it("i18n");we(r,s,g=>t(7,i=g));let{item:n}=e,{show:f=!1}=e,{edit:a=!1}=e,_=!1,c=!1,o=!1;const u=async()=>{if((n==null?void 0:n.type)==="collection"){t(5,o=!0);const g=await mt(localStorage.token,n.id).catch(U=>(console.error("Error fetching knowledge base:",U),null));g&&t(0,n.files=g.files||[],n),t(5,o=!1)}await at()};rt(()=>{(n==null?void 0:n.context)==="full"&&t(3,_=!0)});const m=()=>{!l&&n.url&&window.open(n.type==="file"?`${n.url}/content`:`${n.url}`,"_blank")},v=()=>{t(1,f=!1)};function V(g){_=g,t(3,_)}const p=g=>{t(0,n.context=g.detail?"full":void 0,n)};function k(g){f=g,t(1,f)}return r.$$set=g=>{"item"in g&&t(0,n=g.item),"show"in g&&t(1,f=g.show),"edit"in g&&t(2,a=g.edit)},r.$$.update=()=>{var g,U;r.$$.dirty&1&&t(6,l=((g=n==null?void 0:n.meta)==null?void 0:g.content_type)==="application/pdf"||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".pdf"))),r.$$.dirty&1&&t(4,c=(((U=n==null?void 0:n.meta)==null?void 0:U.content_type)??"").startsWith("audio/")||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".mp3"))||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".wav"))||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".ogg"))||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".m4a"))||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".webm"))),r.$$.dirty&2&&f&&u()},[n,f,a,_,c,o,l,i,s,m,v,V,p,k]}class zt extends et{constructor(e){super(),tt(this,e,Ct,Nt,lt,{item:0,show:1,edit:2})}}function Je(r){let e,t,l,i;function s(a){r[18](a)}function n(a){r[19](a)}let f={edit:r[7]};return r[12]!==void 0&&(f.show=r[12]),r[0]!==void 0&&(f.item=r[0]),e=new zt({props:f}),_e.push(()=>me(e,"show",s)),_e.push(()=>me(e,"item",n)),{c(){P(e.$$.fragment)},l(a){K(e.$$.fragment,a)},m(a,_){Z(e,a,_),i=!0},p(a,_){const c={};_&128&&(c.edit=a[7]),!t&&_&4096&&(t=!0,c.show=a[12],he(()=>t=!1)),!l&&_&1&&(l=!0,c.item=a[0],he(()=>l=!1)),e.$set(c)},i(a){i||(N(e.$$.fragment,a),i=!0)},o(a){z(e.$$.fragment,a),i=!1},d(a){X(e,a)}}}function $e(r){let e,t,l,i;const s=[Mt,Ft],n=[];function f(a,_){return a[6]?1:0}return t=f(r),l=n[t]=s[t](r),{c(){e=y("div"),l.c(),this.h()},l(a){e=I(a,"DIV",{class:!0});var _=w(e);l.l(_),_.forEach(d),this.h()},h(){h(e,"class","size-10 shrink-0 flex justify-center items-center bg-black/20 dark:bg-white/10 text-white rounded-xl")},m(a,_){D(a,e,_),n[t].m(e,null),i=!0},p(a,_){let c=t;t=f(a),t!==c&&(J(),z(n[c],1,1,()=>{n[c]=null}),$(),l=n[t],l||(l=n[t]=s[t](a),l.c()),N(l,1),l.m(e,null))},i(a){i||(N(l),i=!0)},o(a){z(l),i=!1},d(a){a&&d(e),n[t].d()}}}function Ft(r){let e,t;return e=new Ee({}),{c(){P(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,i){Z(e,l,i),t=!0},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Mt(r){let e,t,l;return{c(){e=ge("svg"),t=ge("path"),l=ge("path"),this.h()},l(i){e=ke(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,"aria-hidden":!0,class:!0});var s=w(e);t=ke(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(d),l=ke(s,"path",{d:!0}),w(l).forEach(d),s.forEach(d),this.h()},h(){h(t,"fill-rule","evenodd"),h(t,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),h(t,"clip-rule","evenodd"),h(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"viewBox","0 0 24 24"),h(e,"fill","currentColor"),h(e,"aria-hidden","true"),h(e,"class","size-4.5")},m(i,s){D(i,e,s),b(e,t),b(e,l)},i:le,o:le,d(i){i&&d(e)}}}function jt(r){let e,t;return e=new st({props:{content:r[17](r[9]),className:"flex flex-col w-full",placement:"top-start",$$slots:{default:[Lt]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,i){Z(e,l,i),t=!0},p(l,i){const s={};i&512&&(s.content=l[17](l[9])),i&4196928&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function At(r){let e,t,l=r[17](r[9])+"",i,s,n,f,a;function _(m,v){return m[10]==="file"?Tt:m[10]==="doc"?Bt:m[10]==="collection"?Ut:St}let c=_(r),o=c(r),u=r[11]&&Ye(r);return{c(){e=y("div"),t=y("div"),i=F(l),s=L(),n=y("div"),o.c(),f=L(),u&&u.c(),this.h()},l(m){e=I(m,"DIV",{class:!0});var v=w(e);t=I(v,"DIV",{class:!0});var V=w(t);i=M(V,l),V.forEach(d),s=S(v),n=I(v,"DIV",{class:!0});var p=w(n);o.l(p),f=S(p),u&&u.l(p),p.forEach(d),v.forEach(d),this.h()},h(){var m;h(t,"class","dark:text-gray-100 text-sm font-medium line-clamp-1 mb-1"),h(n,"class",a="flex justify-between text-xs line-clamp-1 "+(((m=r[13])==null?void 0:m.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500")),h(e,"class","flex flex-col justify-center -space-y-0.5 px-2.5 w-full")},m(m,v){D(m,e,v),b(e,t),b(t,i),b(e,s),b(e,n),o.m(n,null),b(n,f),u&&u.m(n,null)},p(m,v){var V;v&512&&l!==(l=m[17](m[9])+"")&&B(i,l),c===(c=_(m))&&o?o.p(m,v):(o.d(1),o=c(m),o&&(o.c(),o.m(n,f))),m[11]?u?u.p(m,v):(u=Ye(m),u.c(),u.m(n,null)):u&&(u.d(1),u=null),v&8192&&a!==(a="flex justify-between text-xs line-clamp-1 "+(((V=m[13])==null?void 0:V.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"))&&h(n,"class",a)},i:le,o:le,d(m){m&&d(e),o.d(),u&&u.d()}}}function Qe(r){let e,t,l;return t=new Ee({props:{className:"size-4"}}),{c(){e=y("div"),P(t.$$.fragment),this.h()},l(i){e=I(i,"DIV",{class:!0});var s=w(e);K(t.$$.fragment,s),s.forEach(d),this.h()},h(){h(e,"class","shrink-0 mr-2")},m(i,s){D(i,e,s),Z(t,e,null),l=!0},i(i){l||(N(t.$$.fragment,i),l=!0)},o(i){z(t.$$.fragment,i),l=!1},d(i){i&&d(e),X(t)}}}function Lt(r){let e,t,l,i,s=r[17](r[9])+"",n,f,a,_=ne(r[11])+"",c,o,u=r[6]&&Qe();return{c(){e=y("div"),t=y("div"),u&&u.c(),l=L(),i=y("div"),n=F(s),f=L(),a=y("div"),c=F(_),this.h()},l(m){e=I(m,"DIV",{class:!0});var v=w(e);t=I(v,"DIV",{class:!0});var V=w(t);u&&u.l(V),l=S(V),i=I(V,"DIV",{class:!0});var p=w(i);n=M(p,s),p.forEach(d),f=S(V),a=I(V,"DIV",{class:!0});var k=w(a);c=M(k,_),k.forEach(d),V.forEach(d),v.forEach(d),this.h()},h(){h(i,"class","font-medium line-clamp-1 flex-1"),h(a,"class","text-gray-500 text-xs capitalize shrink-0"),h(t,"class","dark:text-gray-100 text-sm flex justify-between items-center"),h(e,"class","flex flex-col justify-center -space-y-0.5 px-2.5 w-full")},m(m,v){D(m,e,v),b(e,t),u&&u.m(t,null),b(t,l),b(t,i),b(i,n),b(t,f),b(t,a),b(a,c),o=!0},p(m,v){m[6]?u?v&64&&N(u,1):(u=Qe(),u.c(),N(u,1),u.m(t,l)):u&&(J(),z(u,1,1,()=>{u=null}),$()),(!o||v&512)&&s!==(s=m[17](m[9])+"")&&B(n,s),(!o||v&2048)&&_!==(_=ne(m[11])+"")&&B(c,_)},i(m){o||(N(u),o=!0)},o(m){z(u),o=!1},d(m){m&&d(e),u&&u.d()}}}function St(r){let e,t;return{c(){e=y("span"),t=F(r[10]),this.h()},l(l){e=I(l,"SPAN",{class:!0});var i=w(e);t=M(i,r[10]),i.forEach(d),this.h()},h(){h(e,"class","capitalize line-clamp-1")},m(l,i){D(l,e,i),b(e,t)},p(l,i){i&1024&&B(t,l[10])},d(l){l&&d(e)}}}function Ut(r){let e=r[14].t("Collection")+"",t;return{c(){t=F(e)},l(l){t=M(l,e)},m(l,i){D(l,t,i)},p(l,i){i&16384&&e!==(e=l[14].t("Collection")+"")&&B(t,e)},d(l){l&&d(t)}}}function Bt(r){let e=r[14].t("Document")+"",t;return{c(){t=F(e)},l(l){t=M(l,e)},m(l,i){D(l,t,i)},p(l,i){i&16384&&e!==(e=l[14].t("Document")+"")&&B(t,e)},d(l){l&&d(t)}}}function Tt(r){let e=r[14].t("File")+"",t;return{c(){t=F(e)},l(l){t=M(l,e)},m(l,i){D(l,t,i)},p(l,i){i&16384&&e!==(e=l[14].t("File")+"")&&B(t,e)},d(l){l&&d(t)}}}function Ye(r){let e,t=ne(r[11])+"",l;return{c(){e=y("span"),l=F(t),this.h()},l(i){e=I(i,"SPAN",{class:!0});var s=w(e);l=M(s,t),s.forEach(d),this.h()},h(){h(e,"class","capitalize")},m(i,s){D(i,e,s),b(e,l)},p(i,s){s&2048&&t!==(t=ne(i[11])+"")&&B(l,t)},d(i){i&&d(e)}}}function xe(r){let e,t,l,i,s,n,f,a;return l=new nt({props:{className:"size-4"}}),{c(){e=y("div"),t=y("button"),P(l.$$.fragment),this.h()},l(_){e=I(_,"DIV",{class:!0});var c=w(e);t=I(c,"BUTTON",{"aria-label":!0,class:!0,type:!0});var o=w(t);K(l.$$.fragment,o),o.forEach(d),c.forEach(d),this.h()},h(){var _;h(t,"aria-label",i=r[14].t("Remove File")),h(t,"class",s="bg-white text-black border border-gray-50 rounded-full "+(((_=r[13])==null?void 0:_.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden group-hover:visible invisible transition")),h(t,"type","button"),h(e,"class","absolute -top-1 -right-1")},m(_,c){D(_,e,c),b(e,t),Z(l,t,null),n=!0,f||(a=ve(t,"click",dt(r[20])),f=!0)},p(_,c){var o;(!n||c&16384&&i!==(i=_[14].t("Remove File")))&&h(t,"aria-label",i),(!n||c&8192&&s!==(s="bg-white text-black border border-gray-50 rounded-full "+(((o=_[13])==null?void 0:o.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden group-hover:visible invisible transition")))&&h(t,"class",s)},i(_){n||(N(l.$$.fragment,_),n=!0)},o(_){z(l.$$.fragment,_),n=!1},d(_){_&&d(e),X(l),f=!1,a()}}}function Wt(r){let e,t,l,i,s,n,f,a,_,c,o=r[0]&&Je(r),u=!r[8]&&$e(r);const m=[At,jt],v=[];function V(k,g){return k[8]?1:0}i=V(r),s=v[i]=m[i](r);let p=r[4]&&xe(r);return{c(){o&&o.c(),e=L(),t=y("button"),u&&u.c(),l=L(),s.c(),n=L(),p&&p.c(),this.h()},l(k){o&&o.l(k),e=S(k),t=I(k,"BUTTON",{class:!0,type:!0});var g=w(t);u&&u.l(g),l=S(g),s.l(g),n=S(g),p&&p.l(g),g.forEach(d),this.h()},h(){h(t,"class",f="relative group p-1.5 "+r[1]+" flex items-center gap-1 "+r[2]+" "+(r[8]?"rounded-xl":"rounded-2xl")+" text-left"),h(t,"type","button")},m(k,g){o&&o.m(k,g),D(k,e,g),D(k,t,g),u&&u.m(t,null),b(t,l),v[i].m(t,null),b(t,n),p&&p.m(t,null),a=!0,_||(c=ve(t,"click",r[21]),_=!0)},p(k,[g]){k[0]?o?(o.p(k,g),g&1&&N(o,1)):(o=Je(k),o.c(),N(o,1),o.m(e.parentNode,e)):o&&(J(),z(o,1,1,()=>{o=null}),$()),k[8]?u&&(J(),z(u,1,1,()=>{u=null}),$()):u?(u.p(k,g),g&256&&N(u,1)):(u=$e(k),u.c(),N(u,1),u.m(t,l));let U=i;i=V(k),i===U?v[i].p(k,g):(J(),z(v[U],1,1,()=>{v[U]=null}),$(),s=v[i],s?s.p(k,g):(s=v[i]=m[i](k),s.c()),N(s,1),s.m(t,n)),k[4]?p?(p.p(k,g),g&16&&N(p,1)):(p=xe(k),p.c(),N(p,1),p.m(t,null)):p&&(J(),z(p,1,1,()=>{p=null}),$()),(!a||g&262&&f!==(f="relative group p-1.5 "+k[1]+" flex items-center gap-1 "+k[2]+" "+(k[8]?"rounded-xl":"rounded-2xl")+" text-left"))&&h(t,"class",f)},i(k){a||(N(o),N(u),N(s),N(p),a=!0)},o(k){z(o),z(u),z(s),z(p),a=!1},d(k){k&&(d(e),d(t)),o&&o.d(k),u&&u.d(),v[i].d(),p&&p.d(),_=!1,c()}}}function Rt(r,e,t){let l,i;we(r,_t,E=>t(13,l=E));const s=it("i18n");we(r,s,E=>t(14,i=E));const n=ut();let{className:f="w-60"}=e,{colorClassName:a="bg-white dark:bg-gray-850 border border-gray-50 dark:border-white/5"}=e,{url:_=null}=e,{dismissible:c=!1}=e,{modal:o=!1}=e,{loading:u=!1}=e,{item:m=null}=e,{edit:v=!1}=e,{small:V=!1}=e,{name:p}=e,{type:k}=e,{size:g}=e,U=!1;const se=E=>{try{return decodeURIComponent(E)}catch{return E}};function re(E){U=E,t(12,U)}function G(E){m=E,t(0,m)}const H=()=>{n("dismiss")},O=async()=>{var E,ee;(ee=(E=m==null?void 0:m.file)==null?void 0:E.data)!=null&&ee.content||o?t(12,U=!U):_&&(k==="file"?window.open(`${_}/content`,"_blank").focus():window.open(`${_}`,"_blank").focus()),n("click")};return r.$$set=E=>{"className"in E&&t(1,f=E.className),"colorClassName"in E&&t(2,a=E.colorClassName),"url"in E&&t(3,_=E.url),"dismissible"in E&&t(4,c=E.dismissible),"modal"in E&&t(5,o=E.modal),"loading"in E&&t(6,u=E.loading),"item"in E&&t(0,m=E.item),"edit"in E&&t(7,v=E.edit),"small"in E&&t(8,V=E.small),"name"in E&&t(9,p=E.name),"type"in E&&t(10,k=E.type),"size"in E&&t(11,g=E.size)},[m,f,a,_,c,o,u,v,V,p,k,g,U,l,i,s,n,se,re,G,H,O]}class el extends et{constructor(e){super(),tt(this,e,Rt,Wt,lt,{className:1,colorClassName:2,url:3,dismissible:4,modal:5,loading:6,item:0,edit:7,small:8,name:9,type:10,size:11})}}export{el as F};
//# sourceMappingURL=Cc93WmSw.js.map
