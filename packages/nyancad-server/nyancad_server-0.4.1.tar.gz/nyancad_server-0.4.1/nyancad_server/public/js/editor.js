import { $APP, shadow$provide } from "./common.js";
var XB=function(a){var b=WB;$APP.ec(b,a);return b},YB=function(a){return(0,$APP.fv)(a)},ZB=function(a){a=a.destroy;return a==null?null:a.m?a.m():a.call(null)},$B=function(a,b,c){var d=$APP.Md;for(b=$APP.D(b);;)if(b!=null){a=$APP.sd(a,$APP.E(b),d);if(d===a)return c;b=$APP.G(b)}else return a},aC=function(a,b,c,d,e){this.meta=a;this.f=b;this.Zd=c;this.seed=d;this.next=e;this.o=26083532;this.D=1},bC=function(a,b){return new aC(null,a,null,b,null)},cC=function(a){return function d(c){return new $APP.Ce(null,
function(){return $APP.ye(c,$APP.n($APP.Cd.g?$APP.Cd.g(c):$APP.Cd.call(null,c))?$APP.yf(d,$APP.K([$APP.D.g?$APP.D.g(c):$APP.D.call(null,c)])):null)},null,null)}(a)},dC=function(a){return $APP.Af(function(b){return!$APP.Cd(b)},$APP.Mc(cC(a)))},eC=function(){var a=$APP.Zj;return a==null?[]:$APP.lk(function(){return[]},a,$APP.Vw,null,ZB)},fC=function(a,b,c,d,e,f){this.forms=a;this.Ab=b;this.gb=c;this.Cd=d;this.fd=e;this.vf=f;this.o=393216;this.D=0},gC=function(a,b,c){var d=new $APP.Bi(function(){return $APP.Cg.h($APP.Xf,
$APP.sf.i($APP.yn,b,a))}),e=function(){switch($APP.H(b)){case 2:return function(f){var g=$APP.u(d);f=$APP.$m(g.g?g.g(0):g.call(null,0),f);return $APP.rn(f)?$APP.qn:$APP.$m(g.g?g.g(1):g.call(null,1),f)};case 3:return function(f){var g=$APP.u(d);f=$APP.$m(g.g?g.g(0):g.call(null,0),f);if($APP.rn(f))return $APP.qn;f=$APP.$m(g.g?g.g(1):g.call(null,1),f);return $APP.rn(f)?$APP.qn:$APP.$m(g.g?g.g(2):g.call(null,2),f)};default:return function(f){for(var g=$APP.u(d),h=0;;)if(h<$APP.H(g)){f=$APP.$m(g.g?g.g(h):
g.call(null,h),f);if($APP.rn(f))return $APP.qn;h+=1}else return f}}}();return new fC(a,b,c,d,e,$APP.R)},hC=function(a){var b=new $APP.za,c=$APP.Sp;$APP.Sp=new $APP.vc(b);try{var d=$APP.Sp,e=$APP.Ra($APP.nr(d)),f=$APP.Sp;$APP.Sp=e?$APP.er(d):d;try{d=$APP.pr;$APP.pr=!0;try{$APP.rr(a)}finally{$APP.pr=d}$APP.I.h(0,$APP.cq($APP.Sp))||$APP.v($APP.Sp,"\n");$APP.Zp()}finally{$APP.Sp=f}$APP.ii($APP.r.g(b))}finally{$APP.Sp=c}},iC=function(a){return a.g?a.g(0):a.call(null,0)},jC=function(a){var b=iC(a);a=$APP.Lz.g($APP.yd(a));
return a.g?a.g(b):a.call(null,b)},kC=function(a){if($APP.n(jC(a))){var b=iC(a);a=$APP.ww.g($APP.yd(a));return a.g?a.g(b):a.call(null,b)}throw"called children on a leaf node";},lC=function(a,b,c){a=$APP.Gw.g($APP.yd(a));return a.h?a.h(b,c):a.call(null,b,c)},mC=function(a){if($APP.n(jC(a))){var b=$APP.N(a,0,null),c=$APP.N(a,1,null),d=kC(a),e=$APP.D(d),f=$APP.E(e);e=$APP.G(e);return $APP.n(d)?$APP.xd(new $APP.U(null,2,5,$APP.V,[f,new $APP.l(null,4,[$APP.cz,$APP.Xf,$APP.$y,$APP.n(c)?$APP.ve.h($APP.$y.g(c),
b):new $APP.U(null,1,5,$APP.V,[b],null),$APP.vz,c,$APP.Vy,e],null)],null),$APP.yd(a)):null}return null},nC=function(a){var b=$APP.N(a,0,null),c=$APP.N(a,1,null),d=$APP.Xe(c);c=$APP.O(d,$APP.cz);var e=$APP.O(d,$APP.vz),f=$APP.O(d,$APP.$y),g=$APP.O(d,$APP.Vy);d=$APP.O(d,$APP.sx);return $APP.n(f)?(f=f==null?null:$APP.Eb(f),$APP.xd($APP.n(d)?new $APP.U(null,2,5,$APP.V,[lC(a,f,$APP.xf.h(c,$APP.ye(b,g))),$APP.n(e)?$APP.W.i(e,$APP.sx,!0):e],null):new $APP.U(null,2,5,$APP.V,[f,e],null),$APP.yd(a))):null},
oC=function(a){a=a==null?null:mC(a);if(a==null)a=null;else{var b=$APP.N(a,0,null),c=$APP.N(a,1,null);c=$APP.Xe(c);var d=$APP.O(c,$APP.cz),e=$APP.O(c,$APP.Vy);a=$APP.n($APP.n(c)?e:c)?$APP.xd(new $APP.U(null,2,5,$APP.V,[$APP.od(e),$APP.W.j(c,$APP.cz,$APP.T.u($APP.ve,d,b,$APP.Nh(e)),$APP.K([$APP.Vy,null]))],null),$APP.yd(a)):a}return a==null?null:iC(a)},qC=function(a){var b=pC;$APP.X.h(b,function(c){var d=new $APP.se(null,a,null,1,null);d=lC(c,iC(c),$APP.ye(d,kC(c)));$APP.N(c,0,null);var e=$APP.N(c,
1,null);c=$APP.xd(new $APP.U(null,2,5,$APP.V,[d,$APP.W.i(e,$APP.sx,!0)],null),$APP.yd(c));return mC(c)});return oC($APP.u(b))},rC=function(){var a=pC;$APP.X.h(a,function(b){return $APP.n(oC(nC(b)))?nC(b):b});return oC($APP.u(a))},sC=function(){var a=pC;$APP.X.h(a,function(b){return $APP.n(oC(mC(b)))?mC(b):b});return oC($APP.u(a))},uC=function(a){a=$APP.T.h(tC,$APP.yf($APP.Hp.h($APP.Jp,2),$APP.K([a])))+1;return $APP.n(isFinite(a))?a:1},vC=function(a){var b=function(){var d=$APP.H($APP.dv.g(a));d=1>
d?1:d;var e=$APP.H($APP.Yt.g(a));return d>e?d:e}(),c=function(){var d=$APP.H($APP.cv.g(a));d=1>d?1:d;var e=$APP.H($APP.hy.g(a));return d>e?d:e}();return new $APP.U(null,2,5,$APP.V,[c,b],null)},wC=function(a){var b=vC(a),c=$APP.N(b,0,null),d=$APP.N(b,1,null);b=$APP.cv.g(a);var e=$APP.hy.g(a),f=$APP.dv.g(a);a=$APP.Yt.g(a);return new $APP.U(null,4,5,$APP.V,[$APP.kf(function(g,h){return new $APP.U(null,3,5,$APP.V,[g+1,0,h],null)},b),$APP.kf(function(g,h){return new $APP.U(null,3,5,$APP.V,[g+1,d+1,h],
null)},e),$APP.kf(function(g,h){return new $APP.U(null,3,5,$APP.V,[0,g+1,h],null)},f),$APP.kf(function(g,h){return new $APP.U(null,3,5,$APP.V,[c+1,g+1,h],null)},a)],null)},xC=function(a){function b(c,d,e){return $APP.n(e)?$APP.ve.h(c,d):c}return b(b(b(b($APP.Jh([$APP.ni.g($APP.wj(a.key))]),$APP.dx,a.ctrlKey),$APP.fw,a.altKey),$APP.sz,a.shiftKey),$APP.uy,a.metaKey)},yC=function(a,b){if($APP.n(function(){var c=b.repeat;return $APP.n(c)?c:$APP.I.h("INPUT",b.target.tagName)||$APP.I.h("TEXTAREA",b.target.tagName)}()))return null;
$APP.vi($APP.K([xC(b)]));a=$APP.sd(a,xC(b),function(){return $APP.Lc});return a.m?a.m():a.call(null)},zC=function(a){return $APP.sj(YB(function(){var b=new $APP.za,c=$APP.La,d=$APP.Ma;$APP.La=!0;$APP.Ma=function(e){return b.append(e)};try{hC(a)}finally{$APP.Ma=d,$APP.La=c}return $APP.r.g(b)}())," ","Â ")},AC=function(a,b){return $APP.sj($APP.sj(a,/(?<=[^{]|^)\{([^{}:]+)(?::(?:\.(\d+))?([ef])?)?\}(?=[^}]|$)/,function(c){$APP.N(c,0,null);var d=$APP.N(c,1,null),e=$APP.N(c,2,null);c=$APP.N(c,3,null);try{var f=
$APP.sf.h($APP.Oh,$APP.Ah(b)),g=$APP.sf.h($APP.pl,$APP.Ch(b)),h=$APP.T.h(Function,$APP.xf.h(f,new $APP.U(null,1,5,$APP.V,[["return (",$APP.r.g(d),")"].join("")],null))),m=$APP.T.h(h,g);var p=$APP.Ki(m,$APP.K([$APP.Ii,!1]));var q=parseFloat(p);switch(c){case "e":return q.toExponential(parseInt(e));case "f":return q.toFixed(parseInt(e));default:return $APP.Dd(p)?zC(p):$APP.n(p)?p:"?"}}catch(t){if(t instanceof Error)return console.warn("Warning formatting",a,t),"?";throw t;}}),/\{\{|\}\}/,$APP.E)},BC=
function(a){return $APP.n(a)?["models:",$APP.r.g(a)].join(""):null},CC=function(a){return $APP.of($APP.Xu,new $APP.U(null,3,5,$APP.V,[$APP.Fy,new $APP.U(null,2,5,$APP.V,[$APP.Yy,a],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,1,[$APP.Cy,function(){return $APP.of($APP.Xu,null)}],null),"Ok"],null)],null))},DC=function(a){switch(a){case "resistor":return"R";case "inductor":return"L";case "capacitor":return"C";case "diode":return"D";case "vsource":return"V";case "isource":return"I";case "npn":return"Q";
case "pnp":return"Q";case "pmos":return"M";case "nmos":return"M";case "wire":return"W";case "port":return"P";default:return"X"}},FC=function(a){var b=$APP.sf.h(function(c){return[$APP.r.g(EC),":",$APP.r.g(DC(a)),$APP.r.g(c)].join("")},$APP.G($APP.Yh(0,Number.MAX_VALUE)));return $APP.E($APP.Bf($APP.u(WB),b))},HC=function(a){var b=$APP.bb($APP.nv,$APP.Mh($APP.Ah($APP.u(WB))),$APP.Ah(a)),c=$APP.bb(function(e,f){return $APP.sv.u(e,f,$APP.ek,$APP.Wm)},a,$APP.Ah(a)),d=$APP.Km(1);$APP.nm(function(){var e=
function(){function g(h){var m=h[1];if(m===1){m=XB(GC);var p=$APP.X.i(WB,$APP.Cg,c);h[7]=m;return $APP.Hm(h,2,p)}return m===2?(m=h[2],p=$APP.X.i(WB,function(){return function(q,t){return $APP.T.i($APP.ek,q,t)}}(),b),h[8]=m,$APP.Hm(h,3,p)):m===3?(m=h[2],p=$APP.Ai(WB,GC,function(){return function(q,t,w,y){return qC(y)}}()),h[9]=m,$APP.Im(h,p)):null}return function(){function h(q){for(;;){a:{try{for(;;){var t=g(q);if(!$APP.Q(t,$APP.Z)){var w=t;break a}}}catch(y){w=y;q[2]=w;if($APP.D(q[4]))q[1]=$APP.E(q[4]);
else throw w;w=$APP.Z;break a}w=void 0}if(!$APP.Q(w,$APP.Z))return w}}function m(){var q=[null,null,null,null,null,null,null,null,null,null];q[0]=p;q[1]=1;return q}var p=null;p=function(q){switch(arguments.length){case 0:return m.call(this);case 1:return h.call(this,q)}throw Error("Invalid arity: "+arguments.length);};p.m=m;p.g=h;return p}()}(),f=function(){var g=e();g[6]=d;return g}();return $APP.Gm(f)});return d},IC=function(){var a=rC();return $APP.n(a)?HC(a):null},JC=function(){var a=sC();return $APP.n(a)?
HC(a):null},NC=function(a,b){return new $APP.U(null,2,5,$APP.V,[KC,new $APP.l(null,3,[LC,a+25,MC,b+25,$APP.Vy,5],null)],null)},SC=function(a,b,c){var d=$APP.N(a,0,null);a=$APP.N(a,1,null);return new $APP.U(null,5,5,$APP.V,[OC,2+(d>a?d:a),b,c,new $APP.U(null,2,5,$APP.V,[PC,new $APP.l(null,4,[$APP.Pu,50,$APP.Qu,50,QC,d*50,RC,a*50],null)],null)],null)},TC=function(a,b,c,d,e){return new $APP.U(null,6,5,$APP.V,[$APP.T,OC,a,d,e,function(){return function h(g){return new $APP.Ce(null,function(){for(;;){var m=
$APP.D(g);if(m){if($APP.Gd(m)){var p=$APP.nc(m),q=$APP.H(p),t=$APP.He(q);a:{for(var w=0;;)if(w<q){var y=$APP.qd(p,w),z=$APP.N(y,0,null),A=$APP.N(y,1,null);$APP.N(y,2,null);y=t;z=$APP.xd(new $APP.U(null,5,5,$APP.V,[c,z*50,A*50,d,e],null),new $APP.l(null,1,[$APP.Ij,new $APP.U(null,2,5,$APP.V,[z,A],null)],null));y.add(z);w+=1}else{p=!0;break a}p=void 0}return p?$APP.Ke($APP.Me(t),h($APP.oc(m))):$APP.Ke($APP.Me(t),null)}t=$APP.E(m);p=$APP.N(t,0,null);q=$APP.N(t,1,null);$APP.N(t,2,null);return $APP.ye($APP.xd(new $APP.U(null,
5,5,$APP.V,[c,p*50,q*50,d,e],null),new $APP.l(null,1,[$APP.Ij,new $APP.U(null,2,5,$APP.V,[p,q],null)],null)),h($APP.Mc(m)))}return null}},null,null)}(b)}()],null)},WC=function(a){return new $APP.U(null,2,5,$APP.V,[$APP.Rz,function(){return function d(c){return new $APP.Ce(null,function(){for(;;){var e=$APP.D(c);if(e){var f=e;if($APP.Gd(f)){var g=$APP.nc(f),h=$APP.H(g),m=$APP.He(h);return function(){for(var q=0;;)if(q<h){var t=$APP.qd(g,q);$APP.Le(m,$APP.xd(new $APP.U(null,2,5,$APP.V,[UC,new $APP.l(null,
1,[VC,$APP.sf.h(function(){return function(w){return w*50}}(q,t,g,h,m,f,e),dC(t))],null)],null),new $APP.l(null,1,[$APP.Ij,t],null)));q+=1}else return!0}()?$APP.Ke($APP.Me(m),d($APP.oc(f))):$APP.Ke($APP.Me(m),null)}var p=$APP.E(f);return $APP.ye($APP.xd(new $APP.U(null,2,5,$APP.V,[UC,new $APP.l(null,1,[VC,$APP.sf.h(function(){return function(q){return q*50}}(p,f,e),dC(p))],null)],null),new $APP.l(null,1,[$APP.Ij,p],null)),d($APP.Mc(f)))}return null}},null,null)}(a)}()],null)},YC=function(a,b,c,d){return new $APP.U(null,
2,5,$APP.V,[XC,new $APP.l(null,2,[$APP.Uy,["rotate(",$APP.r.g(d)," ",$APP.r.g(a*50)," ",$APP.r.g(b*50),")"].join(""),VC,$APP.sf.h(function(e){return e*50},new $APP.U(null,6,5,$APP.V,[a,b,a+c,b+c,a+c,b-c],null))],null)],null)},eD=function(a,b){var c=function(){var e=$APP.od($APP.u(ZC));return $APP.n(e)?$APP.Bb(e):$APP.R}(),d=$APP.Cg.i($APP.R,$APP.qv.h($APP.zf(function(e){return $APP.Nd(e,$APP.Fj)}),$APP.sf.g(function(e){return new $APP.U(null,2,5,$APP.V,[$APP.ni.g($APP.Fj.g(e)),e],null)})),$APP.Ch($APP.u(WB)));
a=AC(b,new $APP.l(null,3,[$C,c,aD,d,bD,a],null));return $APP.kf(function(e,f){return new $APP.U(null,3,5,$APP.V,[cD,new $APP.l(null,3,[$APP.Ij,f,$APP.Pu,"0",dD,e===0?"0":"1.2em"],null),f],null)},$APP.zj(a,/\n|\r\n/))},jD=function(a,b){var c=$APP.sd(a,fD,gD.g($APP.O(hD,$APP.Wz.g(a))));return $APP.n(c)?new $APP.U(null,3,5,$APP.V,[iD,new $APP.l(null,1,[$APP.Uy,$APP.Nu($APP.Uy.g(a)).translate(b/-2*50,b/-2*50).inverse().translate(30,-12.5).toString()],null),eD(a,c)],null):null},kD=function(a,b){return new $APP.U(null,
7,5,$APP.V,[OC,3,a,b,new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,4,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[.5,1.5],null),new $APP.U(null,2,5,$APP.V,[1.1,1.5],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.1,1.1],null),new $APP.U(null,2,5,$APP.V,[1.1,1.9],null)],null),new $APP.U(null,6,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,.5],null),new $APP.U(null,2,5,$APP.V,[1.5,1.1],null),new $APP.U(null,2,5,$APP.V,[1.2,1.1],null),new $APP.U(null,2,5,$APP.V,
[1.2,1.9],null),new $APP.U(null,2,5,$APP.V,[1.5,1.9],null),new $APP.U(null,2,5,$APP.V,[1.5,2.5],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,1.5],null),new $APP.U(null,2,5,$APP.V,[1.2,1.5],null)],null)],null)],null),new $APP.U(null,3,5,$APP.V,[jD,b,3],null),$APP.I.h($APP.Wz.g(b),"nmos")?new $APP.U(null,5,5,$APP.V,[YC,1.3,1.5,.12,0],null):new $APP.U(null,5,5,$APP.V,[YC,1.4,1.5,.12,180],null)],null)},lD=function(a,b){return new $APP.U(null,7,5,$APP.V,[OC,3,a,b,new $APP.U(null,
3,5,$APP.V,[jD,b,3],null),new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,3,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[.5,1.5],null),new $APP.U(null,2,5,$APP.V,[1.15,1.5],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.15,1.15],null),new $APP.U(null,2,5,$APP.V,[1.15,1.85],null)],null),new $APP.U(null,6,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,.5],null),new $APP.U(null,2,5,$APP.V,[1.5,1.1],null),new $APP.U(null,2,5,$APP.V,[1.15,1.4],null),new $APP.U(null,
2,5,$APP.V,[1.15,1.6],null),new $APP.U(null,2,5,$APP.V,[1.5,1.9],null),new $APP.U(null,2,5,$APP.V,[1.5,2.5],null)],null)],null)],null),$APP.I.h($APP.Wz.g(b),"npn")?new $APP.U(null,5,5,$APP.V,[YC,1.4,1.81,.12,-140],null):new $APP.U(null,5,5,$APP.V,[YC,1.25,1.68,.12,40],null)],null)},nD=function(a,b){var c=$APP.nz.g(b);c=$APP.Cf($APP.u(mD),new $APP.U(null,2,5,$APP.V,[BC(c),$APP.cx],null));c=$APP.n(c)?vC(c):new $APP.U(null,2,5,$APP.V,[1,1],null);return SC(c,a,b)},oD=function(a,b){var c=$APP.nz.g(b);
c=$APP.Cf($APP.u(mD),new $APP.U(null,2,5,$APP.V,[BC(c),$APP.cx],null));var d=$APP.n(c)?vC(c):new $APP.U(null,2,5,$APP.V,[1,1],null),e=$APP.N(d,0,null);d=$APP.N(d,1,null);var f=$APP.n(c)?$APP.T.h($APP.xf,wC(c)):$APP.Xf;$APP.vi($APP.K([c,f]));return TC(2+(e>d?e:d),f,NC,a,b)},pD=function(a){return["?",$APP.r.g((new URLSearchParams({schem:a})).toString())].join("")},rD=function(a,b){var c=$APP.nz.g(b),d=$APP.Cf($APP.u(mD),new $APP.U(null,2,5,$APP.V,[BC(c),$APP.cx],null)),e=$APP.n(d)?vC(d):new $APP.U(null,
2,5,$APP.V,[1,1],null);c=$APP.N(e,0,null);e=$APP.N(e,1,null);d=wC(d);var f=$APP.N(d,0,null),g=$APP.N(d,1,null),h=$APP.N(d,2,null),m=$APP.N(d,3,null);return new $APP.U(null,5,5,$APP.V,[OC,2+(c>e?c:e),a,b,new $APP.U(null,6,5,$APP.V,[$APP.Rz,new $APP.U(null,2,5,$APP.V,[WC,function(){return function t(q){return new $APP.Ce(null,function(){for(;;){var w=$APP.D(q);if(w){if($APP.Gd(w)){var y=$APP.nc(w),z=$APP.H(y),A=$APP.He(z);a:{for(var F=0;;)if(F<z){var J=$APP.qd(y,F),M=$APP.N(J,0,null),S=$APP.N(J,1,null);
$APP.N(J,2,null);A.add(new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[M+.5,S+.5],null),new $APP.U(null,2,5,$APP.V,[M+.5,S+1],null)],null));F+=1}else{y=!0;break a}y=void 0}return y?$APP.Ke($APP.Me(A),t($APP.oc(w))):$APP.Ke($APP.Me(A),null)}A=$APP.E(w);y=$APP.N(A,0,null);z=$APP.N(A,1,null);$APP.N(A,2,null);return $APP.ye(new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[y+.5,z+.5],null),new $APP.U(null,2,5,$APP.V,[y+.5,z+1],null)],null),t($APP.Mc(w)))}return null}},null,null)}(f)}()],
null),new $APP.U(null,2,5,$APP.V,[WC,function(){return function t(q){return new $APP.Ce(null,function(){for(;;){var w=$APP.D(q);if(w){if($APP.Gd(w)){var y=$APP.nc(w),z=$APP.H(y),A=$APP.He(z);a:{for(var F=0;;)if(F<z){var J=$APP.qd(y,F),M=$APP.N(J,0,null),S=$APP.N(J,1,null);$APP.N(J,2,null);A.add(new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[M+.5,S+0],null),new $APP.U(null,2,5,$APP.V,[M+.5,S+.5],null)],null));F+=1}else{y=!0;break a}y=void 0}return y?$APP.Ke($APP.Me(A),t($APP.oc(w))):$APP.Ke($APP.Me(A),
null)}A=$APP.E(w);y=$APP.N(A,0,null);z=$APP.N(A,1,null);$APP.N(A,2,null);return $APP.ye(new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[y+.5,z+0],null),new $APP.U(null,2,5,$APP.V,[y+.5,z+.5],null)],null),t($APP.Mc(w)))}return null}},null,null)}(g)}()],null),new $APP.U(null,2,5,$APP.V,[WC,function(){return function t(q){return new $APP.Ce(null,function(){for(;;){var w=$APP.D(q);if(w){if($APP.Gd(w)){var y=$APP.nc(w),z=$APP.H(y),A=$APP.He(z);a:{for(var F=0;;)if(F<z){var J=$APP.qd(y,F),M=$APP.N(J,
0,null),S=$APP.N(J,1,null);$APP.N(J,2,null);A.add(new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[M+0,S+.5],null),new $APP.U(null,2,5,$APP.V,[M+.5,S+.5],null)],null));F+=1}else{y=!0;break a}y=void 0}return y?$APP.Ke($APP.Me(A),t($APP.oc(w))):$APP.Ke($APP.Me(A),null)}A=$APP.E(w);y=$APP.N(A,0,null);z=$APP.N(A,1,null);$APP.N(A,2,null);return $APP.ye(new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[y+0,z+.5],null),new $APP.U(null,2,5,$APP.V,[y+.5,z+.5],null)],null),t($APP.Mc(w)))}return null}},
null,null)}(m)}()],null),new $APP.U(null,2,5,$APP.V,[WC,function(){return function t(q){return new $APP.Ce(null,function(){for(;;){var w=$APP.D(q);if(w){if($APP.Gd(w)){var y=$APP.nc(w),z=$APP.H(y),A=$APP.He(z);a:{for(var F=0;;)if(F<z){var J=$APP.qd(y,F),M=$APP.N(J,0,null),S=$APP.N(J,1,null);$APP.N(J,2,null);A.add(new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[M+1,S+.5],null),new $APP.U(null,2,5,$APP.V,[M+.5,S+.5],null)],null));F+=1}else{y=!0;break a}y=void 0}return y?$APP.Ke($APP.Me(A),t($APP.oc(w))):
$APP.Ke($APP.Me(A),null)}A=$APP.E(w);y=$APP.N(A,0,null);z=$APP.N(A,1,null);$APP.N(A,2,null);return $APP.ye(new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[y+1,z+.5],null),new $APP.U(null,2,5,$APP.V,[y+.5,z+.5],null)],null),t($APP.Mc(w)))}return null}},null,null)}(h)}()],null),new $APP.U(null,2,5,$APP.V,[qD,new $APP.l(null,4,[$APP.Pu,50,$APP.Qu,50,QC,50*c,RC,50*e],null)],null)],null)],null)},sD=function(a,b,c,d){var e=$APP.N(b,0,null),f=$APP.N(b,1,null),g=$APP.N(b,2,null),h=$APP.N(b,3,null),
m=$APP.N(b,4,null),p=$APP.N(b,5,null),q=uC(a)/2-.5;return $APP.sf.h(function(t){var w=$APP.N(t,0,null),y=$APP.N(t,1,null);$APP.N(t,2,null);t=w-q;y-=q;return new $APP.U(null,2,5,$APP.V,[Math.round(c+(e*t+g*y+m)+q),Math.round(d+(f*t+h*y+p)+q)],null)},a)},tD=function(a,b){return $APP.G($APP.Qh(function(c){return $APP.Ye(c,a+b)},bC(function(c){return c+(b>0?1:-1)},a)))},uD=function(a){var b=$APP.Xe(a);$APP.O(b,$APP.Um);var c=$APP.O(b,$APP.Pu),d=$APP.O(b,$APP.Qu);a=$APP.O(b,$APP.uz);b=$APP.O(b,$APP.tz);
return new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[c,d],null),new $APP.U(null,2,5,$APP.V,[c+a,d+b],null)],null),$APP.I.h(a,0)?$APP.sf.h(function(e){return new $APP.U(null,2,5,$APP.V,[c,e],null)},tD(d,b)):$APP.I.h(b,0)?$APP.sf.h(function(e){return new $APP.U(null,2,5,$APP.V,[e,d],null)},tD(c,a)):$APP.Xf],null)},xD=function(a){var b=$APP.Xe(a),c=$APP.O(b,$APP.Um),d=$APP.O(b,$APP.Pu),e=$APP.O(b,$APP.Qu),f=$APP.O(b,$APP.Wz),g=$APP.O(b,$APP.Uy),h=$APP.O(hD,f),m=
vD.g(h),p=wD.g(h),q=$APP.N(p,0,null),t=$APP.N(p,1,null);return new $APP.U(null,2,5,$APP.V,[sD(m,g,d,e),sD(function(){return function z(y){return new $APP.Ce(null,function(){for(var A=y;;){var F=$APP.D(A);if(F){var J=F,M=$APP.E(J);if(F=$APP.D(function(S,Y,ma,ra,Sa,$a,Ba,Ja,Qa,va,Aa,jb,Vc,ge,he,Df){return function ie(rh){return new $APP.Ce(null,function(sh,Ef){return function(){for(;;){var Ee=$APP.D(rh);if(Ee){if($APP.Gd(Ee)){var Fe=$APP.nc(Ee),je=$APP.H(Fe),Oc=$APP.He(je);a:{for(var ke=0;;)if(ke<je){var le=
$APP.qd(Fe,ke);Oc.add(new $APP.U(null,3,5,$APP.V,[Ef+1,le+1,"%"],null));ke+=1}else{Fe=!0;break a}Fe=void 0}return Fe?$APP.Ke($APP.Me(Oc),ie($APP.oc(Ee))):$APP.Ke($APP.Me(Oc),null)}Oc=$APP.E(Ee);return $APP.ye(new $APP.U(null,3,5,$APP.V,[Ef+1,Oc+1,"%"],null),ie($APP.Mc(Ee)))}return null}}}(S,Y,ma,ra,Sa,$a,Ba,Ja,Qa,va,Aa,jb,Vc,ge,he,Df),null,null)}}(A,M,J,F,h,m,p,q,t,a,b,c,d,e,f,g)($APP.Zh(t))))return $APP.xf.h(F,z($APP.Mc(A)));A=$APP.Mc(A)}else return null}},null,null)}($APP.Zh(q))}(),g,d,e)],null)},
yD=function(a){var b=$APP.Xe(a),c=$APP.O(b,$APP.Um),d=$APP.O(b,$APP.Pu),e=$APP.O(b,$APP.Qu),f=$APP.O(b,$APP.nz),g=$APP.O(b,$APP.Uy),h=$APP.O($APP.u(mD),BC(f)),m=$APP.cx.g(h),p=$APP.n(m)?$APP.T.h($APP.xf,wC(m)):$APP.Xf,q=$APP.n(m)?vC(m):new $APP.U(null,2,5,$APP.V,[1,1],null),t=$APP.N(q,0,null),w=$APP.N(q,1,null);return new $APP.U(null,2,5,$APP.V,[sD(p,g,d,e),sD(function(){return function A(z){return new $APP.Ce(null,function(){for(var F=z;;){var J=$APP.D(F);if(J){var M=J,S=$APP.E(M);if(J=$APP.D(function(Y,
ma,ra,Sa,$a,Ba,Ja,Qa,va,Aa,jb,Vc,ge,he,Df,vj,rh){return function Ef(sh){return new $APP.Ce(null,function(Ee,Fe){return function(){for(;;){var je=$APP.D(sh);if(je){if($APP.Gd(je)){var Oc=$APP.nc(je),ke=$APP.H(Oc),le=$APP.He(ke);a:{for(var Ff=0;;)if(Ff<ke){var ym=$APP.qd(Oc,Ff);le.add(new $APP.U(null,3,5,$APP.V,[Fe+1,ym+1,"%"],null));Ff+=1}else{Oc=!0;break a}Oc=void 0}return Oc?$APP.Ke($APP.Me(le),Ef($APP.oc(je))):$APP.Ke($APP.Me(le),null)}le=$APP.E(je);return $APP.ye(new $APP.U(null,3,5,$APP.V,[Fe+
1,le+1,"%"],null),Ef($APP.Mc(je)))}return null}}}(Y,ma,ra,Sa,$a,Ba,Ja,Qa,va,Aa,jb,Vc,ge,he,Df,vj,rh),null,null)}}(F,S,M,J,h,m,p,q,t,w,a,b,c,d,e,f,g)($APP.Zh(w))))return $APP.xf.h(J,A($APP.Mc(F)));F=$APP.Mc(F)}else return null}},null,null)}($APP.Zh(t))}(),g,d,e)],null)},zD=function(a){var b=$APP.Wz.g(a);return $APP.I.h(b,"wire")?uD(a):$APP.I.h(b,"text")?$APP.Xf:$APP.Nd(hD,b)?xD(a):yD(a)},AD=function(){var a=$APP.u(WB);a=$APP.Ch(a);for(var b=$APP.D(a),c=$APP.E(b),d=$APP.G(b),e=$APP.R,f=$APP.R,g=a;;){var h=
e,m=f,p=g,q=$APP.D(p),t=$APP.E(q),w=$APP.G(q),y=t,z=w,A=zD(y),F=$APP.N(A,0,null),J=$APP.N(A,1,null),M=$APP.bb(function(S,Y,ma,ra,Sa,$a,Ba,Ja,Qa,va,Aa,jb,Vc){return function(ge,he){return $APP.sv.u(ge,he,$APP.YA,$APP.Um.g(Vc))}}(e,f,g,A,F,J,h,m,p,q,t,w,y,z,$APP.R,$APP.R,a,a,b,c,d,c,d),h,F);e=$APP.bb(function(S,Y,ma,ra,Sa,$a,Ba,Ja,Qa,va,Aa,jb,Vc,ge){return function(he,Df){return $APP.sv.u(he,Df,$APP.YA,$APP.Um.g(ge))}}(e,f,g,A,F,J,M,h,m,p,q,t,w,y,z,$APP.R,$APP.R,a,a,b,c,d,c,d),m,J);if(z)f=e,e=M,g=z;
else return new $APP.U(null,2,5,$APP.V,[M,e],null)}},BD=function(a){var b=$APP.N(a,0,null);a=$APP.N(a,1,null);return $APP.bb(function(c,d){var e=$APP.N(d,0,null);d=$APP.N(d,1,null);return $APP.Nd(b,e)?$APP.bb(function(f,g){return $APP.sv.u(f,g,$APP.ZA,e)},c,$APP.Af(function(f){return $APP.I.h("wire",$APP.Cf($APP.u(WB),new $APP.U(null,2,5,$APP.V,[f,$APP.Wz],null)))},d)):c},$APP.R,a)},ED=function(a,b){var c=$APP.O($APP.u(WB),a),d=$APP.Xe(c);c=$APP.O(d,$APP.Pu);var e=$APP.O(d,$APP.Qu),f=$APP.O(d,$APP.uz);
d=$APP.O(d,$APP.tz);c=(0,$APP.ZA)(b,new $APP.U(null,2,5,$APP.V,[c,e],null),new $APP.U(null,2,5,$APP.V,[c+f,e+d],null));b=$APP.E($APP.u(CD));a:{f=$APP.D(c);e=$APP.E(f);f=$APP.G(f);$APP.N(e,0,null);$APP.N(e,1,null);e=$APP.D(f);f=$APP.E(e);$APP.G(e);$APP.N(f,0,null);$APP.N(f,1,null);f=a;d=c;for(e=$APP.R;;){c=f;d=$APP.D(d);f=$APP.E(d);var g=$APP.G(d);d=f;f=$APP.N(d,0,null);d=$APP.N(d,1,null);var h=g;g=$APP.D(h);var m=$APP.E(g);$APP.G(g);g=$APP.N(m,0,null);m=$APP.N(m,1,null);var p=e;if(h)e=$APP.Oh($APP.Kk.g(a)),
c=$APP.zd(DD.h($APP.O(b,new $APP.U(null,2,5,$APP.V,[f,d],null)),$APP.O(b,new $APP.U(null,2,5,$APP.V,[g,m],null))))?$APP.W.i(p,c,new $APP.l(null,6,[$APP.Wz,"wire",$APP.Uy,$APP.aB,$APP.Pu,f,$APP.Qu,d,$APP.uz,g-f,$APP.tz,m-d],null)):p,f=e,d=h,e=c;else{a=p;break a}}a=void 0}return $APP.X.i(WB,$APP.Hp.h($APP.bu,$APP.Pk),a)},FD=function(a){var b=document.querySelector(".mosaic-canvas").getScreenCTM().inverse();a=$APP.Ru(a.clientX,a.clientY).matrixTransform(b);return new $APP.U(null,2,5,$APP.V,[a.x/50,a.y/
50],null)},ID=function(a,b,c){return $APP.X.u(GD,$APP.sv,HD,function(d){var e=$APP.N(d,0,null),f=$APP.N(d,1,null),g=$APP.N(d,2,null);d=$APP.N(d,3,null);var h=a*g*.1,m=a*d*.1;return new $APP.U(null,4,5,$APP.V,[e-(b-e)/g*h,f-(c-f)/d*m,g+h,d+m],null)})},JD=function(a){var b=FD(a),c=$APP.N(b,0,null);b=$APP.N(b,1,null);return ID(a.deltaY>0?1:-1,c*50,b*50)},KD=function(a){var b=HD.g($APP.u(GD)),c=$APP.N(b,0,null),d=$APP.N(b,1,null),e=$APP.N(b,2,null);b=$APP.N(b,3,null);return ID(a,c+e/2,d+b/2)},LD=function(a){var b=
FC($APP.Wz.g(a)),c=$APP.od($APP.zj(b,":"));return $APP.X.u(WB,$APP.W,b,$APP.n($APP.Fj.g(a))?a:$APP.W.i(a,$APP.Fj,c))},PD=function(a){a=$APP.qv.i($APP.Ou,a,$APP.Nu);return $APP.n($APP.u(MD))?$APP.X.u(MD,$APP.sv,$APP.Uy,a):$APP.X.j(WB,ND,$APP.u(OD),$APP.sv,$APP.K([$APP.Uy,a]))},RD=function(){var a=QD.g($APP.u(GD));$APP.X.u(GD,$APP.W,QD,$APP.Ih);return $APP.X.i(WB,function(b,c){return $APP.T.i($APP.ek,b,c)},a)},TD=function(a){return $APP.X.u(GD,$APP.sv,HD,function(b){var c=$APP.N(b,0,null),d=$APP.N(b,
1,null),e=$APP.N(b,2,null);b=$APP.N(b,3,null);var f=document.querySelector(".mosaic-canvas").getScreenCTM().inverse();f.e=0;f.f=0;var g=$APP.u(SD);var h=$APP.N(g,0,null);var m=$APP.N(g,1,null);g=a.clientX;var p=a.clientY;f=$APP.Ru(g-h,p-m).matrixTransform(f);$APP.of(SD,new $APP.U(null,2,5,$APP.V,[g,p],null));h=new $APP.U(null,2,5,$APP.V,[f.x,f.y],null);f=$APP.N(h,0,null);h=$APP.N(h,1,null);return new $APP.U(null,4,5,$APP.V,[c-f,d-h,e,b],null)})},WD=function(a){var b=FD(a);a=$APP.N(b,0,null);b=$APP.N(b,
1,null);var c=UD.g($APP.u(GD)),d=$APP.N(c,0,null);c=$APP.N(c,1,null);return $APP.X.j(VD,$APP.W,$APP.Pu,a-d,$APP.K([$APP.Qu,b-c]))},XD=function(a){var b=FD(a),c=$APP.N(b,0,null),d=$APP.N(b,1,null);return $APP.X.h(MD,function(e){var f=c-$APP.Pu.g(e)-.5,g=d-$APP.Qu.g(e)-.5;return $APP.n(a.ctrlKey)?$APP.W.j(e,$APP.uz,f,$APP.K([$APP.tz,g])):Math.abs(f)>Math.abs(g)?$APP.W.j(e,$APP.uz,f,$APP.K([$APP.tz,0])):$APP.W.j(e,$APP.uz,0,$APP.K([$APP.tz,g]))})},ZD=function(a){var b=YD.g($APP.u(GD));switch(b instanceof
$APP.P?b.ea:null){case "nyancad.mosaic.editor/view":return TD(a);case "nyancad.mosaic.editor/wire":return XD(a);case "nyancad.mosaic.editor/device":return WD(a);case "nyancad.mosaic.editor/box":return WD(a);default:return null}},cE=function(a,b){if($APP.I.h(b.buttons,1)&&$APP.I.h($APP.u($D),aE)&&!$APP.Nd($APP.u(bE),a)){var c=$APP.Km(1);$APP.nm(function(){var d=function(){return function(){function f(m){for(;;){a:{try{for(;;){var p=void 0,q=m,t=q[1];if(t===1){var w=$APP.X.i(bE,$APP.ve,a),y=$APP.X.i(WB,
$APP.ek,a);q[7]=w;p=q;var z=$APP.Hm(p,2,y)}else if(t===2){var A=q[2],F=$APP.X.i(bE,$APP.nv,a);q[8]=A;p=q;z=$APP.Im(p,F)}else z=null;if(!$APP.Q(z,$APP.Z)){var J=z;break a}}}catch(M){J=M;m[2]=J;if($APP.D(m[4]))m[1]=$APP.E(m[4]);else throw J;J=$APP.Z;break a}J=void 0}if(!$APP.Q(J,$APP.Z))return J}}function g(){var m=[null,null,null,null,null,null,null,null,null];m[0]=h;m[1]=1;return m}var h=null;h=function(m){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,m)}throw Error("Invalid arity: "+
arguments.length);};h.m=g;h.g=f;return h}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Gm(e)});return c}return null},fE=function(a){$APP.X.u(GD,$APP.W,dE,FD(a));var b=$APP.u($D);switch(b instanceof $APP.P?b.ea:null){case "nyancad.mosaic.editor/wire":a:switch(b=YD.g($APP.u(GD)),b instanceof $APP.P?b.ea:null){case "nyancad.mosaic.editor/view":a=TD(a);break a;case "nyancad.mosaic.editor/wire":a=XD(a);break a;default:a=null}return a;case "nyancad.mosaic.editor/pan":return a.buttons>0?TD(a):
null;case "nyancad.mosaic.editor/device":if($APP.I.h(YD.g($APP.u(GD)),eE))a=TD(a);else{b=FD(a);a=$APP.N(b,0,null);b=$APP.N(b,1,null);var c=$APP.Cf(hD,new $APP.U(null,2,5,$APP.V,[$APP.Wz.g($APP.u(MD)),wD],null)),d=$APP.N(c,0,null);c=$APP.N(c,1,null);a=$APP.X.j(MD,$APP.W,$APP.Pu,Math.round(a-d-.5),$APP.K([$APP.Qu,Math.round(b-c-.5)]))}return a;default:return ZD(a)}},iE=function(a){var b=$APP.N(a,0,null);a=$APP.N(a,1,null);return $APP.X.j(GD,$APP.W,gE,new $APP.l(null,5,[$APP.Wz,"wire",$APP.Pu,Math.floor(b),
$APP.Qu,Math.floor(a),$APP.uz,0,$APP.tz,0],null),$APP.K([YD,hE]))},jE=function(a,b){var c=$APP.N(a,0,null);a=$APP.N(a,1,null);if($APP.n(b))return iE(new $APP.U(null,2,5,$APP.V,[c,a],null));var d=ND.i($APP.u(MD),new $APP.Hh(null,new $APP.l(null,2,[$APP.uz,null,$APP.tz,null],null),null),Math.round);c=$APP.Xe(d);b=$APP.O(c,$APP.uz);c=$APP.O(c,$APP.tz);var e=Math.round($APP.Pu.g(d)+b),f=Math.round($APP.Qu.g(d)+c),g=$APP.u(CD);a=$APP.N(g,0,null);g=$APP.N(g,1,null);a=$APP.Nd(a,new $APP.U(null,2,5,$APP.V,
[e,f],null))||$APP.Nd(g,new $APP.U(null,2,5,$APP.V,[e,f],null));if(Math.abs(b)<.5&&Math.abs(c)<.5)return $APP.X.j(GD,$APP.W,gE,null,$APP.K([YD,null]));if(a){var h=$APP.Km(1);$APP.nm(function(){var m=function(){return function(){function q(y){for(;;){a:{try{for(;;){var z=y,A=z[1];if(A===1){var F=LD(d);var J=$APP.Hm(z,2,F)}else if(A===2){var M=z[2],S=$APP.X.j(GD,$APP.W,gE,null,$APP.K([YD,null]));z[7]=M;J=$APP.Im(z,S)}else J=null;if(!$APP.Q(J,$APP.Z)){var Y=J;break a}}}catch(ma){Y=ma;y[2]=Y;if($APP.D(y[4]))y[1]=
$APP.E(y[4]);else throw Y;Y=$APP.Z;break a}Y=void 0}if(!$APP.Q(Y,$APP.Z))return Y}}function t(){var y=[null,null,null,null,null,null,null,null];y[0]=w;y[1]=1;return y}var w=null;w=function(y){switch(arguments.length){case 0:return t.call(this);case 1:return q.call(this,y)}throw Error("Invalid arity: "+arguments.length);};w.m=t;w.g=q;return w}()}(),p=function(){var q=m();q[6]=h;return q}();return $APP.Gm(p)})}else h=$APP.Km(1),$APP.nm(function(){var m=function(){return function(){function q(y){for(;;){a:{try{for(;;){var z=
y,A=z[1];if(A===1){var F=LD(d);var J=$APP.Hm(z,2,F)}else if(A===2){var M=z[2],S=iE(new $APP.U(null,2,5,$APP.V,[e,f],null));z[7]=M;J=$APP.Im(z,S)}else J=null;if(!$APP.Q(J,$APP.Z)){var Y=J;break a}}}catch(ma){Y=ma;y[2]=Y;if($APP.D(y[4]))y[1]=$APP.E(y[4]);else throw Y;Y=$APP.Z;break a}Y=void 0}if(!$APP.Q(Y,$APP.Z))return Y}}function t(){var y=[null,null,null,null,null,null,null,null];y[0]=w;y[1]=1;return y}var w=null;w=function(y){switch(arguments.length){case 0:return t.call(this);case 1:return q.call(this,
y)}throw Error("Invalid arity: "+arguments.length);};w.m=t;w.g=q;return w}()}(),p=function(){var q=m();q[6]=h;return q}();return $APP.Gm(p)});return h},kE=function(){function a(h,m){return $APP.I.h($APP.Wz.g(m),"wire")?$APP.ve.j(h,new $APP.U(null,2,5,$APP.V,[$APP.Pu.g(m),$APP.Qu.g(m)],null),$APP.K([new $APP.U(null,2,5,$APP.V,[$APP.Pu.g(m)+$APP.uz.g(m),$APP.Qu.g(m)+$APP.tz.g(m)],null)])):h}function b(h){h=$APP.O(c,h);var m=$APP.I.h($APP.Wz.g(h),"wire");return m?h:m}var c=$APP.u(WB),d=$APP.ff(c,$APP.u(OD));
if($APP.n(d)){var e=a($APP.Ih,d);for(d=$APP.Jh([$APP.Um.g(d)]);;)if($APP.D(e)){var f=$APP.u(CD),g=$APP.N(f,0,null);$APP.N(f,1,null);f=$APP.cA.h($APP.Mh($APP.Af(b,$APP.yf(g,$APP.K([e])))),d);g=$APP.bb(a,$APP.Ih,$APP.sf.h(c,f));e=$APP.cA.h(g,e);d=$APP.Cg.h(d,f)}else return $APP.of(OD,d)}else return null},nE=function(){var a=$APP.u(GD),b=gE.g(a);a=$APP.n(b)?$APP.I.h(lE.g(a),hE):b;return $APP.n(a)?$APP.X.j(GD,$APP.W,YD,null,$APP.K([gE,null])):$APP.X.j(GD,$APP.W,YD,null,$APP.K([lE,mE,gE,null]))},pE=function(a){$APP.vi($APP.K([a]));
return oE.postMessage(a)},rE=function(a,b){function c(g){return $APP.W.i(g,YD,function(){var h=lE.g(g);h=h instanceof $APP.P?h.ea:null;switch(h){case "nyancad.mosaic.editor/cursor":return qE;case "nyancad.mosaic.editor/wire":return hE;case "nyancad.mosaic.editor/pan":return eE;case "nyancad.mosaic.editor/probe":return null;default:throw Error(["No matching clause: ",$APP.r.g(h)].join(""));}}())}function d(g){var h=$APP.Nd(g,a);return $APP.n(h?h:b.shiftKey)?(0,$APP.YA)(g,a):$APP.Jh([a])}$APP.X.u(GD,
$APP.W,UD,FD(b));$APP.of(SD,new $APP.U(null,2,5,$APP.V,[b.clientX,b.clientY],null));var e=$APP.u(GD);if($APP.Ye(lE.g(e),qE)&&$APP.I.h(b.button,0))if(b.stopPropagation(),$APP.I.h(b.detail,1)){var f=lE.g(e);switch(f instanceof $APP.P?f.ea:null){case "nyancad.mosaic.editor/wire":return jE(FD(b),YD.g(e)==null);case "nyancad.mosaic.editor/eraser":return cE(a,b);case "nyancad.mosaic.editor/probe":return pE(a);default:return $APP.X.h(GD,function(g){return c($APP.sv.i(g,QD,d))})}}else switch(e=lE.g(e),e=
e instanceof $APP.P?e.ea:null,e){case "nyancad.mosaic.editor/cursor":return kE();case "nyancad.mosaic.editor/wire":return nE();default:throw Error(["No matching clause: ",$APP.r.g(e)].join(""));}else return null},tE=function(a){$APP.of(SD,new $APP.U(null,2,5,$APP.V,[a.clientX,a.clientY],null));return $APP.I.h(a.button,1)?$APP.X.u(GD,$APP.W,YD,eE):$APP.I.h(a.button,0)&&$APP.I.h(null,YD.g($APP.u(GD)))&&$APP.I.h(mE,$APP.u($D))?$APP.X.j(GD,$APP.W,QD,$APP.Ih,$APP.K([YD,sE,UD,FD(a)])):$APP.I.h(a.button,
0)&&$APP.I.h(hE,$APP.u($D))?jE(FD(a),YD.g($APP.u(GD))==null):null},uE=function(a){var b=YD.g($APP.u(GD));b=$APP.n(b)?b:$APP.Ye(lE.g($APP.u(GD)),mE);return $APP.n(b)?(nE(),a.preventDefault()):null},DE=function(a,b,c,d){b=$APP.O($APP.sd(hD,$APP.Wz.g(b),new $APP.l(null,3,[wD,new $APP.Hc(function(){return nD},vE,$APP.gh([$APP.ku,$APP.Fj,$APP.lu,$APP.mu,$APP.nu,$APP.fq,$APP.ou,$APP.pu,$APP.Qm,$APP.qu],[wE,xE,"nyancad/mosaic/editor.cljs",20,1,360,360,$APP.Aj(new $APP.U(null,2,5,$APP.V,[$APP.bz,$APP.ez],
null)),null,$APP.n(nD)?nD.Rc:null])),vD,new $APP.Hc(function(){return oD},yE,$APP.gh([$APP.ku,$APP.Fj,$APP.lu,$APP.mu,$APP.nu,$APP.fq,$APP.ou,$APP.pu,$APP.Qm,$APP.qu],[wE,zE,"nyancad/mosaic/editor.cljs",19,1,366,366,$APP.Aj(new $APP.U(null,2,5,$APP.V,[$APP.bz,$APP.ez],null)),null,$APP.n(oD)?oD.Rc:null])),AE,new $APP.Hc(function(){return rD},BE,$APP.gh([$APP.ku,$APP.Fj,$APP.lu,$APP.mu,$APP.nu,$APP.fq,$APP.ou,$APP.pu,$APP.Qm,$APP.qu],[wE,CE,"nyancad/mosaic/editor.cljs",18,1,378,378,$APP.Aj(new $APP.U(null,
2,5,$APP.V,[$APP.bz,$APP.ez],null)),null,$APP.n(rD)?rD.Rc:null]))],null)),a);return $APP.vd(b)?$APP.xd(new $APP.U(null,3,5,$APP.V,[b,c,d],null),new $APP.l(null,1,[$APP.Ij,c],null)):$APP.I.h(a,wD)?$APP.xd(new $APP.U(null,4,5,$APP.V,[SC,b,c,d],null),new $APP.l(null,1,[$APP.Ij,c],null)):$APP.I.h(a,vD)?$APP.xd(new $APP.U(null,6,5,$APP.V,[TC,uC(b),b,NC,c,d],null),new $APP.l(null,1,[$APP.Ij,c],null)):$APP.xd(new $APP.U(null,1,5,$APP.V,[function(e){return $APP.vi($APP.K(["invalid model for",e]))}],null),
new $APP.l(null,1,[$APP.Ij,c],null))},FE=function(a,b,c,d){function e(f,g){return $APP.sv.i(f,QD,function(h){return $APP.Cg.i($APP.Ih,$APP.zf(function(m){return $APP.Nd(g,m)}),h)})}$APP.X.h(GD,function(f){f=$APP.W.j(f,YD,null,$APP.K([EE,new $APP.l(null,4,[$APP.Pu,0,$APP.Qu,0,$APP.uz,0,$APP.tz,0],null)]));f=$APP.n(a)?$APP.W.i(f,QD,$APP.Ih):f;return e(f,$APP.u(WB))});return $APP.X.u(WB,ND,b,function(f){f=$APP.Xe(f);var g=$APP.O(f,$APP.Pu),h=$APP.O(f,$APP.Qu);return $APP.W.j(f,$APP.Pu,Math.round(g+c),
$APP.K([$APP.Qu,Math.round(h+d)]))})},GE=function(){var a=UD.g($APP.u(GD)),b=$APP.N(a,0,null),c=$APP.N(a,1,null),d=EE.g($APP.u(GD)),e=$APP.Xe(d),f=$APP.O(e,$APP.Pu),g=$APP.O(e,$APP.Qu),h=Math.floor(Math.min(b,b+f)),m=Math.floor(Math.min(c,c+g)),p=Math.floor(Math.max(b,b+f)),q=Math.floor(Math.max(c,c+g)),t=$APP.u(CD),w=$APP.N(t,0,null),y=$APP.N(t,1,null),z=$APP.T.h($APP.bA,function(){return function M(J){return new $APP.Ce(null,function(){for(var S=J;;){var Y=$APP.D(S);if(Y){var ma=Y,ra=$APP.E(ma);
if(Y=$APP.D(function(Sa,$a,Ba,Ja,Qa,va,Aa,jb,Vc,ge,he,Df,vj,rh,ie,sh,Ef,Ee){return function Oc(je){return new $APP.Ce(null,function(ke,le,Ff,ym,Do,th,Eo,Mr,Nr,Fo,zm,Or,Nc,KG,LG,MG,lt){return function(){for(;;){var dk=$APP.D(je);if(dk){if($APP.Gd(dk)){var aj=$APP.nc(dk),Sh=$APP.H(aj),Tf=$APP.He(Sh);a:{for(var Jl=0;;)if(Jl<Sh){var Th=$APP.qd(aj,Jl),xn=Tf;Th=$APP.O(lt,new $APP.U(null,2,5,$APP.V,[le,Th],null));xn.add(Th);Jl+=1}else{aj=!0;break a}aj=void 0}return aj?$APP.Ke($APP.Me(Tf),Oc($APP.oc(dk))):
$APP.Ke($APP.Me(Tf),null)}Tf=$APP.E(dk);return $APP.ye($APP.O(lt,new $APP.U(null,2,5,$APP.V,[le,Tf],null)),Oc($APP.Mc(dk)))}return null}}}(Sa,$a,Ba,Ja,Qa,va,Aa,jb,Vc,ge,he,Df,vj,rh,ie,sh,Ef,Ee),null,null)}}(S,ra,ma,Y,a,b,c,d,e,f,g,h,m,p,q,t,w,y)($APP.Yh(m,q+1))))return $APP.xf.h(Y,M($APP.Mc(S)));S=$APP.Mc(S)}else return null}},null,null)}($APP.Yh(h,p+1))}()),A=$APP.T.i($APP.bA,z,function(){return function M(J){return new $APP.Ce(null,function(){for(var S=J;;){var Y=$APP.D(S);if(Y){var ma=Y,ra=$APP.E(ma);
if(Y=$APP.D(function(Sa,$a,Ba,Ja,Qa,va,Aa,jb,Vc,ge,he,Df,vj,rh,ie,sh,Ef,Ee,Fe){return function ke(Oc){return new $APP.Ce(null,function(le,Ff,ym,Do,th,Eo,Mr,Nr,Fo,zm,Or,Nc,KG,LG,MG,lt,dk,aj){return function(){for(;;){var Sh=$APP.D(Oc);if(Sh){if($APP.Gd(Sh)){var Tf=$APP.nc(Sh),Jl=$APP.H(Tf),Th=$APP.He(Jl);a:{for(var xn=0;;)if(xn<Jl){var mt=$APP.qd(Tf,xn),NG=Th;mt=$APP.O(aj,new $APP.U(null,2,5,$APP.V,[Ff,mt],null));NG.add(mt);xn+=1}else{Tf=!0;break a}Tf=void 0}return Tf?$APP.Ke($APP.Me(Th),ke($APP.oc(Sh))):
$APP.Ke($APP.Me(Th),null)}Th=$APP.E(Sh);return $APP.ye($APP.O(aj,new $APP.U(null,2,5,$APP.V,[Ff,Th],null)),ke($APP.Mc(Sh)))}return null}}}(Sa,$a,Ba,Ja,Qa,va,Aa,jb,Vc,ge,he,Df,vj,rh,ie,sh,Ef,Ee,Fe),null,null)}}(S,ra,ma,Y,a,b,c,d,e,f,g,h,m,p,q,t,w,y,z)($APP.Yh(m,q+1))))return $APP.xf.h(Y,M($APP.Mc(S)));S=$APP.Mc(S)}else return null}},null,null)}($APP.Yh(h,p+1))}());$APP.vi($APP.K([h,m,p,q,A]));return $APP.X.j(GD,$APP.W,YD,null,$APP.K([EE,new $APP.l(null,4,[$APP.Pu,0,$APP.Qu,0,$APP.uz,0,$APP.tz,0],null),
QD,$APP.Mh(A)]))},HE=function(a){a.stopPropagation();var b=$APP.I.h(a.target,a.currentTarget),c=QD.g($APP.u(GD)),d=$APP.u(VD),e=$APP.Xe(d);d=$APP.O(e,$APP.Pu);e=$APP.O(e,$APP.Qu);return $APP.I.h(lE.g($APP.u(GD)),qE)&&$APP.I.h(a.button,0)?LD($APP.u(MD)):$APP.I.h(YD.g($APP.u(GD)),sE)?GE():$APP.I.h(YD.g($APP.u(GD)),hE)?null:FE(b,c,d,e)},JE=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=2<b.length?new $APP.C(b.slice(2),0,null):null;return IE(arguments[0],
arguments[1],b)},IE=function(a,b,c){var d=$APP.N(b,0,null);b=$APP.N(b,1,null);c=$APP.T.h($APP.Ji,c);var e=$APP.Cf(hD,new $APP.U(null,2,5,$APP.V,[a,wD],null)),f=$APP.N(e,0,null);e=$APP.N(e,1,null);return $APP.X.j(GD,$APP.W,gE,$APP.Cg.h(new $APP.l(null,4,[$APP.Uy,$APP.aB,$APP.Wz,a,$APP.Pu,Math.round(d-f/2-1),$APP.Qu,Math.round(b-e/2-1)],null),c),$APP.K([lE,qE]))},KE=function(){var a=['\x3c?xml-stylesheet type\x3d"text/css" href\x3d"https://nyancad.github.io/Mosaic/app/css/style.css" ?\x3e',$APP.r.g(document.querySelector(".mosaic-canvas").outerHTML)].join("");
return btoa($APP.sj(encodeURIComponent(a),/%([0-9A-F]{2})/,function(b){return String.fromCharCode(["0x",$APP.r.g($APP.gd(b,1))].join(""))}))},OE=function(){return $APP.X.u(LE,$APP.W,[$APP.r.g(EC),"$snapshots:",$APP.r.g((new Date).toISOString())].join(""),new $APP.l(null,2,[ME,$APP.u(WB),$APP.Kw,new $APP.l(null,1,["preview.svg",new $APP.l(null,2,[NE,"image/svg+xml",$APP.Zv,KE()],null)],null)],null))},SE=function(a){var b=$APP.Ll(WB,new $APP.U(null,2,5,$APP.V,[a,PE],null)),c=$APP.Ll(WB,new $APP.U(null,
2,5,$APP.V,[a,$APP.Wz],null)),d=$APP.Ll(WB,new $APP.U(null,2,5,$APP.V,[a,$APP.nz],null)),e=$APP.Ll(WB,new $APP.U(null,2,5,$APP.V,[a,$APP.Fj],null));return function(f){return new $APP.U(null,3,5,$APP.V,[$APP.Rz,new $APP.U(null,2,5,$APP.V,[$APP.dy,function(){var g=$APP.u(e);return $APP.n(g)?g:f}()],null),new $APP.U(null,9,5,$APP.V,[$APP.Ov,$APP.D($APP.u(d))&&$APP.I.h($B($APP.u(mD),new $APP.U(null,2,5,$APP.V,[BC($APP.u(d)),$APP.Wz],null),"ckt"),"ckt")?new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,
1,[$APP.Zz,pD($APP.u(d))],null),"Edit"],null):null,new $APP.U(null,3,5,$APP.V,[$APP.fx,new $APP.l(null,2,[$APP.Ey,"name",$APP.lw,"Instance name"],null),"name"],null),new $APP.U(null,2,5,$APP.V,[$APP.Dx,new $APP.l(null,4,[$APP.Bl,"name",$APP.Wz,"text",$APP.Wv,$APP.u(e),$APP.qw,$APP.ka(function(g){return $APP.of(e,g.target.value)})],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fx,new $APP.l(null,2,[$APP.Ey,"model",$APP.lw,"Device model"],null),"model"],null),new $APP.U(null,4,5,$APP.V,[$APP.Qw,new $APP.l(null,
4,[$APP.Bl,"model",$APP.Wz,"text",$APP.Wv,$APP.u(d),$APP.qw,function(g){return $APP.of(d,g.target.value)}],null),new $APP.U(null,3,5,$APP.V,[$APP.oy,new $APP.l(null,1,[$APP.Dw,""],null),"Ideal"],null),$APP.bi(function(){return function m(h){return new $APP.Ce(null,function(){for(var p=h;;)if(p=$APP.D(p)){if($APP.Gd(p)){var q=$APP.nc(p),t=$APP.H(q),w=$APP.He(t);a:{for(var y=0;;)if(y<t){var z=$APP.qd(q,y),A=$APP.N(z,0,null),F=$APP.N(z,1,null);$APP.I.h($APP.Wz.h(F,"ckt"),$APP.u(c))&&(z=w,A=new $APP.U(null,
3,5,$APP.V,[$APP.oy,new $APP.l(null,2,[$APP.Ij,A,$APP.Dw,$APP.Tu(A)],null),$APP.Fj.g(F)],null),z.add(A));y+=1}else{q=!0;break a}q=void 0}return q?$APP.Ke($APP.Me(w),m($APP.oc(p))):$APP.Ke($APP.Me(w),null)}q=$APP.E(p);w=$APP.N(q,0,null);q=$APP.N(q,1,null);if($APP.I.h($APP.Wz.h(q,"ckt"),$APP.u(c)))return $APP.ye(new $APP.U(null,3,5,$APP.V,[$APP.oy,new $APP.l(null,2,[$APP.Ij,w,$APP.Dw,$APP.Tu(w)],null),$APP.Fj.g(q)],null),m($APP.Mc(p)));p=$APP.Mc(p)}else return null},null,null)}($APP.u(mD))}())],null),
$APP.bi(function(){return function m(h){return new $APP.Ce(null,function(){for(;;){var p=$APP.D(h);if(p){var q=p;if($APP.Gd(q)){var t=$APP.nc(q),w=$APP.H(t),y=$APP.He(w);return function(){for(var J=0;;)if(J<w){var M=$APP.qd(t,J),S=$APP.N(M,0,null),Y=$APP.N(M,1,null);$APP.Le(y,new $APP.U(null,4,5,$APP.V,[$APP.Rz,new $APP.l(null,1,[$APP.Ij,S],null),new $APP.U(null,3,5,$APP.V,[$APP.fx,new $APP.l(null,2,[$APP.Ey,S,$APP.lw,QE.g(Y)],null),S],null),new $APP.U(null,2,5,$APP.V,[$APP.Dx,new $APP.l(null,4,[$APP.Bl,
S,$APP.Wz,"text",$APP.Wv,$APP.O($APP.u(b),S),$APP.qw,$APP.ka(function(ma,ra,Sa,$a,Ba,Ja,Qa,va,Aa,jb){return function(Vc){return $APP.X.u(jb,$APP.W,Sa,Vc.target.value)}}(J,M,S,Y,t,w,y,q,p,b,c,d,e))],null)],null)],null));J+=1}else return!0}()?$APP.Ke($APP.Me(y),m($APP.oc(q))):$APP.Ke($APP.Me(y),null)}var z=$APP.E(q),A=$APP.N(z,0,null),F=$APP.N(z,1,null);return $APP.ye(new $APP.U(null,4,5,$APP.V,[$APP.Rz,new $APP.l(null,1,[$APP.Ij,A],null),new $APP.U(null,3,5,$APP.V,[$APP.fx,new $APP.l(null,2,[$APP.Ey,
A,$APP.lw,QE.g(F)],null),A],null),new $APP.U(null,2,5,$APP.V,[$APP.Dx,new $APP.l(null,4,[$APP.Bl,A,$APP.Wz,"text",$APP.Wv,$APP.O($APP.u(b),A),$APP.qw,$APP.ka(function(J,M,S,Y,ma,ra){return function(Sa){return $APP.X.u(ra,$APP.W,M,Sa.target.value)}}(z,A,F,q,p,b,c,d,e))],null)],null)],null),m($APP.Mc(q)))}return null}},null,null)}(RE.g($APP.O(hD,$APP.u(c))))}()),new $APP.U(null,3,5,$APP.V,[$APP.fx,new $APP.l(null,2,[$APP.Ey,"template",$APP.lw,"Template to display"],null),"Text"],null),new $APP.U(null,
2,5,$APP.V,[$APP.Jy,new $APP.l(null,3,[$APP.Bl,"template",$APP.Wv,$B($APP.u(WB),new $APP.U(null,2,5,$APP.V,[f,fD],null),gD.g($APP.O(hD,$APP.u(c)))),$APP.qw,$APP.ka(function(g){return $APP.X.u(WB,$APP.rv,new $APP.U(null,2,5,$APP.V,[f,fD],null),g.target.value)})],null)],null)],null)],null)}},UE=function(){var a=$APP.u(OD),b=$APP.u(WB);a=$APP.sf.h($APP.qv.h(function(c){return $APP.ek.j(c,$APP.Wm,$APP.K([$APP.Um]))},b),a);return $APP.X.u(TE,$APP.W,"local:clipboard",new $APP.l(null,1,[$APP.Zv,a],null))},
VE=function(){UE();return RD()},WE=function(){var a=$APP.Cf($APP.u(TE),new $APP.U(null,2,5,$APP.V,["local:clipboard",$APP.Zv],null)),b=$APP.sf.g(function(c){return new $APP.U(null,2,5,$APP.V,[$APP.Oh($APP.Kk.g(FC($APP.Wz.g(c)))),$APP.sv.i(c,$APP.Fj,$APP.Kk)],null)});a=$APP.Cg.i($APP.R,b,a);$APP.X.i(WB,$APP.Cg,a);return $APP.X.j(GD,$APP.W,YD,qE,$APP.K([QD,$APP.Mh($APP.Ah(a))]))},XE=function(){var a=new URLSearchParams({schem:EC});return["notebook/?",$APP.r.g(a.toString())].join("")},gF=function(){return new $APP.U(null,
4,5,$APP.V,[$APP.Rz,new $APP.U(null,16,5,$APP.V,[YE,new $APP.U(null,3,5,$APP.V,[$APP.VB,$D,new $APP.U(null,5,5,$APP.V,[new $APP.U(null,3,5,$APP.V,[new $APP.U(null,1,5,$APP.V,[$APP.zB],null),mE,"Cursor [esc]"],null),new $APP.U(null,3,5,$APP.V,[new $APP.U(null,1,5,$APP.V,[$APP.CB],null),hE,"Wire [w]"],null),new $APP.U(null,3,5,$APP.V,[new $APP.U(null,1,5,$APP.V,[$APP.AB],null),aE,"Eraser [e]"],null),new $APP.U(null,3,5,$APP.V,[new $APP.U(null,1,5,$APP.V,[$APP.BB],null),ZE,"Pan [space]"],null),new $APP.U(null,
3,5,$APP.V,[new $APP.U(null,1,5,$APP.V,[$APP.MB],null),$E,"Probe nodes in a connected simulator"],null)],null)],null),new $APP.U(null,1,5,$APP.V,[aF],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"Rotate selected clockwise [s]",$APP.Cy,function(){return PD(function(a){return a.rotate(90)})}],null),new $APP.U(null,1,5,$APP.V,[$APP.vB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"Rotate selected counter-clockwise [shift+s]",$APP.Cy,function(){return PD(function(a){return a.rotate(-90)})}],
null),new $APP.U(null,1,5,$APP.V,[$APP.wB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"Mirror selected horizontal [shift+f]",$APP.Cy,function(){return PD(function(a){return a.flipY()})}],null),new $APP.U(null,1,5,$APP.V,[$APP.yB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"Mirror selected vertical [f]",$APP.Cy,function(){return PD(function(a){return a.flipX()})}],null),new $APP.U(null,1,5,$APP.V,[$APP.xB],null)],null),new $APP.U(null,
3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"Delete selected [del]",$APP.Cy,function(){return RD()}],null),new $APP.U(null,1,5,$APP.V,[$APP.EB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"Copy selected [ctrl+c]",$APP.Cy,function(){return UE()}],null),new $APP.U(null,1,5,$APP.V,[$APP.GB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"Cut selected [ctrl+x]",$APP.Cy,function(){return VE()}],null),new $APP.U(null,1,5,$APP.V,[$APP.HB],null)],
null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"Paste [ctrl+v]",$APP.Cy,function(){return WE()}],null),new $APP.U(null,1,5,$APP.V,[$APP.IB],null)],null),new $APP.U(null,1,5,$APP.V,[aF],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"zoom in [scroll wheel/pinch]",$APP.Cy,function(){return KD(-1)}],null),new $APP.U(null,1,5,$APP.V,[$APP.rB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"zoom out [scroll wheel/pinch]",$APP.Cy,
function(){return KD(1)}],null),new $APP.U(null,1,5,$APP.V,[$APP.sB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"undo [ctrl+z]",$APP.Cy,IC],null),new $APP.U(null,1,5,$APP.V,[$APP.uB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"redo [ctrl+shift+z]",$APP.Cy,JC],null),new $APP.U(null,1,5,$APP.V,[$APP.tB],null)],null)],null),new $APP.U(null,3,5,$APP.V,[bF,new $APP.U(null,3,5,$APP.V,[cF,$APP.Ll(mD,new $APP.U(null,2,5,$APP.V,[BC(EC),$APP.Fj],
null)),"Untitled"],null),$APP.n($APP.u(dF))?new $APP.U(null,3,5,$APP.V,[$APP.Ew,new $APP.l(null,1,[$APP.lw,"saving changes"],null),new $APP.U(null,1,5,$APP.V,[$APP.QB],null)],null):new $APP.U(null,3,5,$APP.V,[$APP.My,new $APP.l(null,1,[$APP.lw,"changes saved"],null),new $APP.U(null,1,5,$APP.V,[$APP.RB],null)],null)],null),new $APP.U(null,4,5,$APP.V,[eF,new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,3,[$APP.Zz,"library",fF,"libman",$APP.lw,"Open library manager"],null),new $APP.U(null,1,5,$APP.V,
[$APP.KB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.lw,"Save Snapshot",$APP.Cy,OE],null),new $APP.U(null,1,5,$APP.V,[$APP.FB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.fz,new $APP.l(null,2,[$APP.Zz,"/auth/",$APP.lw,"Login / Account"],null),new $APP.U(null,1,5,$APP.V,[$APP.LB],null)],null)],null)],null)},hF=function(a){return $APP.I.h(a,$APP.Wz.g($APP.u(MD)))?"active":null},jF=function(a){return new $APP.U(null,2,5,$APP.V,[$APP.Sz,new $APP.l(null,1,[iF,new $APP.il(function(){switch(a){case "resistor":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"40"\n   height\x3d"40"\n   viewBox\x3d"0 0 40 40"\n   version\x3d"1.1"\n   id\x3d"svg4"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs8" /\x3e\n  \x3cpath\n     style\x3d"stroke-width:0.078125"\n     d\x3d"M 9.8046875,27.745269 C 9.6757813,27.665644 9.5060914,27.52819 9.4275984,27.439816 9.3491055,27.351441 8.657132,25.720431 7.8898797,23.815348 L 6.4948748,20.351562 3.2474374,20.331174 0,20.310786 v -1.291648 -1.291649 l 3.8476563,0.02297 c 4.2008273,0.02508 4.124189,0.01681 4.4927023,0.485294 0.083066,0.105602 0.530325,1.134624 0.9939078,2.286717 0.463582,1.152092 0.8821216,2.171499 0.9300866,2.265348 0.07522,0.147166 0.311909,-0.459912 1.720999,-4.414063 2.17264,-6.096808 2.039651,-5.759082 2.365731,-6.007795 0.394424,-0.300842 1.053204,-0.341453 1.422983,-0.08772 0.14644,0.100482 0.329544,0.270586 0.406898,0.378008 0.07735,0.107422 0.951591,2.408115 1.942751,5.112651 0.991158,2.704536 1.814905,4.930136 1.830548,4.945778 0.01564,0.01564 0.09878,-0.175676 0.184751,-0.425151 1.768011,-5.13049 3.319902,-9.515212 3.423924,-9.673968 0.273606,-0.417575 1.102947,-0.64298 1.539854,-0.418514 0.476521,0.244818 0.586034,0.464627 2.764406,5.548616 1.194064,2.786761 2.189705,5.066838 2.212536,5.066838 0.02283,0 0.338643,-0.955898 0.701803,-2.124218 0.363159,-1.16832 0.731506,-2.229896 0.818548,-2.359058 0.08704,-0.129161 0.281186,-0.307052 0.431431,-0.395312 0.264028,-0.155103 0.401958,-0.161243 4.120828,-0.183449 L 40,17.727489 v 1.292506 1.292505 h -3.19977 -3.199771 l -0.388987,1.230469 c -0.213942,0.676758 -0.694671,2.214843 -1.068285,3.417968 -0.433867,1.397154 -0.749885,2.282233 -0.874666,2.449697 -0.487603,0.654392 -1.568162,0.630667 -2.018859,-0.04433 -0.12436,-0.186251 -3.150054,-7.151412 -4.386126,-10.096882 -0.08515,-0.202911 -0.128732,-0.241578 -0.176102,-0.15625 -0.03462,0.06236 -0.843722,2.361993 -1.798,5.110288 -0.954279,2.748295 -1.792639,5.075017 -1.863025,5.170493 -0.202047,0.274079 -0.662052,0.49667 -1.026409,0.49667 -0.362897,0 -0.824359,-0.222439 -1.023937,-0.493569 -0.06902,-0.09377 -0.947914,-2.411704 -1.953086,-5.150962 -1.005174,-2.739258 -1.845222,-4.980469 -1.866775,-4.980469 -0.02155,0 -0.825081,2.206055 -1.785618,4.902344 -0.960537,2.696289 -1.827478,5.028685 -1.926536,5.183102 -0.327132,0.509955 -1.136778,0.704641 -1.6393605,0.394198 z"\n     id\x3d"path861" /\x3e\n\x3c/svg\x3e\n';
case "capacitor":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"37"\n   height\x3d"37"\n   viewBox\x3d"0 0 37 37"\n   version\x3d"1.1"\n   id\x3d"svg4"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs8" /\x3e\n  \x3cpath\n     style\x3d"stroke-width:0.0722656"\n     d\x3d"M 11.779297,26.34082 V 19.728516 H 5.8896484 0 V 18.5 17.271484 H 5.8896484 11.779297 V 10.65918 4.046875 h 1.192383 1.192383 V 18.5 32.953125 H 12.97168 11.779297 Z M 22.835937,18.5 V 4.046875 h 1.192383 1.192383 v 6.612305 6.612304 H 31.110352 37 V 18.5 19.728516 h -5.889648 -5.889649 v 6.612304 6.612305 H 24.02832 22.835937 Z"\n     id\x3d"path843" /\x3e\n\x3c/svg\x3e\n';
case "inductor":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"37"\n   height\x3d"37"\n   viewBox\x3d"0 0 37 37"\n   version\x3d"1.1"\n   id\x3d"svg4"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs8" /\x3e\n  \x3cpath\n     style\x3d"stroke-width:0.0722656"\n     d\x3d"m 34.776705,21.318359 c -2.025823,0 -2.245454,-0.01188 -2.472772,-0.133795 -0.356422,-0.191151 -0.494489,-0.411851 -0.652026,-1.042264 -0.07629,-0.305299 -0.185936,-0.645245 -0.24365,-0.755433 -0.38011,-0.725712 -1.22965,-1.260792 -2.077834,-1.308719 -1.14891,-0.06492 -2.115624,0.598025 -2.530248,1.735168 -0.250797,0.687836 -0.750866,1.009931 -1.403533,0.904017 -0.389144,-0.06315 -0.68111,-0.317715 -0.87794,-0.765479 -0.325164,-0.739704 -0.415697,-0.883119 -0.763746,-1.209866 -0.441205,-0.414201 -0.901281,-0.616174 -1.501396,-0.659112 -1.146558,-0.08204 -2.087722,0.527491 -2.545372,1.648461 -0.209557,0.51329 -0.323047,0.66716 -0.630063,0.854237 -0.486776,0.296612 -1.346232,0.09747 -1.567827,-0.363277 -0.04459,-0.09272 -0.178397,-0.384881 -0.297342,-0.649243 -0.262587,-0.583617 -0.685975,-1.023369 -1.23156,-1.279158 -0.347019,-0.162695 -0.505571,-0.191302 -1.058544,-0.190992 -0.77681,4.34e-4 -1.148218,0.141908 -1.677808,0.639084 -0.348049,0.326747 -0.438582,0.470162 -0.763746,1.209866 -0.19683,0.447764 -0.488796,0.70233 -0.87794,0.765479 -0.619261,0.100493 -1.169122,-0.22861 -1.370777,-0.820436 C 9.9753163,19.141869 9.572666,18.671434 8.8679374,18.302522 8.5396491,18.130669 8.4074464,18.105134 7.8397378,18.103926 c -0.5920506,-0.0013 -0.6955906,0.02031 -1.1351504,0.236511 -0.4770863,0.234657 -0.8920181,0.624826 -1.1128445,1.04643 -0.057714,0.110188 -0.1673566,0.450134 -0.2436496,0.755433 -0.1575372,0.630413 -0.2956042,0.851113 -0.6520258,1.042264 -0.2273181,0.121912 -0.4469493,0.133795 -2.472772,0.133795 H 0 v -1.192382 -1.192383 h 1.5845462 1.5845461 l 0.1861616,-0.406631 c 0.5541643,-1.210454 1.5056426,-2.08213 2.8156819,-2.579525 0.5549514,-0.210704 0.6412504,-0.222567 1.6337517,-0.224589 1.0052004,-0.002 1.0721863,0.0072 1.6457159,0.22682 0.6169126,0.236251 1.4397136,0.736733 1.7429416,1.060173 l 0.172837,0.184358 0.341687,-0.304619 c 0.843727,-0.752198 1.813117,-1.140941 2.972427,-1.191997 1.290332,-0.05683 2.43421,0.315294 3.385598,1.101387 0.218322,0.18039 0.413669,0.327982 0.434106,0.327982 0.02044,0 0.215784,-0.147592 0.434106,-0.327982 0.953837,-0.788116 2.098458,-1.159675 3.385598,-1.099009 1.168497,0.05507 2.132657,0.440948 2.972427,1.189619 l 0.341687,0.304619 0.172837,-0.184358 c 0.303228,-0.32344 1.126029,-0.823922 1.742942,-1.060173 0.573529,-0.219636 0.640515,-0.228869 1.645715,-0.22682 0.992502,0.002 1.078801,0.01389 1.633752,0.224589 1.310039,0.497395 2.261517,1.369071 2.815682,2.579525 l 0.186161,0.406631 H 35.415454 37 v 1.192383 1.192382 z"\n     id\x3d"path843" /\x3e\n\x3c/svg\x3e\n';
case "diode":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"39.5"\n   height\x3d"25"\n   viewBox\x3d"0 0 39.5 25"\n   version\x3d"1.1"\n   id\x3d"svg16"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs20" /\x3e\n  \x3cg\n     transform\x3d"translate(1.25)"\n     id\x3d"g14"\x3e\n    \x3cg\n       transform\x3d"translate(31) rotate(90)"\n       id\x3d"g6"\x3e\n      \x3cpath\n         d\x3d"M12.5,0,25,21H0Z"\n         fill\x3d"none"\n         id\x3d"path2" /\x3e\n      \x3cpath\n         d\x3d"M 12.5 5.865288734436035 L 5.276956558227539 18 L 19.72304153442383 18 L 12.5 5.865288734436035 M 12.5 0 L 25 21 L 0 21 L 12.5 0 Z"\n         id\x3d"path4" /\x3e\n    \x3c/g\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 21 22.25 h 2.5 V 21 0 -1.25 Z"\n       id\x3d"line8"\n       transform\x3d"translate(29 2)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 8 9.25 h 2.5 V 8 0 -1.25 Z"\n       id\x3d"line10"\n       transform\x3d"translate(37 12.5) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 9 10.25 h 2.5 V 9 0 -1.25 Z"\n       id\x3d"line12"\n       transform\x3d"translate(9 13) rotate(90)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "vsource":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"34"\n   height\x3d"34"\n   viewBox\x3d"0 0 34 34"\n   version\x3d"1.1"\n   id\x3d"svg8"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs12" /\x3e\n  \x3cg\n     transform\x3d"translate(1.5 1.5)"\n     id\x3d"g6"\x3e\n    \x3cpath\n       d\x3d"m 15.5,-1.5 c -9.3710644,0 -17,7.6289356 -17,17 0,9.371064 7.6289356,17 17,17 9.371064,0 17,-7.628936 17,-17 0,-9.3710644 -7.628936,-17 -17,-17 z m 0,3 c 7.749746,0 14,6.2502543 14,14 0,7.749746 -6.250254,14 -14,14 -7.7497457,0 -14,-6.250254 -14,-14 0,-7.7497457 6.2502543,-14 14,-14 z"\n       id\x3d"circle2" /\x3e\n    \x3cpath\n       d\x3d"M4.609-7.67a3.875,3.875,0,0,0-1.775.49A7.482,7.482,0,0,0,1.074-5.9V-9.278a5.186,5.186,0,0,1,3.867-1.594,8.876,8.876,0,0,1,2.077.234,14.34,14.34,0,0,1,2.107.7,9.186,9.186,0,0,0,3.429.8A4.013,4.013,0,0,0,14.307-9.6a6.466,6.466,0,0,0,1.767-1.3v3.377A5.124,5.124,0,0,1,12.207-5.93a9.255,9.255,0,0,1-1.9-.19,14.389,14.389,0,0,1-2.266-.731A9.22,9.22,0,0,0,4.609-7.67Z"\n       transform\x3d"translate(6.926 23.901)"\n       id\x3d"path4" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "isource":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"34"\n   height\x3d"34"\n   viewBox\x3d"0 0 34 34"\n   version\x3d"1.1"\n   id\x3d"svg10"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs14" /\x3e\n  \x3cg\n     transform\x3d"translate(1.5 1.5)"\n     id\x3d"g8"\x3e\n    \x3cg\n       id\x3d"circle2"\x3e\n      \x3cpath\n         style\x3d"fill:none;stroke-width:3;"\n         d\x3d"M 31,15.5 A 15.5,15.5 0 0 1 15.5,31 15.5,15.5 0 0 1 0,15.5 15.5,15.5 0 0 1 15.5,0 15.5,15.5 0 0 1 31,15.5 Z"\n         id\x3d"path922" /\x3e\n      \x3cpath\n         d\x3d"m 15.5,-1.5 c -9.3710644,0 -17,7.6289356 -17,17 0,9.371064 7.6289356,17 17,17 9.371064,0 17,-7.628936 17,-17 0,-9.3710644 -7.628936,-17 -17,-17 z m 0,3 c 7.749746,0 14,6.2502543 14,14 0,7.749746 -6.250254,14 -14,14 -7.7497457,0 -14,-6.250254 -14,-14 0,-7.7497457 6.2502543,-14 14,-14 z"\n         id\x3d"path924" /\x3e\n    \x3c/g\x3e\n    \x3cpath\n       d\x3d"M 16.993489,22.25 H 16.842076 L 16.074478,21.482402 15.30688,20.714804 17.90344,18.107402 20.5,15.5 17.897669,12.886803 15.295337,10.273606 16.153714,9.4512289 17.012091,8.6288517 20.446183,12.062943 23.880275,15.497035 20.512589,18.873517 17.144903,22.25 Z"\n       id\x3d"path1846" /\x3e\n    \x3cpath\n       d\x3d"m 0,-1.25 v 2.5 h 12 v -2.5 z"\n       id\x3d"line6"\n       transform\x3d"translate(8.5 15.5)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "pmos":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.5"\n   height\x3d"29.5"\n   viewBox\x3d"0 0 22.5 29.5"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-58.75 -773.75)"\n     id\x3d"g16"\x3e\n    \x3cg\n       id\x3d"line2"\n       transform\x3d"translate(60 780)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 17"\n         id\x3d"path884" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n         id\x3d"path886" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line4"\n       transform\x3d"translate(66 780)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 17"\n         id\x3d"path878" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n         id\x3d"path880" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line6"\n       transform\x3d"translate(80 780) rotate(90)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 12"\n         id\x3d"path872" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n         id\x3d"path874" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line8"\n       transform\x3d"translate(80 797) rotate(90)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 12"\n         id\x3d"path866" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n         id\x3d"path868" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line10"\n       transform\x3d"translate(80 797)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 5"\n         id\x3d"path860" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n         id\x3d"path862" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"line12"\n       transform\x3d"translate(80 775)"\x3e\n      \x3cpath\n         d\x3d"M 0,0 V 5"\n         id\x3d"path854" /\x3e\n      \x3cpath\n         d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n         id\x3d"path856" /\x3e\n    \x3c/g\x3e\n    \x3cg\n       id\x3d"path14"\n       transform\x3d"translate(67 786) rotate(-90)"\x3e\n      \x3cpath\n         d\x3d"m 6,0 6,9 H 0 Z"\n         id\x3d"path848" /\x3e\n      \x3cpath\n         d\x3d"m 6,-0.90234375 -0.4160156,0.625 L -0.93359375,9.5 H 12.933594 Z M 6,0.90234375 11.066406,8.5 H 0.93359375 Z"\n         id\x3d"path850" /\x3e\n    \x3c/g\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "nmos":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.5"\n   height\x3d"29.5"\n   viewBox\x3d"0 0 22.5 29.5"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-58.75 -773.75)"\n     id\x3d"g16"\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"line2"\n       transform\x3d"translate(60 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"line4"\n       transform\x3d"translate(66 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line6"\n       transform\x3d"translate(80 780) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line8"\n       transform\x3d"translate(80 797) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line10"\n       transform\x3d"translate(80 797)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line12"\n       transform\x3d"translate(80 775)" /\x3e\n    \x3cpath\n       d\x3d"M6,0l6,9H0Z"\n       transform\x3d"translate(79 774) rotate(90)"\n       id\x3d"path14" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "npn":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.745"\n   height\x3d"28.6"\n   viewBox\x3d"0 0 22.745 28.6"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-57.25 -774.45)"\n     id\x3d"g16"\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"path898"\n       transform\x3d"translate(66 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"path895"\n       transform\x3d"translate(77.892 781.5) rotate(60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"path892"\n       transform\x3d"translate(67.5 790) rotate(-60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"path889"\n       transform\x3d"translate(78.37 796.8)" /\x3e\n    \x3cpath\n       d\x3d"M5,0l5,7.5H0Z"\n       transform\x3d"translate(74.995 777.5) rotate(60)"\n       id\x3d"path886" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"path883"\n       transform\x3d"translate(63.5 788.5) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"path880"\n       transform\x3d"translate(78.37 775.7)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
case "pnp":return'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"no"?\x3e\n\n\x3c!--\nSPDX-FileCopyrightText: 2022 Pepijn de Vos\n\nSPDX-License-Identifier: CC-BY-NC-SA-4.0\n--\x3e\n\n\x3csvg\n   width\x3d"22.37"\n   height\x3d"28.6"\n   viewBox\x3d"0 0 22.37 28.6"\n   version\x3d"1.1"\n   id\x3d"svg18"\n   xmlns\x3d"http://www.w3.org/2000/svg"\n   xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\n  \x3cdefs\n     id\x3d"defs22" /\x3e\n  \x3cg\n     transform\x3d"translate(-57.25 -774.45)"\n     id\x3d"g16"\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 17 18.25 h 2.5 V 17 0 -1.25 Z"\n       id\x3d"line2"\n       transform\x3d"translate(66 780)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line4"\n       transform\x3d"translate(77.892 781.5) rotate(60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 12 13.25 h 2.5 V 12 0 -1.25 Z"\n       id\x3d"line6"\n       transform\x3d"translate(67.5 790) rotate(-60)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line8"\n       transform\x3d"translate(78.37 796.8)" /\x3e\n    \x3cpath\n       d\x3d"M5,0l5,7.5H0Z"\n       transform\x3d"translate(72.499 790.41) rotate(-120)"\n       id\x3d"path10" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line12"\n       transform\x3d"translate(63.5 788.5) rotate(90)" /\x3e\n    \x3cpath\n       d\x3d"M -1.25,-1.25 V 0 5 6.25 h 2.5 V 5 0 -1.25 Z"\n       id\x3d"line14"\n       transform\x3d"translate(78.37 775.7)" /\x3e\n  \x3c/g\x3e\n\x3c/svg\x3e\n';
default:return""}}())],null)],null)},kF=function(a){return IE("port",a,$APP.K([$APP.ew,"ground",$APP.Uy,$APP.Ou($APP.$A.rotate(-90)),$APP.Fj,"GND"]))},lF=function(a){return IE("port",a,$APP.K([$APP.ew,"supply",$APP.Uy,$APP.Ou($APP.$A.rotate(90)),$APP.Fj,"VDD"]))},mF=function(a){return IE("port",a,$APP.K([$APP.ew,"text",$APP.Uy,$APP.Ou($APP.$A.rotate(90))]))},pF=function(){return new $APP.U(null,9,5,$APP.V,[$APP.Rz,new $APP.U(null,6,5,$APP.V,[nF,new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,
3,[$APP.lw,"Add port [p]",$APP.zl,hF("port"),oF,function(a){return JE("port",FD(a))}],null),new $APP.U(null,1,5,$APP.V,[$APP.DB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add wire label [t]",$APP.zl,hF("port"),oF,function(a){return mF(FD(a))}],null),new $APP.U(null,1,5,$APP.V,[$APP.TB],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add ground [g]",$APP.zl,hF("port"),oF,function(a){return kF(FD(a))}],null),"GND"],null),new $APP.U(null,
3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add power supply [shift+p]",$APP.zl,hF("port"),oF,function(a){return lF(FD(a))}],null),"VDD"],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add text area [shift+t]",$APP.zl,hF("port"),oF,function(a){return JE("text",FD(a))}],null),new $APP.U(null,1,5,$APP.V,[$APP.SB],null)],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add resistor [r]",$APP.zl,hF("resistor"),oF,function(a){return JE("resistor",
FD(a))}],null),new $APP.U(null,2,5,$APP.V,[jF,"resistor"],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add inductor [l]",$APP.zl,hF("inductor"),oF,function(a){return JE("inductor",FD(a))}],null),new $APP.U(null,2,5,$APP.V,[jF,"inductor"],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add capacitor [c]",$APP.zl,hF("capacitor"),oF,function(a){return JE("capacitor",FD(a))}],null),new $APP.U(null,2,5,$APP.V,[jF,"capacitor"],null)],null),new $APP.U(null,
3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add diode [d]",$APP.zl,hF("diode"),oF,function(a){return JE("diode",FD(a))}],null),new $APP.U(null,2,5,$APP.V,[jF,"diode"],null)],null),new $APP.U(null,3,5,$APP.V,[nF,new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add voltage source [v]",$APP.zl,hF("vsource"),oF,function(a){return JE("vsource",FD(a))}],null),new $APP.U(null,2,5,$APP.V,[jF,"vsource"],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add current source [i]",
$APP.zl,hF("isource"),oF,function(a){return JE("isource",FD(a))}],null),new $APP.U(null,2,5,$APP.V,[jF,"isource"],null)],null)],null),new $APP.U(null,5,5,$APP.V,[nF,new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add N-channel mosfet [m]",$APP.zl,hF("nmos"),oF,function(a){return JE("nmos",FD(a))}],null),new $APP.U(null,2,5,$APP.V,[jF,"nmos"],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add P-channel mosfet [shift+m]",$APP.zl,hF("pmos"),oF,function(a){return JE("pmos",
FD(a))}],null),new $APP.U(null,2,5,$APP.V,[jF,"pmos"],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add NPN BJT [b]",$APP.zl,hF("npn"),oF,function(a){return JE("npn",FD(a))}],null),new $APP.U(null,2,5,$APP.V,[jF,"npn"],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,new $APP.l(null,3,[$APP.lw,"Add PNP BJT [shift+b]",$APP.zl,hF("pnp"),oF,function(a){return JE("pnp",FD(a))}],null),new $APP.U(null,2,5,$APP.V,[jF,"pnp"],null)],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Uz,
new $APP.l(null,3,[$APP.lw,"Add subcircuit [x]",$APP.zl,hF("ckt"),oF,function(a){return JE("ckt",FD(a))}],null),new $APP.U(null,1,5,$APP.V,[$APP.JB],null)],null)],null)},qF=function(a){return new $APP.U(null,5,5,$APP.V,[$APP.Rz,function(){return function d(c){return new $APP.Ce(null,function(){for(var e=c;;)if(e=$APP.D(e)){if($APP.Gd(e)){var f=$APP.nc(e),g=$APP.H(f),h=$APP.He(g);a:{for(var m=0;;)if(m<g){var p=$APP.qd(f,m),q=$APP.N(p,0,null),t=$APP.N(p,1,null);$APP.I.h("wire",$APP.Wz.g(t))&&(p=h,q=
DE(wD,t,q,t),p.add(q));m+=1}else{f=!0;break a}f=void 0}return f?$APP.Ke($APP.Me(h),d($APP.oc(e))):$APP.Ke($APP.Me(h),null)}f=$APP.E(e);h=$APP.N(f,0,null);f=$APP.N(f,1,null);if($APP.I.h("wire",$APP.Wz.g(f)))return $APP.ye(DE(wD,f,h,f),d($APP.Mc(e)));e=$APP.Mc(e)}else return null},null,null)}(a)}(),function(){return function d(c){return new $APP.Ce(null,function(){for(var e=c;;)if(e=$APP.D(e)){if($APP.Gd(e)){var f=$APP.nc(e),g=$APP.H(f),h=$APP.He(g);a:{for(var m=0;;)if(m<g){var p=$APP.qd(f,m),q=$APP.N(p,
0,null),t=$APP.N(p,1,null);$APP.Ye("wire",$APP.Wz.g(t))&&(p=h,q=DE(wD,t,q,t),p.add(q));m+=1}else{f=!0;break a}f=void 0}return f?$APP.Ke($APP.Me(h),d($APP.oc(e))):$APP.Ke($APP.Me(h),null)}f=$APP.E(e);h=$APP.N(f,0,null);f=$APP.N(f,1,null);if($APP.Ye("wire",$APP.Wz.g(f)))return $APP.ye(DE(wD,f,h,f),d($APP.Mc(e)));e=$APP.Mc(e)}else return null},null,null)}(a)}(),function(){return function d(c){return new $APP.Ce(null,function(){for(;;){var e=$APP.D(c);if(e){if($APP.Gd(e)){var f=$APP.nc(e),g=$APP.H(f),
h=$APP.He(g);a:{for(var m=0;;)if(m<g){var p=$APP.qd(f,m),q=$APP.N(p,0,null),t=$APP.N(p,1,null);p=h;q=DE(AE,t,q,t);p.add(q);m+=1}else{f=!0;break a}f=void 0}return f?$APP.Ke($APP.Me(h),d($APP.oc(e))):$APP.Ke($APP.Me(h),null)}f=$APP.E(e);h=$APP.N(f,0,null);f=$APP.N(f,1,null);return $APP.ye(DE(AE,f,h,f),d($APP.Mc(e)))}return null}},null,null)}(a)}(),function(){return function d(c){return new $APP.Ce(null,function(){for(;;){var e=$APP.D(c);if(e){if($APP.Gd(e)){var f=$APP.nc(e),g=$APP.H(f),h=$APP.He(g);
a:{for(var m=0;;)if(m<g){var p=$APP.qd(f,m),q=$APP.N(p,0,null),t=$APP.N(p,1,null);p=h;q=DE(vD,t,q,t);p.add(q);m+=1}else{f=!0;break a}f=void 0}return f?$APP.Ke($APP.Me(h),d($APP.oc(e))):$APP.Ke($APP.Me(h),null)}f=$APP.E(e);h=$APP.N(f,0,null);f=$APP.N(f,1,null);return $APP.ye(DE(vD,f,h,f),d($APP.Mc(e)))}return null}},null,null)}(a)}()],null)},rF=function(){return new $APP.U(null,2,5,$APP.V,[$APP.Rz,$APP.bi(function(){return function c(b){return new $APP.Ce(null,function(){for(var d=b;;){var e=$APP.D(d);
if(e){var f=e;if($APP.Gd(f)){var g=$APP.nc(f),h=$APP.H(g),m=$APP.He(h);return function(){for(var z=0;;)if(z<h){var A=$APP.qd(g,z),F=$APP.N(A,0,null),J=$APP.N(F,0,null),M=$APP.N(F,1,null),S=$APP.N(A,1,null);A=$APP.H($APP.Bf(function(){return function(Y){return $APP.I.h($APP.Cf($APP.u(WB),new $APP.U(null,2,5,$APP.V,[Y,$APP.ew],null)),"text")}}(z,d,A,F,J,M,S,g,h,m,f,e),S));$APP.Ye(A,2)&&$APP.Le(m,new $APP.U(null,2,5,$APP.V,[$APP.zy,new $APP.l(null,5,[$APP.Ij,new $APP.U(null,2,5,$APP.V,[J,M],null),$APP.zl,
A>2?"wire":"nc",LC,50*(J+.5),MC,50*(M+.5),$APP.Vy,5],null)],null));z+=1}else return!0}()?$APP.Ke($APP.Me(m),c($APP.oc(f))):$APP.Ke($APP.Me(m),null)}var p=$APP.E(f),q=$APP.N(p,0,null),t=$APP.N(q,0,null),w=$APP.N(q,1,null),y=$APP.N(p,1,null);p=$APP.H($APP.Bf(function(){return function(z){return $APP.I.h($APP.Cf($APP.u(WB),new $APP.U(null,2,5,$APP.V,[z,$APP.ew],null)),"text")}}(d,p,q,t,w,y,f,e),y));if($APP.Ye(p,2))return $APP.ye(new $APP.U(null,2,5,$APP.V,[$APP.zy,new $APP.l(null,5,[$APP.Ij,new $APP.U(null,
2,5,$APP.V,[t,w],null),$APP.zl,p>2?"wire":"nc",LC,50*(t+.5),MC,50*(w+.5),$APP.Vy,5],null)],null),c($APP.Mc(f)));d=$APP.Mc(f)}else return null}},null,null)}($APP.E($APP.u(CD)))}())],null)},yF=function(){var a=$APP.u(GD),b=$APP.Xe(a),c=$APP.O(b,QD);a=$APP.O(b,YD);var d=$APP.O(b,gE),e=$APP.O(b,EE);e=$APP.Xe(e);var f=$APP.O(e,$APP.Pu),g=$APP.O(e,$APP.Qu);b=$APP.O(b,UD);var h=$APP.N(b,0,null),m=$APP.N(b,1,null);b=50*Math.round(f);e=50*Math.round(g);return $APP.n(d)?new $APP.U(null,4,5,$APP.V,[sF,DE(wD,
d,tF,d),DE(AE,d,uF,d),DE(vD,d,vF,d)],null):$APP.I.h(a,sE)?new $APP.U(null,2,5,$APP.V,[wF,new $APP.l(null,4,[$APP.Pu,function(){var p=h+f;return h<p?h:p}()*50,$APP.Qu,function(){var p=m+g;return m<p?m:p}()*50,QC,Math.abs(f*50),RC,Math.abs(g*50)],null)],null):$APP.n($APP.n(c)?a:c)?new $APP.U(null,3,5,$APP.V,[xF,new $APP.l(null,1,[$APP.bv,new $APP.l(null,1,[$APP.Uy,["translate(",$APP.r.g(b),"px, ",$APP.r.g(e),"px)"].join("")],null)],null),new $APP.U(null,2,5,$APP.V,[qF,function(){var p=$APP.u(WB);return $APP.sf.h(function(q){return new $APP.U(null,
2,5,$APP.V,[q,$APP.O(p,q)],null)},c)}()],null)],null):null},ZF=function(){return new $APP.U(null,6,5,$APP.V,[zF,new $APP.l(null,1,[$APP.zl,$APP.u(AF)],null),new $APP.U(null,2,5,$APP.V,[BF,new $APP.U(null,1,5,$APP.V,[gF],null)],null),new $APP.U(null,3,5,$APP.V,[CF,new $APP.U(null,4,5,$APP.V,[DF,new $APP.U(null,2,5,$APP.V,[EF,new $APP.U(null,1,5,$APP.V,[pF],null)],null),function(){var a=$APP.D($APP.u(OD));return a?new $APP.U(null,2,5,$APP.V,[FF,$APP.bi(function(){return function d(c){return new $APP.Ce(null,
function(){for(;;){var e=$APP.D(c);if(e){if($APP.Gd(e)){var f=$APP.nc(e),g=$APP.H(f),h=$APP.He(g);a:{for(var m=0;;)if(m<g){var p=$APP.qd(f,m),q=h;p=$APP.xd(new $APP.U(null,2,5,$APP.V,[SE,p],null),new $APP.l(null,1,[$APP.Ij,p],null));q.add(p);m+=1}else{f=!0;break a}f=void 0}return f?$APP.Ke($APP.Me(h),d($APP.oc(e))):$APP.Ke($APP.Me(h),null)}h=$APP.E(e);return $APP.ye($APP.xd(new $APP.U(null,2,5,$APP.V,[SE,h],null),new $APP.l(null,1,[$APP.Ij,h],null)),d($APP.Mc(e)))}return null}},null,null)}(a)}())],
null):null}(),new $APP.U(null,7,5,$APP.V,[GF,$APP.gh([QC,HF,$APP.Vv,IF,JF,KF,$APP.zl,LF,oF,RC],["100%",JD,uE,"http://www.w3.org/2000/svg",$APP.u(MF),tE,new $APP.U(null,2,5,$APP.V,[$APP.u(AF),$APP.u($D)],null),fE,HE,"100%"]),new $APP.U(null,2,5,$APP.V,[NF,new $APP.U(null,4,5,$APP.V,[OF,new $APP.l(null,4,[$APP.Bl,"gridfill",PF,"userSpaceOnUse",QC,50,RC,50],null),new $APP.U(null,2,5,$APP.V,[QF,new $APP.l(null,4,[RF,0,SF,0,TF,50,UF,0],null)],null),new $APP.U(null,2,5,$APP.V,[QF,new $APP.l(null,4,[RF,
0,SF,0,TF,0,UF,50],null)],null)],null)],null),new $APP.U(null,2,5,$APP.V,[VF,new $APP.l(null,6,[$APP.xr,"url(#gridfill)",oF,HE,$APP.Pu,-25E3,$APP.Qu,-25E3,QC,5E4,RC,5E4],null)],null),new $APP.U(null,2,5,$APP.V,[qF,$APP.u(WB)],null),new $APP.U(null,1,5,$APP.V,[rF],null),new $APP.U(null,1,5,$APP.V,[yF],null)],null)],null),new $APP.U(null,3,5,$APP.V,[WF,new $APP.U(null,2,5,$APP.V,[$APP.ly,"Notebook"],null),new $APP.U(null,2,5,$APP.V,[XF,new $APP.l(null,1,[YF,XE()],null)],null)],null)],null),new $APP.U(null,
1,5,$APP.V,[$APP.ev],null),new $APP.U(null,1,5,$APP.V,[$APP.Yu],null)],null)},bG=function(){if($APP.D($F)){var a=aG.sync($F,{live:!0,retry:!0});a.on("paused",function(){return $APP.of(dF,!1)});a.on("active",function(){return $APP.of(dF,!0)});a.on("denied",function(){return CC(["Permission denied synchronising to ",$F,", changes are saved locally"].join(""))});a.on("error",function(){return CC(["Error synchronising to ",$F,", changes are saved locally"].join(""))})}},eG=function(){document.onkeyup=
$APP.Hp.h(yC,cG);document.onkeydown=$APP.Hp.h(yC,dG);return $APP.Ql(new $APP.U(null,1,5,$APP.V,[ZF],null),document.querySelector(".mosaic-app.mosaic-editor"))},fG=function(){localStorage.setItem("schem",EC);history.replaceState(null,null,[$APP.r.g(window.location.pathname),"?schem\x3d",$APP.r.g(EC)].join(""));bG();return eG()},gG={},tC=function tC(a){switch(arguments.length){case 1:return tC.g(arguments[0]);case 2:return tC.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<
d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.C(c.slice(2),0,null):null;return tC.j(arguments[0],arguments[1],c)}};tC.g=function(a){return a};tC.h=function(a,b){return a>b?a:b};tC.j=function(a,b,c){return $APP.bb(tC,a>b?a:b,c)};tC.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);c=$APP.G(c);return this.j(b,a,c)};tC.B=2;$APP.k=aC.prototype;$APP.k.toString=function(){return $APP.wc(this)};$APP.k.K=function(){return this.meta};$APP.k.ma=function(){return this.ra(null)};
$APP.k.ga=function(){return $APP.Lc};$APP.k.Ic=function(){return this.seed!==gG};$APP.k.pa=function(a,b){a=this.la(null);var c=this.f.g?this.f.g(a):this.f.call(null,a);for(a=b.h?b.h(a,c):b.call(null,a,c);;){if($APP.Xc(a))return $APP.u(a);c=this.f.g?this.f.g(c):this.f.call(null,c);a=b.h?b.h(a,c):b.call(null,a,c)}};$APP.k.qa=function(a,b,c){a=this.la(null);for(c=b.h?b.h(c,a):b.call(null,c,a);;){if($APP.Xc(c))return $APP.u(c);a=this.f.g?this.f.g(a):this.f.call(null,a);c=b.h?b.h(c,a):b.call(null,c,a)}};
$APP.k.la=function(){gG===this.seed&&(this.seed=this.f.g?this.f.g(this.Zd):this.f.call(null,this.Zd));return this.seed};$APP.k.ra=function(){this.next==null&&(this.next=new aC(null,this.f,this.la(null),gG,null));return this.next};$APP.k.W=function(){return this};$APP.k.M=function(a,b){return b===this.meta?this:new aC(b,this.f,this.Zd,this.seed,this.next)};$APP.k.aa=function(a,b){return $APP.ye(b,this)};$APP.k.ba=$APP.x;$APP.k.R=function(a,b,c){return $APP.gi(b,$APP.mi,"("," ",")",c,this)};
var DD=function DD(a){switch(arguments.length){case 1:return DD.g(arguments[0]);case 2:return DD.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $APP.C(c.slice(2),0,null):null;return DD.j(arguments[0],arguments[1],c)}};DD.g=function(a){return a};
DD.h=function(a,b){for(;;)if($APP.H(b)<$APP.H(a)){var c=a;a=b;b=c}else return $APP.bb(function(d,e){return function(f,g){return $APP.Nd(e,g)?f:$APP.nv.h(f,g)}}(a,b),a,a)};DD.j=function(a,b,c){a=$APP.Yj(function(d){return-$APP.H(d)},$APP.ve.j(c,b,$APP.K([a])));return $APP.bb(DD,$APP.E(a),$APP.Mc(a))};DD.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);c=$APP.G(c);return this.j(b,a,c)};DD.B=2;
var ND=function ND(a){switch(arguments.length){case 3:return ND.i(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.C(c.slice(3),0,null):null;return ND.j(arguments[0],arguments[1],arguments[2],c)}};ND.i=function(a,b,c){return $APP.Cg.i(a,$APP.sf.g(function(d){var e=$APP.V;var f=$APP.O(a,d);f=c.g?c.g(f):c.call(null,f);return new $APP.U(null,2,5,e,[d,f],null)}),b)};
ND.j=function(a,b,c,d){return $APP.Cg.i(a,$APP.sf.g(function(e){return new $APP.U(null,2,5,$APP.V,[e,$APP.T.i(c,$APP.O(a,e),d)],null)}),b)};ND.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);var d=$APP.G(c);c=$APP.E(d);d=$APP.G(d);return this.j(b,a,c,d)};ND.B=3;$APP.k=fC.prototype;$APP.k.M=function(a,b){return new fC(this.forms,this.Ab,this.gb,this.Cd,this.fd,b)};$APP.k.K=function(){return this.vf};$APP.k.kb=function(){return this};$APP.k.lb=function(){return this};$APP.k.Zb=$APP.x;
$APP.k.Nb=function(a,b){return this.fd.g?this.fd.g(b):this.fd.call(null,b)};$APP.k.Ob=function(a,b,c,d,e){return $APP.qo(this.forms,this.Ab,b,c,d,e)};$APP.k.Pb=function(a,b){return gC.i?gC.i(this.forms,this.Ab,b):gC.call(null,this.forms,this.Ab,b)};var cF=function cF(a){switch(arguments.length){case 1:return cF.g(arguments[0]);case 2:return cF.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.r.g(arguments.length)].join(""));}};cF.g=function(a){return cF.h(a,null)};
cF.h=function(a,b){var c=eC(),d=c.length===0||$APP.Ra(c.hasOwnProperty(0))?c[0]=$APP.Il(!1):c[0];return $APP.n(function(){var e=$APP.u(d);return $APP.n(e)?e:$APP.zd($APP.u(a))&&$APP.Ra(b)}())?new $APP.U(null,3,5,$APP.V,[$APP.Ay,new $APP.l(null,1,[$APP.pz,function(e){e.preventDefault();$APP.of(a,e.target.elements.namefield.value);return $APP.of(d,!1)}],null),new $APP.U(null,2,5,$APP.V,[$APP.Dx,new $APP.l(null,5,[$APP.Wz,$APP.Ny,$APP.Fj,"namefield",$APP.Ux,!0,$APP.Wv,$APP.u(a),$APP.Iw,function(e){$APP.of(a,
e.target.value);return $APP.of(d,!1)}],null)],null)],null):new $APP.U(null,5,5,$APP.V,[$APP.Sz,new $APP.l(null,1,[$APP.Cy,function(){return $APP.of(d,!0)}],null),function(){var e=$APP.u(a);return $APP.n(e)?e:b}()," ",new $APP.U(null,1,5,$APP.V,[$APP.UB],null)],null)};cF.B=2;
var OF=new $APP.P(null,"pattern","pattern",242135423),hE=new $APP.P("nyancad.mosaic.editor","wire","nyancad.mosaic.editor/wire",-496129451),LF=new $APP.P(null,"on-mouse-move","on-mouse-move",-1386320874),YE=new $APP.P(null,"div.primary","div.primary",1467266760),$E=new $APP.P("nyancad.mosaic.editor","probe","nyancad.mosaic.editor/probe",33168059),sE=new $APP.P("nyancad.mosaic.editor","box","nyancad.mosaic.editor/box",72685753),XF=new $APP.P(null,"iframe","iframe",884422026),zF=new $APP.P(null,"div.mosaic-container",
"div.mosaic-container",-1349574763),hG=new $APP.P(null,"transform-origin","transform-origin",-586167370),CF=new $APP.P(null,"div.content-wrapper","div.content-wrapper",-1101894014),zE=new $APP.B(null,"circuit-conn","circuit-conn",381274267,null),lE=new $APP.P("nyancad.mosaic.editor","tool","nyancad.mosaic.editor/tool",195718619),wF=new $APP.P(null,"rect.select","rect.select",-274352052),YD=new $APP.P("nyancad.mosaic.editor","dragging","nyancad.mosaic.editor/dragging",-1899225452),UC=new $APP.P(null,
"polyline","polyline",-1731551044),eF=new $APP.P(null,"div.secondary","div.secondary",-2037301824),iG=new $APP.P(null,"unit","unit",375175175),$C=new $APP.P(null,"res","res",-1395007879),PE=new $APP.P(null,"props","props",453281727),NE=new $APP.P(null,"content_type","content_type",52159344),GC=new $APP.P("nyancad.mosaic.editor","undo","nyancad.mosaic.editor/undo",1787806883),xE=new $APP.B(null,"circuit-shape","circuit-shape",22565817,null),jG=new $APP.P("nyancad.mosaic.editor","theme","nyancad.mosaic.editor/theme",
-1698705327),VF=new $APP.P(null,"rect","rect",-108902628),aF=new $APP.P(null,"span.sep","span.sep",-303070340),UD=new $APP.P("nyancad.mosaic.editor","mouse-start","nyancad.mosaic.editor/mouse-start",-1507097836),oF=new $APP.P(null,"on-mouse-up","on-mouse-up",-1340533320),qD=new $APP.P(null,"rect.outline","rect.outline",35870808),VC=new $APP.P(null,"points","points",-1486596883),HF=new $APP.P(null,"on-wheel","on-wheel",-1971630708),kG=new $APP.P(null,"capacitance","capacitance",-273749869),tF=new $APP.P("nyancad.mosaic.editor",
"stagingbg","nyancad.mosaic.editor/stagingbg",1418997463),lG=new $APP.P(null,"text-anchor","text-anchor",585613696),sF=new $APP.P(null,"g.toolstaging","g.toolstaging",1423440533),aE=new $APP.P("nyancad.mosaic.editor","eraser","nyancad.mosaic.editor/eraser",-1170358934),PF=new $APP.P(null,"pattern-units","pattern-units",-1273751842),DF=new $APP.P(null,"div.content","div.content",-298042649),mG=new $APP.P(null,"backspace","backspace",-696007848),RC=new $APP.P(null,"height","height",1025178622),nG=new $APP.P(null,
"details","details",1956795411),EF=new $APP.P(null,"div.devicetray.chrome","div.devicetray.chrome",903230993),wE=new $APP.B(null,"nyancad.mosaic.editor","nyancad.mosaic.editor",1155727264,null),AE=new $APP.P("nyancad.mosaic.editor","sym","nyancad.mosaic.editor/sym",1888367968),oG=new $APP.P(null,"line.wire","line.wire",58251721),vD=new $APP.P("nyancad.mosaic.editor","conn","nyancad.mosaic.editor/conn",1132704290),pG=new $APP.P(null,"g.text","g.text",1871614707),qG=new $APP.P(null,"tran","tran",-330179187),
rG=new $APP.P(null,"selected","selected",574897764),iD=new $APP.P(null,"text.identifier","text.identifier",968733366),CE=new $APP.B(null,"circuit-sym","circuit-sym",1687815857,null),JF=new $APP.P(null,"view-box","view-box",-1792199155),dD=new $APP.P(null,"dy","dy",1719547243),QF=new $APP.P(null,"line.grid","line.grid",1678589712),YF=new $APP.P(null,"src","src",-1651076051),cD=new $APP.P(null,"tspan","tspan",-1557853197),QC=new $APP.P(null,"width","width",-384071477),WF=new $APP.P(null,"details#mosaic_notebook",
"details#mosaic_notebook",-15766245),gD=new $APP.P("nyancad.mosaic.editor","template","nyancad.mosaic.editor/template",2100370107),sG=new $APP.P("nyancad.mosaic.editor","split","nyancad.mosaic.editor/split",-2060037753),uF=new $APP.P("nyancad.mosaic.editor","stagingsym","nyancad.mosaic.editor/stagingsym",1725041827),yE=new $APP.B("nyancad.mosaic.editor","circuit-conn","nyancad.mosaic.editor/circuit-conn",2141897096,null),MC=new $APP.P(null,"cy","cy",755331060),LC=new $APP.P(null,"cx","cx",1272694324),
tG=new $APP.P(null,"dc","dc",1726058308),HD=new $APP.P("nyancad.mosaic.editor","zoom","nyancad.mosaic.editor/zoom",-1377973775),uG=new $APP.P(null,"ac","ac",-1891632475),iF=new $APP.P(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),vG=new $APP.P(null,"delete","delete",-1768633620),QD=new $APP.P("nyancad.mosaic.editor","selected","nyancad.mosaic.editor/selected",1532065651),NF=new $APP.P(null,"defs","defs",1398449717),wG=new $APP.P(null,"dominant-baseline","dominant-baseline",
609259826),xG=new $APP.P(null,"nfin","nfin",1388383179),qE=new $APP.P("nyancad.mosaic.editor","device","nyancad.mosaic.editor/device",1397330629),XC=new $APP.P(null,"polygon.arrow","polygon.arrow",-453339260),mE=new $APP.P("nyancad.mosaic.editor","cursor","nyancad.mosaic.editor/cursor",61601755),yG=new $APP.P(null,"g.device","g.device",-538642655),zG=new $APP.P(null,"escape","escape",-991601952),AG=new $APP.P("nyancad.mosaic.editor","ui","nyancad.mosaic.editor/ui",-586117532),dE=new $APP.P("nyancad.mosaic.editor",
"mouse","nyancad.mosaic.editor/mouse",1202743035),ZE=new $APP.P("nyancad.mosaic.editor","pan","nyancad.mosaic.editor/pan",1148994537),BE=new $APP.B("nyancad.mosaic.editor","circuit-sym","nyancad.mosaic.editor/circuit-sym",-1670824032,null),vF=new $APP.P("nyancad.mosaic.editor","stagingconn","nyancad.mosaic.editor/stagingconn",-932497011),xF=new $APP.P(null,"g.staging","g.staging",1672233513),GF=new $APP.P(null,"svg.mosaic-canvas","svg.mosaic-canvas",716635672),BG=new $APP.P(null,"circle.outline",
"circle.outline",1162019949),bF=new $APP.P(null,"div.status","div.status",246710893),UF=new $APP.P(null,"y2","y2",-718691301),SF=new $APP.P(null,"y1","y1",589123466),RE=new $APP.P("nyancad.mosaic.editor","props","nyancad.mosaic.editor/props",1113223408),CG=new $APP.P(null,"g.wire","g.wire",1233150072),DG=new $APP.P(null,"z","z",-789527183),EG=new $APP.P(null,"v","v",21465059),PC=new $APP.P(null,"rect.tetris","rect.tetris",319962617),FG=new $APP.P(null,"s","s",1705939918),GG=new $APP.P(null,"t","t",
-1397832519),eE=new $APP.P("nyancad.mosaic.editor","view","nyancad.mosaic.editor/view",-479208243),BF=new $APP.P(null,"div.menu.chrome","div.menu.chrome",2039856843),gE=new $APP.P("nyancad.mosaic.editor","staging","nyancad.mosaic.editor/staging",160758696),HG=new $APP.P(null,"m","m",1632677161),IG=new $APP.P(null,"g","g",1738089905),JG=new $APP.P(null,"i","i",-1386841315),OG=new $APP.P(null,"c","c",-1763192079),PG=new $APP.P(null,"b","b",1482224470),ME=new $APP.P(null,"schematic","schematic",884071610),
QG=new $APP.P(null,"line.wirebb","line.wirebb",-1079360418),RF=new $APP.P(null,"x1","x1",-1863922247),TF=new $APP.P(null,"x2","x2",-1362513475),RG=new $APP.P(null,"span.tray","span.tray",393150468),SG=new $APP.P(null,"inductance","inductance",-14909622),KC=new $APP.P(null,"circle.port","circle.port",2124426562),FF=new $APP.P(null,"div.sidebar","div.sidebar",1454675964),TG=new $APP.P(null,"resistance","resistance",-1289779601),IF=new $APP.P(null,"xmlns","xmlns",-1862095571),EE=new $APP.P("nyancad.mosaic.editor",
"delta","nyancad.mosaic.editor/delta",-1578540228),KF=new $APP.P(null,"on-mouse-down","on-mouse-down",1147755470),aD=new $APP.P(null,"schem","schem",-607362953),QE=new $APP.P(null,"tooltip","tooltip",-1809677058),vE=new $APP.B("nyancad.mosaic.editor","circuit-shape","nyancad.mosaic.editor/circuit-shape",-666412374,null),UG=new $APP.P("nyancad.mosaic.editor","prev-tool","nyancad.mosaic.editor/prev-tool",1457058552),bD=new $APP.P(null,"self","self",-1547428899),wD=new $APP.P("nyancad.mosaic.editor",
"bg","nyancad.mosaic.editor/bg",1513825358),fD=new $APP.P(null,"template","template",-702405684),fF=new $APP.P(null,"target","target",253001721);var EC;var VG=(new URLSearchParams(window.location.search)).get("schem");if($APP.n(VG))EC=VG;else{var WG=localStorage.getItem("schem");EC=$APP.n(WG)?WG:$APP.r.g($APP.dj())}var $F=$APP.Vu(),aG=new $APP.jA("schematics"),WB=$APP.Zm(aG,EC,$APP.Il($APP.R));$APP.pf(WB.cache,function(a){var b=$APP.Sn($APP.iz,a);return b?b:console.log($APP.Ei.j($APP.K([a])),$APP.On($APP.iz,a))});var mD=$APP.Zm(aG,"models",$APP.Il($APP.R));
$APP.pf(mD.cache,function(a){var b=$APP.Sn($APP.Ax,a);return b?b:console.log($APP.Ei.j($APP.K([a])),$APP.On($APP.Ax,a))});var LE=$APP.Zm(aG,[$APP.r.g(EC),"$snapshots"].join(""),$APP.Il($APP.R)),ZC=$APP.Zm(aG,[$APP.r.g(EC),"$result"].join(""),$APP.Il($APP.yh()));$APP.Xm(aG,$APP.K([WB,mD,LE,ZC]));var XG=new $APP.jA("local"),TE=$APP.Zm(XG,"local",$APP.nf($APP.R));$APP.Xm(XG,$APP.K([TE]));
var GD=$APP.Il(new $APP.l(null,6,[HD,new $APP.U(null,4,5,$APP.V,[0,0,500,500],null),jG,"tetris",lE,mE,QD,$APP.Ih,dE,new $APP.U(null,2,5,$APP.V,[0,0],null),UD,new $APP.U(null,2,5,$APP.V,[0,0],null)],null));$APP.Qn(HD,$APP.Aj($APP.Jw,$APP.gz,$APP.Lo,4),$APP.Ro($APP.$w,$APP.Pa,new $APP.l(null,5,[$APP.Oo,!0,$APP.Lo,4,$APP.Bo,null,$APP.Io,$APP.Aj($APP.Jw,$APP.gz,$APP.Lo,4),$APP.Go,function(a){return $APP.Ad(a)&&$APP.I.h(4,$APP.Ne(4,a))}],null),null));
$APP.Qn(jG,new $APP.Hh(null,new $APP.l(null,2,["eyesore","null","tetris","null"],null),null),new $APP.Hh(null,new $APP.l(null,2,["eyesore",null,"tetris",null],null),null));$APP.Qn(lE,new $APP.Hh(null,new $APP.l(null,6,[qE,"null",ZE,"null",aE,"null",hE,"null",$E,"null",mE,"null"],null),null),new $APP.Hh(null,new $APP.l(null,6,[qE,null,ZE,null,aE,null,hE,null,$E,null,mE,null],null),null));
$APP.Qn(QD,$APP.Aj($APP.qx,$APP.Rw,$APP.Aj($APP.Jw,$APP.ty)),gC(new $APP.U(null,2,5,$APP.V,[$APP.Rw,$APP.Aj($APP.Jw,$APP.ty)],null),new $APP.U(null,2,5,$APP.V,[$APP.Bd,$APP.Ro($APP.ny,$APP.Ta,new $APP.l(null,4,[$APP.Oo,!0,$APP.Bo,null,$APP.Io,$APP.Aj($APP.Jw,$APP.ty),$APP.Go,function(a){return $APP.Ad(a)}],null),null)],null),null));
$APP.Qn(YD,$APP.Aj($APP.bx,new $APP.Hh(null,new $APP.l(null,4,[qE,"null",eE,"null",hE,"null",sE,"null"],null),null)),$APP.Cp(new $APP.Hh(null,new $APP.l(null,4,[qE,"null",eE,"null",hE,"null",sE,"null"],null),null),new $APP.Hh(null,new $APP.l(null,4,[qE,null,eE,null,hE,null,sE,null],null),null),null));$APP.Qn(gE,$APP.Aj($APP.bx,$APP.Dy),$APP.Cp($APP.Dy,$APP.Dy,null));
$APP.Qn(AG,$APP.Aj($APP.wy,$APP.co,new $APP.U(null,4,5,$APP.V,[HD,jG,lE,QD],null),$APP.Vn,new $APP.U(null,2,5,$APP.V,[YD,gE],null)),$APP.ho($APP.gh([$APP.Wn,$APP.Xn,$APP.Yn,$APP.Zn,$APP.$n,$APP.ao,$APP.bo,$APP.co,$APP.eo,$APP.fo,$APP.go,$APP.Vn],[null,null,null,new $APP.U(null,5,5,$APP.V,[function(a){return $APP.Dd(a)},function(a){return $APP.Nd(a,HD)},function(a){return $APP.Nd(a,jG)},function(a){return $APP.Nd(a,lE)},function(a){return $APP.Nd(a,QD)}],null),function(a){return $APP.Dd(a)&&$APP.Nd(a,
HD)&&$APP.Nd(a,jG)&&$APP.Nd(a,lE)&&$APP.Nd(a,QD)},new $APP.U(null,2,5,$APP.V,[YD,gE],null),new $APP.U(null,4,5,$APP.V,[HD,jG,lE,QD],null),new $APP.U(null,4,5,$APP.V,[HD,jG,lE,QD],null),new $APP.U(null,4,5,$APP.V,[HD,jG,lE,QD],null),new $APP.U(null,2,5,$APP.V,[YD,gE],null),new $APP.U(null,5,5,$APP.V,[$APP.Aj($APP.by,new $APP.U(null,1,5,$APP.V,[$APP.un],null),$APP.Aj($APP.Az,$APP.un)),$APP.Aj($APP.by,new $APP.U(null,1,5,$APP.V,[$APP.un],null),$APP.Aj($APP.px,$APP.un,HD)),$APP.Aj($APP.by,new $APP.U(null,
1,5,$APP.V,[$APP.un],null),$APP.Aj($APP.px,$APP.un,jG)),$APP.Aj($APP.by,new $APP.U(null,1,5,$APP.V,[$APP.un],null),$APP.Aj($APP.px,$APP.un,lE)),$APP.Aj($APP.by,new $APP.U(null,1,5,$APP.V,[$APP.un],null),$APP.Aj($APP.px,$APP.un,QD))],null),new $APP.U(null,2,5,$APP.V,[YD,gE],null)])));$APP.pf(GD,function(a){var b=$APP.Sn(AG,a);return b?b:console.log($APP.Ei.j($APP.K([a])),$APP.On(AG,a))});
var MF=$APP.Ll(GD,new $APP.U(null,1,5,$APP.V,[HD],null)),AF=$APP.Ll(GD,new $APP.U(null,1,5,$APP.V,[jG],null)),$D=$APP.Ll(GD,new $APP.U(null,1,5,$APP.V,[lE],null)),OD=$APP.Ll(GD,new $APP.U(null,1,5,$APP.V,[QD],null)),VD=$APP.Ll(GD,new $APP.U(null,1,5,$APP.V,[EE],null)),MD=$APP.Ll(GD,new $APP.U(null,1,5,$APP.V,[gE],null)),pC=$APP.nf($APP.xd(new $APP.U(null,2,5,$APP.V,[new $APP.se(null,null,null,1,null),null],null),new $APP.l(null,3,[$APP.Lz,$APP.Id,$APP.ww,$APP.ce,$APP.Gw,function(a,b){return $APP.xd(b,
$APP.yd(a))}],null)));$APP.Ai(WB,GC,function(a,b,c,d){return qC(d)});var dF=$APP.Il(!1),OC=function OC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new $APP.C(c.slice(3),0,null):null;return OC.j(arguments[0],arguments[1],arguments[2],c)};
OC.j=function(a,b,c,d){return $APP.Cg.h(new $APP.U(null,2,5,$APP.V,[yG,new $APP.l(null,4,[KF,function(e){return rE.h?rE.h(b,e):rE.call(null,b,e)},LF,function(e){return cE.h?cE.h(b,e):cE.call(null,b,e)},$APP.bv,new $APP.l(null,2,[$APP.Uy,$APP.Nu($APP.Uy.h(c,$APP.aB)).translate($APP.Pu.g(c)*50,$APP.Qu.g(c)*50).toString(),hG,[$APP.r.g(($APP.Pu.g(c)+a/2)*50),"px ",$APP.r.g(($APP.Qu.g(c)+a/2)*50),"px"].join("")],null),$APP.zl,new $APP.U(null,3,5,$APP.V,[$APP.Wz.g(c),$APP.ew.g(c),$APP.Nd($APP.u(OD),b)?
rG:null],null)],null)],null),d)};OC.B=3;OC.C=function(a){var b=$APP.E(a),c=$APP.G(a);a=$APP.E(c);var d=$APP.G(c);c=$APP.E(d);d=$APP.G(d);return this.j(b,a,c,d)};
var hD=$APP.gh("pmos capacitor wire pnp inductor diode isource text port vsource resistor npn nmos".split(" "),[new $APP.l(null,5,[wD,$APP.mB,vD,$APP.nB,AE,kD,gD,"{self.name}: {self.props.width}/{self.props.length}",RE,new $APP.l(null,4,[HG,new $APP.l(null,1,[QE,"multiplier"],null),xG,new $APP.l(null,1,[QE,"number of fingers"],null),QC,new $APP.l(null,2,[QE,"width",iG,"meter"],null),$APP.Kx,new $APP.l(null,2,[QE,"length",iG,"meter"],null)],null)],null),new $APP.l(null,5,[wD,$APP.pB,vD,$APP.qB,AE,
function(a,b){return new $APP.U(null,6,5,$APP.V,[OC,3,a,b,new $APP.U(null,3,5,$APP.V,[jD,b,3],null),new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,4,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,.5],null),new $APP.U(null,2,5,$APP.V,[1.5,1.4],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.1,1.4],null),new $APP.U(null,2,5,$APP.V,[1.9,1.4],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.1,1.6],null),new $APP.U(null,2,5,$APP.V,[1.9,
1.6],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,1.6],null),new $APP.U(null,2,5,$APP.V,[1.5,2.5],null)],null)],null)],null)],null)},gD,"{self.name}: {self.props.capacitance}F",RE,new $APP.l(null,1,[kG,new $APP.l(null,2,[QE,"Capacitance",iG,"Farad"],null)],null)],null),new $APP.l(null,4,[wD,$APP.Xf,vD,$APP.Xf,AE,function(a,b){(function(){var g=$APP.Fj.g(b);return $APP.n(g)?g:a})();var c=$APP.Pu.g(b),d=$APP.Qu.g(b),e=$APP.uz.g(b),f=$APP.tz.g(b);return new $APP.U(null,4,
5,$APP.V,[CG,new $APP.l(null,3,[KF,function(g){return rE.h?rE.h(a,g):rE.call(null,a,g)},LF,function(g){return cE.h?cE.h(a,g):cE.call(null,a,g)},$APP.zl,$APP.Nd($APP.u(OD),a)?rG:null],null),new $APP.U(null,2,5,$APP.V,[QG,new $APP.l(null,4,[RF,(c+.5)*50,SF,(d+.5)*50,TF,(c+e+.5)*50,UF,(d+f+.5)*50],null)],null),new $APP.U(null,2,5,$APP.V,[oG,new $APP.l(null,4,[RF,(c+.5)*50,SF,(d+.5)*50,TF,(c+e+.5)*50,UF,(d+f+.5)*50],null)],null)],null)},RE,$APP.R],null),new $APP.l(null,5,[wD,$APP.mB,vD,$APP.oB,AE,lD,
gD,"{self.name}: {self.props.width}/{self.props.length}",RE,new $APP.l(null,1,[HG,new $APP.l(null,1,[QE,"multiplier"],null)],null)],null),new $APP.l(null,5,[wD,$APP.pB,vD,$APP.qB,AE,function(a,b){return new $APP.U(null,7,5,$APP.V,[OC,3,a,b,new $APP.U(null,3,5,$APP.V,[jD,b,3],null),new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,.5],null),new $APP.U(null,2,5,$APP.V,[1.5,1.1],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,
2,5,$APP.V,[1.5,1.9],null),new $APP.U(null,2,5,$APP.V,[1.5,2.5],null)],null)],null)],null),new $APP.U(null,2,5,$APP.V,[$APP.Fn,new $APP.l(null,1,[$APP.Os,"M75,55\n                 a5,5 90 0,0 0,10\n                 a5,5 90 0,0 0,10\n                 a5,5 90 0,0 0,10\n                 a5,5 90 0,0 0,10\n                 "],null)],null)],null)},gD,"{self.name}: {self.props.inductance}H",RE,new $APP.l(null,1,[SG,new $APP.l(null,2,[QE,"Inductance",iG,"Henry"],null)],null)],null),new $APP.l(null,4,[wD,
$APP.pB,vD,$APP.qB,AE,function(a,b){return new $APP.U(null,7,5,$APP.V,[OC,3,a,b,new $APP.U(null,3,5,$APP.V,[jD,b,3],null),new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,3,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,.5],null),new $APP.U(null,2,5,$APP.V,[1.5,1.4],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.3,1.6],null),new $APP.U(null,2,5,$APP.V,[1.7,1.6],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,1.6],null),new $APP.U(null,
2,5,$APP.V,[1.5,2.5],null)],null)],null)],null),new $APP.U(null,5,5,$APP.V,[YC,1.5,1.6,.2,270],null)],null)},RE,$APP.R],null),new $APP.l(null,6,[wD,$APP.pB,vD,$APP.qB,AE,function(a,b){return new $APP.U(null,8,5,$APP.V,[OC,3,a,b,new $APP.U(null,3,5,$APP.V,[jD,b,3],null),new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,3,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,.5],null),new $APP.U(null,2,5,$APP.V,[1.5,1.1],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,
[1.5,1.25],null),new $APP.U(null,2,5,$APP.V,[1.5,1.65],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,1.9],null),new $APP.U(null,2,5,$APP.V,[1.5,2.5],null)],null)],null)],null),new $APP.U(null,2,5,$APP.V,[BG,new $APP.l(null,3,[LC,75,MC,75,$APP.Vy,20],null)],null),new $APP.U(null,5,5,$APP.V,[YC,1.5,1.8,.15,-90],null)],null)},gD,"{self.name}: {self.props.dc}I",RE,new $APP.l(null,2,[tG,new $APP.l(null,2,[QE,"DC current",iG,"Ampere"],null),uG,new $APP.l(null,2,[QE,"AC current",
iG,"Ampere"],null)],null),qG,new $APP.l(null,2,[QE,"Transient current",iG,"Ampere"],null)],null),new $APP.l(null,5,[wD,$APP.Xf,vD,$APP.Xf,AE,function(a,b){var c=$APP.Pu.g(b),d=$APP.Qu.g(b);b=eD(b,$APP.sd(b,fD,$APP.Cf(hD,new $APP.U(null,2,5,$APP.V,["text",gD],null))));return new $APP.U(null,3,5,$APP.V,[pG,new $APP.l(null,4,[KF,function(e){return rE.h?rE.h(a,e):rE.call(null,a,e)},LF,function(e){return cE.h?cE.h(a,e):cE.call(null,a,e)},$APP.zl,$APP.Nd($APP.u(OD),a)?rG:null,$APP.Uy,["translate(",$APP.r.g((c+
.1)*50),", ",$APP.r.g((d+.3)*50),")"].join("")],null),new $APP.U(null,2,5,$APP.V,[$APP.Ny,b],null)],null)},gD,"Operating Point:\n{res.op}",RE,$APP.R],null),new $APP.l(null,5,[wD,$APP.Xf,vD,new $APP.U(null,1,5,$APP.V,[new $APP.U(null,3,5,$APP.V,[0,0,"P"],null)],null),AE,function(a,b){return new $APP.U(null,6,5,$APP.V,[OC,1,a,b,function(){switch($APP.ew.g(b)){case "ground":return new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[.5,.5],
null),new $APP.U(null,2,5,$APP.V,[.3,.5],null)],null),new $APP.U(null,4,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[0,.5],null),new $APP.U(null,2,5,$APP.V,[.3,.2],null),new $APP.U(null,2,5,$APP.V,[.3,.8],null),new $APP.U(null,2,5,$APP.V,[0,.5],null)],null)],null)],null);case "supply":return new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[.5,.5],null),new $APP.U(null,2,5,$APP.V,[0,.5],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,
2,5,$APP.V,[0,.2],null),new $APP.U(null,2,5,$APP.V,[0,.8],null)],null)],null)],null);case "text":return null;default:return new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,1,5,$APP.V,[new $APP.U(null,6,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[.5,.5],null),new $APP.U(null,2,5,$APP.V,[.3,.3],null),new $APP.U(null,2,5,$APP.V,[0,.3],null),new $APP.U(null,2,5,$APP.V,[0,.7],null),new $APP.U(null,2,5,$APP.V,[.3,.7],null),new $APP.U(null,2,5,$APP.V,[.5,.5],null)],null)],null)],null)}}(),new $APP.U(null,3,5,$APP.V,
[$APP.Ny,new $APP.l(null,3,[lG,function(){switch(Math.round($APP.E($APP.Uy.g(b)))){case 1:return"end";case -1:return"start";default:return"middle"}}(),wG,"middle",$APP.Uy,$APP.Nu($APP.Uy.g(b)).translate(50/($APP.I.h($APP.ew.g(b),"text")?-4:4),-25).inverse().toString()],null),$APP.ew.g(b)==null?eD(b,$APP.sd(b,fD,$APP.Cf(hD,new $APP.U(null,2,5,$APP.V,["port",gD],null)))):$APP.Fj.h(b,"net")],null)],null)},gD,"{self.name}: {res.op[self.name.toLowerCase()]:.2f}V",RE,$APP.R],null),new $APP.l(null,5,[wD,
$APP.pB,vD,$APP.qB,AE,function(a,b){return new $APP.U(null,9,5,$APP.V,[OC,3,a,b,new $APP.U(null,3,5,$APP.V,[jD,b,3],null),new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,.5],null),new $APP.U(null,2,5,$APP.V,[1.5,1.1],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,1.9],null),new $APP.U(null,2,5,$APP.V,[1.5,2.5],null)],null)],null)],null),new $APP.U(null,2,5,$APP.V,[BG,new $APP.l(null,3,[LC,75,MC,75,$APP.Vy,
20],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Ny,new $APP.l(null,3,[$APP.Pu,75,$APP.Qu,70,lG,"middle"],null),"+"],null),new $APP.U(null,3,5,$APP.V,[$APP.Ny,new $APP.l(null,3,[$APP.Pu,75,$APP.Qu,90,lG,"middle"],null),"â"],null)],null)},gD,"{self.name}: {self.props.dc}V",RE,new $APP.l(null,3,[tG,new $APP.l(null,2,[QE,"DC voltage",iG,"Volt"],null),uG,new $APP.l(null,2,[QE,"AC voltage",iG,"Volt"],null),qG,new $APP.l(null,2,[QE,"Transient voltage",iG,"Volt"],null)],null)],null),new $APP.l(null,5,[wD,
$APP.pB,vD,$APP.qB,AE,function(a,b){return new $APP.U(null,7,5,$APP.V,[OC,3,a,b,new $APP.U(null,3,5,$APP.V,[jD,b,3],null),new $APP.U(null,2,5,$APP.V,[qD,new $APP.l(null,4,[$APP.Pu,67.5,$APP.Qu,1.1*50,QC,15,RC,40],null)],null),new $APP.U(null,2,5,$APP.V,[WC,new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,.5],null),new $APP.U(null,2,5,$APP.V,[1.5,1.1],null)],null),new $APP.U(null,2,5,$APP.V,[new $APP.U(null,2,5,$APP.V,[1.5,1.9],null),new $APP.U(null,2,5,$APP.V,
[1.5,2.5],null)],null)],null)],null)],null)},gD,"{self.name}: {self.props.resistance}Î©",RE,new $APP.l(null,1,[TG,new $APP.l(null,2,[QE,"Resistance",iG,"Ohm"],null)],null)],null),new $APP.l(null,5,[wD,$APP.mB,vD,$APP.oB,AE,lD,gD,"{self.name}: {self.props.width}/{self.props.length}",RE,new $APP.l(null,1,[HG,new $APP.l(null,1,[QE,"multiplier"],null)],null)],null),new $APP.l(null,5,[wD,$APP.mB,vD,$APP.nB,AE,kD,gD,"{self.name}: {self.props.width}/{self.props.length}",RE,new $APP.l(null,4,[HG,new $APP.l(null,
1,[QE,"multiplier"],null),xG,new $APP.l(null,1,[QE,"number of fingers"],null),QC,new $APP.l(null,2,[QE,"width",iG,"meter"],null),$APP.Kx,new $APP.l(null,2,[QE,"length",iG,"meter"],null)],null)],null)]),CD=$APP.Kl(function(){return AD()});
$APP.Ai(WB,sG,function YG(){XB(sG);XB(GC);var b=$APP.Km(1);$APP.nm(function(){var c=function(){function e(f){var g=f[1];if(g===7){var h=f[7];g=f[8];var m=f[9],p=f[10];f[11]=f[2];f[8]=g;f[9]=m;f[10]=p;f[7]=h+1;f[2]=null;f[1]=2;return $APP.Z}return g===1?(g=$APP.u(CD),g=BD(g),g=$APP.D(g),f[8]=g,f[9]=null,f[10]=0,f[7]=0,f[2]=null,f[1]=2,$APP.Z):g===4?(m=f[9],h=f[7],h=$APP.qd(m,h),g=$APP.N(h,0,null),h=$APP.N(h,1,null),g=ED(g,h),$APP.Hm(f,7,g)):g===13?(f[2]=f[2],f[1]=10,$APP.Z):g===6?(f[2]=f[2],f[1]=3,
$APP.Z):g===3?(g=f[2],h=$APP.Ai(WB,GC,function(){return function(q,t,w,y){return qC(y)}}()),m=$APP.Ai(WB,sG,YG),f[12]=g,f[13]=h,$APP.Im(f,m)):g===12?(h=f[14],h=$APP.E(h),g=$APP.N(h,0,null),h=$APP.N(h,1,null),g=ED(g,h),$APP.Hm(f,14,g)):g===2?(h=f[7],p=f[10],f[1]=$APP.n(h<p)?4:5,$APP.Z):g===11?(h=f[14],g=$APP.nc(h),h=$APP.oc(h),m=$APP.H(g),f[8]=h,f[9]=g,f[10]=m,f[7]=0,f[2]=null,f[1]=2,$APP.Z):g===9?(f[2]=null,f[1]=10,$APP.Z):g===5?(g=f[8],h=f[14],g=$APP.D(g),f[14]=g,f[1]=g?8:9,$APP.Z):g===14?(h=f[14],
m=f[2],g=$APP.G(h),f[15]=m,f[8]=g,f[9]=null,f[10]=0,f[7]=0,f[2]=null,f[1]=2,$APP.Z):g===10?(f[2]=f[2],f[1]=6,$APP.Z):g===8?(h=f[14],f[1]=$APP.Gd(h)?11:12,$APP.Z):null}return function(){function f(m){for(;;){a:{try{for(;;){var p=e(m);if(!$APP.Q(p,$APP.Z)){var q=p;break a}}}catch(t){q=t;m[2]=q;if($APP.D(m[4]))m[1]=$APP.E(m[4]);else throw q;q=$APP.Z;break a}q=void 0}if(!$APP.Q(q,$APP.Z))return q}}function g(){var m=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];m[0]=
h;m[1]=1;return m}var h=null;h=function(m){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,m)}throw Error("Invalid arity: "+arguments.length);};h.m=g;h.g=f;return h}()}(),d=function(){var e=c();e[6]=b;return e}();return $APP.Gm(d)});return b});
var SD=$APP.nf(new $APP.U(null,2,5,$APP.V,[0,0],null)),bE=$APP.nf($APP.Ih),oE=new BroadcastChannel("probe"),nF=function nF(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $APP.C(c.slice(0),0,null):null;return nF.j(c)};
nF.j=function(){var a=$APP.Il(0),b=$APP.Il(null);return function(){function c(e){var f=null;if(arguments.length>0){f=0;for(var g=Array(arguments.length-0);f<g.length;)g[f]=arguments[f+0],++f;f=new $APP.C(g,0,null)}return d.call(this,f)}function d(e){var f=$APP.kf(function(g,h){return new $APP.U(null,3,5,$APP.V,[$APP.Sz,new $APP.l(null,2,[$APP.Ij,g,oF,function(){return $APP.of(a,g)}],null),h],null)},e);return new $APP.U(null,4,5,$APP.V,[nG,new $APP.l(null,2,[KF,function(g){var h=g.currentTarget;return $APP.of(b,
setTimeout(function(){return h.open=!0},300))},oF,function(g){clearTimeout($APP.u(b));return g.currentTarget.open=!1}],null),new $APP.U(null,3,5,$APP.V,[$APP.ly,new $APP.l(null,1,[$APP.Cy,function(g){return g.preventDefault()}],null),$APP.gd(e,$APP.u(a))],null),new $APP.U(null,3,5,$APP.V,[RG,$APP.Jp.h($APP.u(a),f),$APP.rf($APP.u(a)+1,f)],null)],null)}c.B=0;c.C=function(e){e=$APP.D(e);return d(e)};c.j=d;return c}()};nF.B=0;nF.C=function(a){return this.j($APP.D(a))};
var cG=$APP.gh([new $APP.Hh(null,new $APP.l(null,1,[OG,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[$APP.cz,null],null),null),new $APP.Hh(null,new $APP.l(null,2,[DG,null,$APP.dx,null],null),null),new $APP.Hh(null,new $APP.l(null,2,[$APP.sz,null,$APP.Yy,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[$APP.Os,null],null),null),new $APP.Hh(null,new $APP.l(null,2,[$APP.sz,null,PG,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[vG,null],null),null),new $APP.Hh(null,new $APP.l(null,
1,[FG,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[$APP.Vy,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[IG,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[PG,null],null),null),new $APP.Hh(null,new $APP.l(null,2,[$APP.sz,null,HG,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[$APP.Ss,null],null),null),new $APP.Hh(null,new $APP.l(null,2,[OG,null,$APP.dx,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[zG,null],null),null),new $APP.Hh(null,new $APP.l(null,2,[$APP.dx,
null,$APP.Pu,null],null),null),new $APP.Hh(null,new $APP.l(null,2,[$APP.sz,null,FG,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[$APP.Pu,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[HG,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[EG,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[JG,null],null),null),new $APP.Hh(null,new $APP.l(null,2,[EG,null,$APP.dx,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[mG,null],null),null),new $APP.Hh(null,new $APP.l(null,3,[$APP.sz,
null,DG,null,$APP.dx,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[$APP.Ns,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[$APP.dz,null],null),null),new $APP.Hh(null,new $APP.l(null,2,[$APP.sz,null,GG,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[$APP.Yy,null],null),null),$APP.Jh([$APP.ni.g(" ")]),new $APP.Hh(null,new $APP.l(null,2,[$APP.sz,null,$APP.dz,null],null),null),new $APP.Hh(null,new $APP.l(null,1,[GG,null],null),null)],[function(){return JE("capacitor",dE.g($APP.u(GD)))},
function(){return JE("inductor",dE.g($APP.u(GD)))},IC,function(){return lF(dE.g($APP.u(GD)))},function(){return JE("diode",dE.g($APP.u(GD)))},function(){return JE("pnp",dE.g($APP.u(GD)))},RD,function(){return PD(function(a){return a.rotate(90)})},function(){return JE("resistor",dE.g($APP.u(GD)))},function(){return kF(dE.g($APP.u(GD)))},function(){return JE("npn",dE.g($APP.u(GD)))},function(){return JE("pmos",dE.g($APP.u(GD)))},function(){return $APP.X.j(GD,$APP.W,lE,aE,$APP.K([gE,null]))},UE,nE,VE,
function(){return PD(function(a){return a.rotate(-90)})},function(){return JE("ckt",dE.g($APP.u(GD)))},function(){return JE("nmos",dE.g($APP.u(GD)))},function(){return JE("vsource",dE.g($APP.u(GD)))},function(){return JE("isource",dE.g($APP.u(GD)))},WE,RD,JC,function(){return $APP.X.u(GD,$APP.W,lE,hE)},function(){return PD(function(a){return a.flipX()})},function(){return mF(dE.g($APP.u(GD)))},function(){return JE("port",dE.g($APP.u(GD)))},function(){return $APP.X.h(GD,function(a){return $APP.W.i(a,
lE,UG.g(a))})},function(){return PD(function(a){return a.flipY()})},function(){return JE("text",dE.g($APP.u(GD)))}]),dG=$APP.We([$APP.Jh([$APP.ni.g(" ")]),function(){return $APP.X.h(GD,function(a){return $APP.W.j(a,lE,ZE,$APP.K([UG,lE.g(a)]))})}]);$APP.ja("nyancad.mosaic.editor.render",eG);$APP.ja("nyancad.mosaic.editor.init",fG);$APP.ja("nyancad.mosaic.editor.clear",function(){return $APP.X.i(WB,function(a,b){return $APP.T.i($APP.ek,a,b)},$APP.Mh($APP.Ah($APP.u(WB))))});fG();