import { $APP, shadow$provide } from "./common.js";
var gI=function(a){$APP.vi($APP.K(["Saving notebook to database"]));return $APP.X.u(dI,$APP.W,[eI,":notebook.py"].join(""),new $APP.l(null,2,[$APP.pw,a,fI,(new Date).toISOString()],null))},hI=function(){$APP.vi($APP.K(["Reading notebook from database"]));return $APP.Cf($APP.u(dI),new $APP.U(null,2,5,$APP.V,[[eI,":notebook.py"].join(""),$APP.pw],null))},lI=function(){var a={saveFile:gI,readFile:hI};window.__MARIMO_MOUNT_CONFIG__.config.save=$APP.pl(new $APP.l(null,3,[iI,"after_delay",jI,2E3,kI,!0],
null));return window.__MARIMO_MOUNT_CONFIG__.fileStores=$APP.pl(new $APP.U(null,1,5,$APP.V,[a],null))},jI=new $APP.P(null,"autosave_delay","autosave_delay",-540817600),kI=new $APP.P(null,"format_on_save","format_on_save",-218481126),fI=new $APP.P(null,"lastModified","lastModified",-1993155246),iI=new $APP.P(null,"autosave","autosave",-879866416);var mI=new URLSearchParams(window.location.search),nI=$APP.r,oI=nI.g,pI=mI.get("schem"),eI=[oI.call(nI,$APP.n(pI)?pI:"myschem"),"$notebook"].join(""),qI=new $APP.jA("schematics"),dI=$APP.Zm(qI,eI,$APP.Il($APP.R));$APP.Xm(qI,$APP.K([dI]));$APP.ja("nyancad.mosaic.filestore.init",lI);lI();