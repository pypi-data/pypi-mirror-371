[build-system]
requires = [
    "setuptools>=61.0",
    "wheel",
    "setuptools_scm[toml]>=3.4"
]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]

[project]
name = "shakemap-modules"
dynamic = ["version"]
description = "USGS Earthquake Impact ShakeMap Modules"
authors = [
    {name = "Bruce Worden", email="cbworden@contractor.usgs.gov"},
    {name = "Eric Thompson", email="emthompsone@usgs.gov"},
    {name = "Mike Hearne", email="mhearne@usgs.gov"},
]
license = "CC0-1.0"
license-files = ["LICENSE.md"]
readme = "README.md"
requires-python = ">=3.9"

# Requirements:
dependencies = [
    "configobj>=5.0.8",
    "esi-shakelib>=1.1.13",
    "h5py>=3.8.0",
    "importlib-resources>=6.0.0",
]

[project.optional-dependencies]
assemble = [
    "mapio>=0.8.8",
    "defusedxml>=0.7.1",
    "gmpacket>=0.1.2",
    "pandas>=2.0.2",
]
associate = [
]
augment = [
    "defusedxml>=0.7.1",
    "gmpacket>=0.1.2",
]
contour = [
    "fiona>=1.9.4.post1",
]
coverage = [
    "scipy",
]
dyfi = [
    "openpyxl",
    "pandas>=2.0.2",
]
exception = []
gridxml = [
    "esi-core>=1.2.3",
    "mapio>=0.8.8",
]
history = []
info = []
kml = [
    "esi-core>=1.2.3",
    "esi-utils-colors>=1.0.5",
    "mapio>=0.8.8",
    "fiona>=1.9.4.post1",
    "lxml",
    "Pillow>=10.0.0",
    "scipy",
    "shapely",
    "simplekml>=1.3.6",
]
mapping = [
    "dill",
    "esi-utils-colors>=1.0.5",
    "esi-utils-geo>=0.9.9",
    "esi-utils-textformat>=1.0",
    "mapio>=0.8.8",
    "cartopy>=0.22.0",
    "matplotlib>=3.7.1",
    "rasterio",
    "scipy",
]
model = [
    "esi-core>=1.2.3",
    "mapio>=0.8.8",
    "cartopy>=0.22.0",
    "fiona>=1.9.4.post1",
    "shapely",
]
plotregr = [
    "matplotlib>=3.7.1",
]
raster = [
    "mapio>=0.8.8",
]
rupture = []
save = []
shape = [
    "esi-core>=1.2.3",
    "esi-utils-colors>=1.0.5",
    "fiona>=1.9.4.post1",
    "scikit-image",
]
sleep = []
sm-select = [
    "usgs-strec>=2.2.3",
]
stations = []
transfer-email = [
    "esi-utils-transfer>=0.1.2",
]
transfer-pdl = [
    "esi-utils-transfer>=0.1.2",
]
transfer-scp = [
    "esi-utils-transfer>=0.1.2",
]
uncertaintymaps = [
    "esi-utils-colors>=1.0.5",
    "esi-utils-geo>=0.9.9",
    "esi-utils-textformat>=1.0",
    "mapio>=0.8.8",
    "cartopy>=0.22.0",
    "matplotlib>=3.7.1",
    "rasterio",
    "scipy",
]
xtestimage = [
    "matplotlib>=3.7.1",
]
xtestplot = [
    "matplotlib>=3.7.1",
]
xtestplot-multi = [
    "matplotlib>=3.7.1",
]
xtestplot-spectra = [
    "matplotlib>=3.7.1",
]
dev = [
    "build>=0.7.0",
    "black>=21",
    "flake8>=3.9",
    "ipython>=7.26",
    "vcrpy>=5.1.0",
    "esi-releases",
    "deepdiff>=6.7.1"
]
test = [
    "pytest>=6.2",
    "pytest-cov>=2.12",
    "vcrpy>=5.1.0",
]
build = [
    "build",
    "twine",
    "esi-releases"
]
all = [ "shakemap-modules[assemble, associate, augment, contour, coverage, dyfi, exception, gridxml, history, info, kml, mapping, model, plotregr, raster, rupture, save, shape, sleep, sm-select, stations, transfer-email, transfer-pdl, transfer-scp, uncertaintymaps, xtestimage, xtestplot, xtestplot-multi, xtestplot-spectra]"
]

[project.scripts]
assemble = "shakemap_modules.coremods.assemble:main"
associate = "shakemap_modules.coremods.associate:main"
augment = "shakemap_modules.coremods.augment:main"
contour = "shakemap_modules.coremods.contour:main"
coverage = "shakemap_modules.coremods.coverage:main"
dyfi = "shakemap_modules.coremods.dyfi:main"
exception = "shakemap_modules.coremods.exception:main"
gridxml = "shakemap_modules.coremods.gridxml:main"
history = "shakemap_modules.coremods.history:main"
info = "shakemap_modules.coremods.info:main"
kml = "shakemap_modules.coremods.kml:main"
mapping = "shakemap_modules.coremods.mapping:main"
model = "shakemap_modules.coremods.model:main"
plotregr = "shakemap_modules.coremods.plotregr:main"
raster = "shakemap_modules.coremods.raster:main"
rupture = "shakemap_modules.coremods.rupture:main"
save = "shakemap_modules.coremods.save:main"
shape = "shakemap_modules.coremods.shape:main"
sleep = "shakemap_modules.coremods.sleep:main"
select = "shakemap_modules.coremods.sm_select:main"
stations = "shakemap_modules.coremods.stations:main"
transfer_email = "shakemap_modules.coremods.transfer_email:main"
transfer_pdl = "shakemap_modules.coremods.transfer_pdl:main"
transfer_scp = "shakemap_modules.coremods.transfer_scp:main"
uncertaintymaps = "shakemap_modules.coremods.uncertaintymaps:main"
# xtestimage = "shakemap_modules.coremods.xtestimage:main"
# xtestplot = "shakemap_modules.coremods.xtestplot:main"
# xtestplot_multi = "shakemap_modules.coremods.xtestplot_multi:main"
# xtestplot_spectra = "shakemap_modules.coremods.xtestplot_spectra:main"
