"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["11702"],{7214:function(t,e,s){s.d(e,{Cj:function(){return l},F7:function(){return n},Hs:function(){return x},Kd:function(){return v},Kj:function(){return f},Nw:function(){return b},PA:function(){return r},Py:function(){return d},Qm:function(){return I},Z0:function(){return S},_Y:function(){return _},_m:function(){return a},dL:function(){return u},dO:function(){return k},hN:function(){return p},h_:function(){return h},j2:function(){return g},q6:function(){return m},uR:function(){return c},yf:function(){return o}});s(39710),s(26847),s(81738),s(72489),s(56389),s(27530);var i=s(15459),n=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({});const r=99387==s.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,o=["L","gal","ft³","m³","CCF"],a=t=>t.sendMessagePromise({type:"recorder/info"}),c=(t,e)=>t.callWS({type:"recorder/list_statistic_ids",statistic_type:e}),d=(t,e)=>t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:e}),u=(t,e,s,i,n="hour",r,o)=>t.callWS({type:"recorder/statistics_during_period",start_time:e.toISOString(),end_time:null==s?void 0:s.toISOString(),statistic_ids:i,period:n,units:r,types:o}),_=(t,e,s,i)=>t.callWS({type:"recorder/statistic_during_period",statistic_id:e,units:i,fixed_period:s.fixed_period?{start_time:s.fixed_period.start instanceof Date?s.fixed_period.start.toISOString():s.fixed_period.start,end_time:s.fixed_period.end instanceof Date?s.fixed_period.end.toISOString():s.fixed_period.end}:void 0,calendar:s.calendar,rolling_window:s.rolling_window}),h=t=>t.callWS({type:"recorder/validate_statistics"}),l=(t,e,s)=>t.callWS({type:"recorder/update_statistics_metadata",statistic_id:e,unit_of_measurement:s}),p=(t,e)=>t.callWS({type:"recorder/clear_statistics",statistic_ids:e}),f=t=>{let e=null;if(!t)return null;for(const s of t)null!==s.change&&void 0!==s.change&&(null===e?e=s.change:e+=s.change);return e},m=(t,e)=>{let s=null;for(const i of e){if(!(i in t))continue;const e=f(t[i]);null!==e&&(null===s?s=e:s+=e)}return s},b=(t,e)=>t.some(t=>void 0!==t[e]&&null!==t[e]),y=["mean","min","max"],C=["sum","state","change"],S=(t,e)=>!(!y.includes(e)||0===t.mean_type)||!(!C.includes(e)||!t.has_sum),g=(t,e,s,i,n)=>{const r=new Date(s).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:e,start_time:r,adjustment:i,adjustment_unit_of_measurement:n})},v=(t,e,s)=>{const n=t.states[e];return n?(0,i.C)(n):(null==s?void 0:s.name)||e},k=(t,e,s)=>{let i;var n;e&&(i=null===(n=t.states[e])||void 0===n?void 0:n.attributes.unit_of_measurement);return void 0===i?null==s?void 0:s.statistics_unit_of_measurement:i},x=t=>t.includes(":"),I=t=>t.callWS({type:"recorder/update_statistics_issues"})},6291:function(t,e,s){s.d(e,{f:function(){return r}});s(39710),s(26847),s(81738),s(72489),s(1455),s(56389),s(27530);var i=s(73742),n=s(7616);const r=t=>{class e extends t{connectedCallback(){super.connectedCallback(),this._checkSubscribed()}disconnectedCallback(){if(super.disconnectedCallback(),this.__unsubs){for(;this.__unsubs.length;){const t=this.__unsubs.pop();t instanceof Promise?t.then(t=>t()):t()}this.__unsubs=void 0}}updated(t){if(super.updated(t),t.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const e of t.keys())if(this.hassSubscribeRequiredHostProps.includes(e))return void this._checkSubscribed()}hassSubscribe(){return[]}_checkSubscribed(){var t;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(t=this.hassSubscribeRequiredHostProps)&&void 0!==t&&t.some(t=>void 0===this[t])||(this.__unsubs=this.hassSubscribe())}}return(0,i.__decorate)([(0,n.Cb)({attribute:!1})],e.prototype,"hass",void 0),e}},87079:function(t,e,s){s.a(t,async function(t,i){try{s.r(e),s.d(e,{HuiEnergyCompareCard:function(){return C}});s(26847),s(27530);var n=s(73742),r=s(7722),o=s(56858),a=s(59048),c=s(7616),d=s(40142),u=s(6640),_=s(6291),h=s(93647),l=(s(12942),s(39884)),p=t([d,u]);[d,u]=p.then?(await p)():p;let f,m,b,y=t=>t;class C extends((0,_.f)(a.oi)){getCardSize(){return 1}setConfig(t){this._config=t}hassSubscribe(){return[(0,u.UB)(this.hass,{key:this._config.collection_key}).subscribe(t=>this._update(t))]}shouldUpdate(t){return(0,h.SN)(this,t)||t.size>1||!t.has("hass")}render(){if(!this._startCompare||!this._endCompare)return a.Ld;const t=(0,r.j)(this._endCompare,this._startCompare);return(0,a.dy)(f||(f=y` <ha-alert dismissable @alert-dismissed-clicked="${0}"> ${0} </ha-alert> `),this._stopCompare,this.hass.localize("ui.panel.energy.compare.info",{start:(0,a.dy)(m||(m=y`<b>${0}${0}</b>`),(0,d.p6)(this._start,this.hass.locale,this.hass.config),t>0?` -\n          ${(0,d.p6)(this._end||(0,o.i)(new Date),this.hass.locale,this.hass.config)}`:""),end:(0,a.dy)(b||(b=y`<b>${0}${0}</b>`),(0,d.p6)(this._startCompare,this.hass.locale,this.hass.config),t>0?` -\n          ${(0,d.p6)(this._endCompare,this.hass.locale,this.hass.config)}`:"")}))}_update(t){this._start=t.start,this._end=t.end,this._startCompare=t.startCompare,this._endCompare=t.endCompare;const e=this.hidden;this.hidden=!this._startCompare,e!==this.hidden&&(0,l.B)(this,"card-visibility-changed")}_stopCompare(){const t=(0,u.UB)(this.hass,{key:this._config.collection_key});t.setCompare(!1),t.refresh()}constructor(...t){super(...t),this.hidden=!0,this.connectedWhileHidden=!0,this.hassSubscribeRequiredHostProps=["_config"]}}(0,n.__decorate)([(0,c.Cb)({attribute:!1})],C.prototype,"hass",void 0),(0,n.__decorate)([(0,c.SB)()],C.prototype,"_config",void 0),(0,n.__decorate)([(0,c.SB)()],C.prototype,"_start",void 0),(0,n.__decorate)([(0,c.SB)()],C.prototype,"_end",void 0),(0,n.__decorate)([(0,c.SB)()],C.prototype,"_startCompare",void 0),(0,n.__decorate)([(0,c.SB)()],C.prototype,"_endCompare",void 0),(0,n.__decorate)([(0,c.Cb)({type:Boolean,reflect:!0})],C.prototype,"hidden",void 0),C=(0,n.__decorate)([(0,c.Mo)("hui-energy-compare-card")],C),i()}catch(f){i(f)}})}}]);
//# sourceMappingURL=11702.41fda037de72256a.js.map