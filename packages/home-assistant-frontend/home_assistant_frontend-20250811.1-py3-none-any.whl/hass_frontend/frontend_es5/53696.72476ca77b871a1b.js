/*! For license information please see 53696.72476ca77b871a1b.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["53696"],{44328:function(t,e,n){n.d(e,{D:function(){return s},U:function(){return r}});n(26847),n(81738),n(94814),n(6989),n(72489),n(27530);var i=n(6219),o=n(16230);const r=t=>{if(!t.length)return o.nZ;if(!t.filter(t=>(0,o.rk)(t)))return o.nZ;if("cover"===(0,i.N)(t[0])){for(const e of["opening","closing","open"])if(t.some(t=>t.state===e))return e;return"closed"}return t.some(t=>"on"===t.state)?"on":"off"},s=(t,e)=>{if(!e.length)return;const n=(0,i.N)(e[0]),o=r(e),s="on"===o||"open"===o;let a=s?"turn_off":"turn_on";"cover"===n&&(a="opening"===o||"closing"===o?"stop_cover":s?"close_cover":"open_cover");const c=e.map(t=>t.entity_id);t.callService(n,a,{entity_id:c})}},38255:function(t,e,n){n.a(t,async function(t,e){try{var i=n(73742),o=n(59048),r=n(7616),s=n(12790),a=n(29402),c=n(35580),l=(n(46358),t([a]));a=(l.then?(await l)():l)[0];let u,d,h,_,f,v,p,m=t=>t;class g extends o.oi{render(){if(this.icon)return(0,o.dy)(u||(u=m`<ha-icon .icon="${0}"></ha-icon>`),this.icon);if(!this.domain)return o.Ld;if(!this.hass)return this._renderFallback();const t=(0,a.KS)(this.hass,this.domain,this.deviceClass,this.state).then(t=>t?(0,o.dy)(d||(d=m`<ha-icon .icon="${0}"></ha-icon>`),t):this._renderFallback());return(0,o.dy)(h||(h=m`${0}`),(0,s.C)(t))}_renderFallback(){if(this.domain&&this.domain in a.Ls)return(0,o.dy)(_||(_=m` <ha-svg-icon .path="${0}"></ha-svg-icon> `),a.Ls[this.domain]);if(this.brandFallback){var t;const e=(0,c.X1)({domain:this.domain,type:"icon",darkOptimized:null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode});return(0,o.dy)(f||(f=m` <img alt="" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer"> `),e)}return(0,o.dy)(v||(v=m`<ha-svg-icon .path="${0}"></ha-svg-icon>`),a.Rb)}}g.styles=(0,o.iv)(p||(p=m`img{width:var(--mdc-icon-size,24px)}`)),(0,i.__decorate)([(0,r.Cb)({attribute:!1})],g.prototype,"hass",void 0),(0,i.__decorate)([(0,r.Cb)()],g.prototype,"domain",void 0),(0,i.__decorate)([(0,r.Cb)({attribute:!1})],g.prototype,"deviceClass",void 0),(0,i.__decorate)([(0,r.Cb)({attribute:!1})],g.prototype,"state",void 0),(0,i.__decorate)([(0,r.Cb)()],g.prototype,"icon",void 0),(0,i.__decorate)([(0,r.Cb)({attribute:"brand-fallback",type:Boolean})],g.prototype,"brandFallback",void 0),g=(0,i.__decorate)([(0,r.Mo)("ha-domain-icon")],g),e()}catch(u){e(u)}})},5865:function(t,e,n){n.d(e,{kY:function(){return u},mj:function(){return l}});var i=n(73742),o=n(59048),r=n(7616);n(46358),n(993);let s,a,c=t=>t;const l=t=>{switch(t.level){case 0:return"M11,10H13V16H11V10M22,12H19V20H5V12H2L12,3L22,12M15,10A2,2 0 0,0 13,8H11A2,2 0 0,0 9,10V16A2,2 0 0,0 11,18H13A2,2 0 0,0 15,16V10Z";case 1:return"M12,3L2,12H5V20H19V12H22L12,3M10,8H14V18H12V10H10V8Z";case 2:return"M12,3L2,12H5V20H19V12H22L12,3M9,8H13A2,2 0 0,1 15,10V12A2,2 0 0,1 13,14H11V16H15V18H9V14A2,2 0 0,1 11,12H13V10H9V8Z";case 3:return"M12,3L22,12H19V20H5V12H2L12,3M15,11.5V10C15,8.89 14.1,8 13,8H9V10H13V12H11V14H13V16H9V18H13A2,2 0 0,0 15,16V14.5A1.5,1.5 0 0,0 13.5,13A1.5,1.5 0 0,0 15,11.5Z";case-1:return"M12,3L2,12H5V20H19V12H22L12,3M11,15H7V13H11V15M15,18H13V10H11V8H15V18Z"}return"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"},u=t=>{switch(t.level){case 0:return"mdi:home-floor-0";case 1:return"mdi:home-floor-1";case 2:return"mdi:home-floor-2";case 3:return"mdi:home-floor-3";case-1:return"mdi:home-floor-negative-1"}return"mdi:home"};class d extends o.oi{render(){if(this.floor.icon)return(0,o.dy)(s||(s=c`<ha-icon .icon="${0}"></ha-icon>`),this.floor.icon);const t=l(this.floor);return(0,o.dy)(a||(a=c`<ha-svg-icon .path="${0}"></ha-svg-icon>`),t)}}(0,i.__decorate)([(0,r.Cb)({attribute:!1})],d.prototype,"floor",void 0),(0,i.__decorate)([(0,r.Cb)()],d.prototype,"icon",void 0),d=(0,i.__decorate)([(0,r.Mo)("ha-floor-icon")],d)},58747:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{EX:function(){return _},Fj:function(){return w},M$:function(){return C},SO:function(){return f},Sk:function(){return p},TN:function(){return A},UJ:function(){return m},Ym:function(){return H},hF:function(){return v}});n(18574),n(81738),n(94814),n(6989),n(1455);var o=n(40141);if(99387==n.j)var r=n(44272);if(99387==n.j)var s=n(6219);var a=n(36590),c=n(28598),l=n(36221),u=n(72242);if(99387==n.j)var d=n(35982);var h=t([c]);c=(h.then?(await h)():h)[0];var _=function(t){return t[t.INSTALL=1]="INSTALL",t[t.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",t[t.PROGRESS=4]="PROGRESS",t[t.BACKUP=8]="BACKUP",t[t.RELEASE_NOTES=16]="RELEASE_NOTES",t}({});const f=t=>(0,a.e)(t,4)&&null!==t.attributes.update_percentage,v=(t,e=!1)=>(t.state===o.uo||e&&Boolean(t.attributes.skipped_version))&&(0,a.e)(t,1),p=t=>!!t.attributes.in_progress,m=(t,e)=>t.callWS({type:"update/release_notes",entity_id:e}),g="Home Assistant Core",y="Home Assistant Supervisor",b="Home Assistant Operating System",$=(t,e)=>Object.values(t).filter(t=>"update"===(0,s.N)(t)).sort((t,n)=>t.attributes.title===g?-3:n.attributes.title===g?3:t.attributes.title===b?-2:n.attributes.title===b?2:t.attributes.title===y?-1:n.attributes.title===y?1:(0,l.fe)(t.attributes.title||t.attributes.friendly_name||"",n.attributes.title||n.attributes.friendly_name||"",e)),w=(t,e=!1)=>$(t).filter(t=>v(t,e)),C=async(t,e)=>{const n=$(e.states,e.locale.language).map(t=>t.entity_id);if(!n.length)return void(0,u.showAlertDialog)(t,{title:e.localize("ui.panel.config.updates.no_update_entities.title"),text:e.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0});(0,d.C)(t,{message:e.localize("ui.panel.config.updates.checking_updates")});let i=0;const o=await e.connection.subscribeEvents(n=>{"update"===(0,r.M)(n.data.entity_id)&&(i++,(0,d.C)(t,{message:e.localize("ui.panel.config.updates.updates_refreshed",{count:i})}))},"state_changed");await e.callService("homeassistant","update_entity",{entity_id:n}),await new Promise(t=>{setTimeout(t,15e3)}),o(),0===i&&(0,d.C)(t,{message:e.localize("ui.panel.config.updates.no_new_updates")})},H=(t,e)=>{const n=t.state,i=t.attributes;if("off"===n){return i.latest_version&&i.skipped_version===i.latest_version?i.latest_version:e.formatEntityState(t)}if("on"===n&&p(t)){return(0,a.e)(t,4)&&null!==i.update_percentage?e.localize("ui.card.update.installing_with_progress",{progress:(0,c.uf)(i.update_percentage,e.locale,{maximumFractionDigits:i.display_precision,minimumFractionDigits:i.display_precision})}):e.localize("ui.card.update.installing")}return e.formatEntityState(t)},A=(t,e)=>{var n;if("hassio"!==(null===(n=e[t.entity_id])||void 0===n?void 0:n.domain))return"generic";const i=t.attributes.title||"";return i===g?"home_assistant":i===b?"home_assistant_os":i!==y?"addon":"generic"};i()}catch(f){i(f)}})},71725:function(t,e,n){n.a(t,async function(t,i){try{n.d(e,{Kr:function(){return x},M0:function(){return k},p0:function(){return S}});n(40777),n(39710),n(26847),n(44438),n(81738),n(94814),n(6989),n(93190),n(87799),n(1455),n(56389),n(27530);var o=n(73742),r=n(59048),s=n(7616),a=n(31733),c=n(36180),l=n(28105),u=n(45332),d=n(68626),h=n(44328),_=n(28350),f=n(87409),v=(n(56712),n(58239),n(38255)),p=(n(993),n(21202)),m=n(17332),g=n(61219),y=n(69869),b=t([v]);v=(b.then?(await b)():b)[0];let $,w,C,H=t=>t;const A=t=>({filter:{domain:"cover",device_class:t}}),V={light:{filter:{domain:"light"}},fan:{filter:{domain:"fan"}},switch:{filter:{domain:"switch"}},"cover-blind":A("blind"),"cover-curtain":A("curtain"),"cover-damper":A("damper"),"cover-awning":A("awning"),"cover-door":A("door"),"cover-garage":A("garage"),"cover-gate":A("gate"),"cover-shade":A("shade"),"cover-shutter":A("shutter"),"cover-window":A("window")},x=(t,e)=>!!(e.area_id?t.areas[e.area_id]:void 0),S=(t,e,n,i)=>t.reduce((t,o)=>{const r=V[o],s=(0,d.$)(i,Object.assign({area:e,entity_category:"none"},r.filter));return t[o]=Object.keys(i.entities).filter(t=>s(t)&&!(null!=n&&n.includes(t))),t},{}),k=4;class E extends r.oi{get _area(){if(this.hass&&this.context&&this.context.area_id)return this.hass.areas[this.context.area_id]}get _controls(){var t;return(null===(t=this._config)||void 0===t?void 0:t.controls)||y.nz}static getStubConfig(){return{type:"area-controls"}}static async getConfigElement(){return await Promise.all([n.e("68858"),n.e("65973")]).then(n.bind(n,73991)),document.createElement("hui-area-controls-card-feature-editor")}setConfig(t){if(!t)throw new Error("Invalid configuration");this._config=t}_handleButtonTap(t){var e;if(t.stopPropagation(),null===(e=this.context)||void 0===e||!e.area_id||!this.hass||!this._config)return;const n=t.currentTarget.control,i=this._controlEntities(this._controls,this.context.area_id,this.context.exclude_entities,this.hass.entities,this.hass.devices,this.hass.areas)[n].map(t=>this.hass.states[t]).filter(t=>Boolean(t));(0,p.j)("light"),(0,h.D)(this.hass,i)}render(){if(!(this._config&&this.hass&&this.context&&this._area&&x(this.hass,this.context)))return r.Ld;const t=this._controlEntities(this._controls,this.context.area_id,this.context.exclude_entities,this.hass.entities,this.hass.devices,this.hass.areas),e=this._controls.filter(e=>t[e].length>0),n=this._config.controls?e:e.slice(0,k);return n.length?(0,r.dy)($||($=H` <ha-control-button-group class="${0}"> ${0} </ha-control-button-group> `),(0,a.$)({"no-stretch":"inline"===this.position}),n.map(e=>{const n=V[e],i=t[e].map(t=>this.hass.states[t]).filter(t=>Boolean(t)),o=(0,h.U)(i),s=!!i[0]&&(0,_.v)(i[0],o),a=this.hass.localize(`ui.card_features.area_controls.${e}.${s?"off":"on"}`),l=n.filter.domain,d=n.filter.device_class?(0,u.r)(n.filter.device_class)[0]:void 0,v=(0,m.I)((0,f.ay)(l,d,o,!0));return(0,r.dy)(w||(w=H` <ha-control-button style="${0}" .title="${0}" aria-label="${0}" class="${0}" .control="${0}" @click="${0}"> <ha-domain-icon .hass="${0}" .domain="${0}" .deviceClass="${0}" .state="${0}"></ha-domain-icon> </ha-control-button> `),(0,c.V)({"--active-color":v}),a,a,s?"active":"",e,this._handleButtonTap,this.hass,l,d,o)})):r.Ld}static get styles(){return[g.H,(0,r.iv)(C||(C=H`:host{pointer-events:none!important;display:flex;flex-direction:row;justify-content:flex-end}ha-control-button-group{pointer-events:auto;width:100%}ha-control-button-group.no-stretch{width:auto;max-width:100%}ha-control-button-group.no-stretch>ha-control-button{width:48px}ha-control-button{--active-color:var(--state-active-color);--control-button-focus-color:var(--state-active-color)}ha-control-button.active{--control-button-background-color:var(--active-color);--control-button-icon-color:var(--active-color)}`))]}constructor(...t){super(...t),this._controlEntities=(0,l.Z)((t,e,n,i,o,r)=>S(t,e,n,this.hass))}}(0,o.__decorate)([(0,s.Cb)({attribute:!1})],E.prototype,"hass",void 0),(0,o.__decorate)([(0,s.Cb)({attribute:!1})],E.prototype,"context",void 0),(0,o.__decorate)([(0,s.Cb)({attribute:!1})],E.prototype,"position",void 0),(0,o.__decorate)([(0,s.SB)()],E.prototype,"_config",void 0),E=(0,o.__decorate)([(0,s.Mo)("hui-area-controls-card-feature")],E),i()}catch($){i($)}})},69869:function(t,e,n){n.d(e,{Ig:function(){return o},nz:function(){return s},vp:function(){return i},wQ:function(){return r}});const i=["decrement","reset","increment"],o=["start_pause","stop","clean_spot","locate","return_home"],r=["start_pause","dock"],s=["light","fan","cover-shutter","cover-blind","cover-curtain","cover-shade","cover-awning","cover-garage","cover-gate","cover-door","cover-window","cover-damper","switch"]},2278:function(t,e,n){n.a(t,async function(t,i){try{n.r(e),n.d(e,{AreasOverviewViewStrategy:function(){return _}});n(24674),n(26847),n(2394),n(20678),n(81738),n(94814),n(6989),n(1455),n(27530);var o=n(73742),r=n(59048),s=n(7616),a=n(5865),c=n(71725),l=n(69869),u=n(43680),d=t([u,c]);[u,c]=d.then?(await d)():d;const h="__unassigned__";class _ extends r.fl{static async generate(t,e){var n,i,o,r;const s=(0,u.ao)(e.areas,null===(n=t.areas_display)||void 0===n?void 0:n.hidden,null===(i=t.areas_display)||void 0===i?void 0:i.order);return{type:"sections",max_columns:3,sections:(null===(r=[...(0,u.qI)(e.floors,null===(o=t.floors_display)||void 0===o?void 0:o.order),{floor_id:h,name:e.localize("ui.panel.lovelace.strategy.areas.other_areas"),level:null,icon:null}].map(t=>{const e=s.filter(e=>e.floor_id===t.floor_id||!e.floor_id&&t.floor_id===h);return[t,e]}).filter(([t,e])=>e.length).map(([n,i],o,r)=>{const s=i.map(n=>{var i;const o=(0,u._$)(n.area_id),r=(null===(i=t.areas_options)||void 0===i?void 0:i[n.area_id])||{},s=Object.values(r.groups_options||{}).map(t=>t.hidden||[]).flat(),a=l.nz.filter(t=>"switch"!==t),d=(0,c.p0)(a,n.area_id,s,e),h=a.filter(t=>d[t].length>0),_=[];n.temperature_entity_id&&_.push("temperature"),n.humidity_entity_id&&_.push("humidity");const f="large"===r.card_size;return{type:"area",area:n.area_id,display_type:f?"camera":"compact",sensor_classes:_,exclude_entities:s,features:h.length?[{type:"area-controls",controls:h}]:[],grid_options:{rows:f?4:1,columns:12},features_position:"inline",navigation_path:o}});return{max_columns:3,type:"grid",cards:[{type:"heading",heading_style:"title",heading:1===r.length&&n.floor_id===h?e.localize("ui.panel.lovelace.strategy.areas.areas"):n.name,icon:n.icon||(0,a.kY)(n)},...s]}}))||void 0===r?void 0:r.filter(t=>void 0!==t))||[]}}}_=(0,o.__decorate)([(0,s.Mo)("areas-overview-view-strategy")],_),i()}catch(h){i(h)}})},56730:function(t,e,n){n.r(e),n.d(e,{mdiHomeAssistant:function(){return i}});const i="m12.151 1.5882c-.3262 0-.6523.1291-.8996.3867l-8.3848 8.7354c-.0619.0644-.1223.1368-.1807.2154-.0588.0789-.1151.1638-.1688.2534-.2593.4325-.4552.9749-.5232 1.4555-.0026.018-.0076.0369-.0094.0548-.0121.0987-.0184.1944-.0184.2857v8.0124a1.2731 1.2731 0 001.2731 1.2731h7.8313l-3.4484-3.593a1.7399 1.7399 0 111.0803-1.125l2.6847 2.7972v-10.248a1.7399 1.7399 0 111.5276-0v7.187l2.6702-2.782a1.7399 1.7399 0 111.0566 1.1505l-3.7269 3.8831v2.7299h8.174a1.2471 1.2471 0 001.2471-1.2471v-8.0375c0-.0912-.0059-.1868-.0184-.2855-.0603-.4935-.2636-1.0617-.5326-1.5105-.0537-.0896-.1101-.1745-.1684-.253-.0588-.079-.1191-.1513-.181-.2158l-8.3848-8.7363c-.2473-.2577-.5735-.3866-.8995-.3864"},35580:function(t,e,n){n.d(e,{RU:function(){return o},X1:function(){return i},u4:function(){return r},zC:function(){return s}});n(44261);const i=t=>`https://brands.home-assistant.io/${t.brand?"brands/":""}${t.useFallback?"_/":""}${t.domain}/${t.darkOptimized?"dark_":""}${t.type}.png`,o=t=>`https://brands.home-assistant.io/hardware/${t.category}/${t.darkOptimized?"dark_":""}${t.manufacturer}${t.model?`_${t.model}`:""}.png`,r=t=>t.split("/")[4],s=t=>t.startsWith("https://brands.home-assistant.io/")},19447:function(t,e,n){n.d(e,{Z:function(){return i}});n(84730),n(15411),n(40777),n(26847),n(1455),n(27530);function i(t){var e,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new o(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function o(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then(function(t){return{value:t,done:e}})}return o=function(t){this.s=t,this.n=t.next},o.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new o(t)}},93847:function(t,e,n){n.d(e,{sR:function(){return d}});n(26847),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(27530);var i=n(5277),o=n(83522);const r=(t,e)=>{const n=t._$AN;if(void 0===n)return!1;for(const o of n){var i;null!==(i=o._$AO)&&void 0!==i&&i.call(o,e,!1),r(o,e)}return!0},s=t=>{let e,n;do{var i;if(void 0===(e=t._$AM))break;n=e._$AN,n.delete(t),t=e}while(0===(null===(i=n)||void 0===i?void 0:i.size))},a=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(void 0===n)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),u(e)}};function c(t){void 0!==this._$AN?(s(this),this._$AM=t,a(this)):this._$AM=t}function l(t,e=!1,n=0){const i=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(e)if(Array.isArray(i))for(let a=n;a<i.length;a++)r(i[a],!1),s(i[a]);else null!=i&&(r(i,!1),s(i));else r(this,t)}const u=t=>{var e,n;t.type==o.pX.CHILD&&(null!==(e=t._$AP)&&void 0!==e||(t._$AP=l),null!==(n=t._$AQ)&&void 0!==n||(t._$AQ=c))};class d extends o.Xe{_$AT(t,e,n){super._$AT(t,e,n),a(this),this.isConnected=t._$AU}_$AO(t,e=!0){var n,i;t!==this.isConnected&&(this.isConnected=t,t?null===(n=this.reconnected)||void 0===n||n.call(this):null===(i=this.disconnected)||void 0===i||i.call(this)),e&&(r(this,t),s(this))}setValue(t){if((0,i.OR)(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}constructor(){super(...arguments),this._$AN=void 0}}},12790:function(t,e,n){n.d(e,{C:function(){return h}});n(26847),n(81738),n(29981),n(1455),n(27530);var i=n(35340),o=n(5277),r=n(93847);n(19447);class s{disconnect(){this.G=void 0}reconnect(t){this.G=t}deref(){return this.G}constructor(t){this.G=t}}class a{get(){return this.Y}pause(){var t;null!==(t=this.Y)&&void 0!==t||(this.Y=new Promise(t=>this.Z=t))}resume(){var t;null!==(t=this.Z)&&void 0!==t&&t.call(this),this.Y=this.Z=void 0}constructor(){this.Y=void 0,this.Z=void 0}}var c=n(83522);const l=t=>!(0,o.pt)(t)&&"function"==typeof t.then,u=1073741823;class d extends r.sR{render(...t){var e;return null!==(e=t.find(t=>!l(t)))&&void 0!==e?e:i.Jb}update(t,e){const n=this._$Cbt;let o=n.length;this._$Cbt=e;const r=this._$CK,s=this._$CX;this.isConnected||this.disconnected();for(let i=0;i<e.length&&!(i>this._$Cwt);i++){const t=e[i];if(!l(t))return this._$Cwt=i,t;i<o&&t===n[i]||(this._$Cwt=u,o=0,Promise.resolve(t).then(async e=>{for(;s.get();)await s.get();const n=r.deref();if(void 0!==n){const i=n._$Cbt.indexOf(t);i>-1&&i<n._$Cwt&&(n._$Cwt=i,n.setValue(e))}}))}return i.Jb}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}constructor(){super(...arguments),this._$Cwt=u,this._$Cbt=[],this._$CK=new s(this),this._$CX=new a}}const h=(0,c.XM)(d)}}]);
//# sourceMappingURL=53696.72476ca77b871a1b.js.map