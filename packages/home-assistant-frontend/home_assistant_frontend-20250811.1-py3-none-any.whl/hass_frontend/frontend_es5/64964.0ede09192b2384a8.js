"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["64964"],{97166:function(t,i,e){e.a(t,async function(t,s){try{e.r(i),e.d(i,{STUB_IMAGE:function(){return M}});e(40777),e(39710),e(26847),e(87799),e(1455),e(27530);var o=e(73742),n=e(59048),a=e(7616),r=e(25191),h=e(4427),c=e(44272),g=e(15459),d=(e(31138),e(42236)),f=e(76815),_=e(45063),u=e(88887),l=e(37807),m=e(93647),p=e(12723),y=e(99389),b=t([p]);p=(b.then?(await b)():b)[0];let v,w,$,x,C,k,E=t=>t;const M="https://demo.home-assistant.io/stub_config/bedroom.png";class S extends n.oi{static async getConfigElement(){return await e.e("7327").then(e.bind(e,54795)),document.createElement("hui-picture-entity-card-editor")}static getStubConfig(t,i,e){return{type:"picture-entity",entity:(0,_.j)(t,1,i,e,["light","switch"])[0]||"",image:M}}getCardSize(){return 3}setConfig(t){if(!t||!t.entity)throw new Error("Entity must be specified");if(!(["camera","image","person"].includes((0,c.M)(t.entity))||t.image||t.state_image||t.camera_image))throw new Error("No image source configured");this._config=Object.assign({show_name:!0,show_state:!0,tap_action:{action:"more-info"}},t)}shouldUpdate(t){return(0,m.G2)(this,t)}updated(t){if(super.updated(t),!this._config||!this.hass)return;const i=t.get("hass"),e=t.get("_config");i&&e&&i.themes===this.hass.themes&&e.theme===this._config.theme||(0,h.R)(this,this.hass.themes,this._config.theme)}render(){var t;if(!this._config||!this.hass)return n.Ld;const i=this.hass.states[this._config.entity];if(!i)return(0,n.dy)(v||(v=E` <hui-warning .hass="${0}"> ${0} </hui-warning> `),this.hass,(0,y.i)(this.hass,this._config.entity));const e=this._config.name||(0,g.C)(i),s=this.hass.formatEntityState(i);let o="";this._config.show_name&&this._config.show_state?o=(0,n.dy)(w||(w=E` <div class="footer both"> <div>${0}</div> <div>${0}</div> </div> `),e,s):this._config.show_name?o=(0,n.dy)($||($=E`<div class="footer single">${0}</div>`),e):this._config.show_state&&(o=(0,n.dy)(x||(x=E`<div class="footer single">${0}</div>`),s));const a=(0,c.M)(this._config.entity);let h=this._config.image;if(!h)switch(a){case"image":h=(0,d.U)(i);break;case"person":i.attributes.entity_picture&&(h=i.attributes.entity_picture)}const _="grid"===this.layout&&"number"==typeof(null===(t=this._config.grid_options)||void 0===t?void 0:t.rows);return(0,n.dy)(C||(C=E` <ha-card> <hui-image .hass="${0}" .image="${0}" .stateImage="${0}" .stateFilter="${0}" .cameraImage="${0}" .cameraView="${0}" .entity="${0}" .aspectRatio="${0}" .fitMode="${0}" @action="${0}" .actionHandler="${0}" tabindex="${0}"></hui-image> ${0} </ha-card> `),this.hass,h,this._config.state_image,this._config.state_filter,"camera"===a?this._config.entity:this._config.camera_image,this._config.camera_view,this._config.entity,_?void 0:this._config.aspect_ratio,this._config.fit_mode,this._handleAction,(0,f.K)({hasHold:(0,l._)(this._config.hold_action),hasDoubleClick:(0,l._)(this._config.double_tap_action)}),(0,r.o)((0,l._)(this._config.tap_action)||this._config.entity?"0":void 0),o)}_handleAction(t){(0,u.G)(this,this.hass,this._config,t.detail.action)}}S.styles=(0,n.iv)(k||(k=E`ha-card{min-height:75px;overflow:hidden;position:relative;height:100%;box-sizing:border-box}hui-image{cursor:pointer;height:100%}.footer{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:absolute;left:0;right:0;bottom:0;background-color:var(--ha-picture-card-background-color,rgba(0,0,0,.3));padding:16px;font-size:var(--ha-font-size-l);line-height:16px;color:var(--ha-picture-card-text-color,#fff);pointer-events:none}.both{display:flex;justify-content:space-between}.single{text-align:center}`)),(0,o.__decorate)([(0,a.Cb)({attribute:!1})],S.prototype,"hass",void 0),(0,o.__decorate)([(0,a.Cb)({attribute:!1})],S.prototype,"layout",void 0),(0,o.__decorate)([(0,a.SB)()],S.prototype,"_config",void 0),S=(0,o.__decorate)([(0,a.Mo)("hui-picture-entity-card")],S),s()}catch(v){s(v)}})},87313:function(t,i,e){if(e.d(i,{s:function(){return o}}),99387==e.j)var s=e(69130);function o(t){let i=(0,s.Z)("lrgb")(t);return.2126*i.r+.7152*i.g+.0722*i.b}}}]);
//# sourceMappingURL=64964.0ede09192b2384a8.js.map