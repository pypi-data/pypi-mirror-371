"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["59975"],{61981:function(e,t,a){a.d(t,{K:function(){return s},T:function(){return r}});var i=a(58125),n=a(15459),o=a(55107);const s=(e,t)=>{const a=t.entities[e.entity_id];return a?r(a,t):(0,n.C)(e)},r=(e,t)=>{const a=e.name||("original_name"in e?e.original_name:void 0),s=e.device_id?t.devices[e.device_id]:void 0;if(!s){if(a)return a;const i=t.states[e.entity_id];return i?(0,n.C)(i):void 0}const r=(0,i.jL)(s);if(r!==a)return r&&a&&(0,o.N)(a,r)||a}},55107:function(e,t,a){a.d(t,{N:function(){return n}});a(26847),a(44261),a(27530);const i=[" ",": "," - "],n=(e,t)=>{const a=e.toLowerCase(),n=t.toLowerCase();for(const s of i){const t=`${n}${s}`;if(a.startsWith(t)){const a=e.substring(t.length);if(a.length)return o(a.substr(0,a.indexOf(" ")))?a:a[0].toUpperCase()+a.slice(1)}}},o=e=>e.toLowerCase()!==e},61829:function(e,t,a){a.a(e,async function(e,t){try{a(39710),a(26847),a(18574),a(81738),a(94814),a(1455),a(56389),a(27530);var i=a(73742),n=a(59048),o=a(7616),s=a(88245),r=a(28105),l=a(39884),d=a(36221),c=a(96222),h=a(95814),p=(a(93673),a(38255)),u=(a(19515),a(64881),a(39091),e([p]));p=(u.then?(await u)():u)[0];let v,_,g,m,y,x=e=>e;const f="M21 8H3V6H21V8M13.81 16H10V18H13.09C13.21 17.28 13.46 16.61 13.81 16M18 11H6V13H18V11M21.12 15.46L19 17.59L16.88 15.46L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z";class b extends n.oi{render(){var e,t;return(0,n.dy)(v||(v=x` <ha-expansion-panel left-chevron .expanded="${0}" @expanded-will-change="${0}" @expanded-changed="${0}"> <div slot="header" class="header"> ${0} ${0} </div> ${0} </ha-expansion-panel> `),this.expanded,this._expandedWillChange,this._expandedChanged,this.hass.localize("ui.panel.config.integrations.caption"),null!==(e=this.value)&&void 0!==e&&e.length?(0,n.dy)(_||(_=x`<div class="badge">${0}</div> <ha-icon-button .path="${0}" @click="${0}"></ha-icon-button>`),null===(t=this.value)||void 0===t?void 0:t.length,f,this._clearFilter):n.Ld,this._manifests&&this._shouldRender?(0,n.dy)(g||(g=x`<search-input-outlined .hass="${0}" .filter="${0}" @value-changed="${0}"> </search-input-outlined> <ha-list class="ha-scrollbar" @click="${0}" multi> ${0} </ha-list> `),this.hass,this._filter,this._handleSearchChange,this._handleItemClick,(0,s.r)(this._integrations(this._manifests,this._filter,this.value),e=>e.domain,e=>(0,n.dy)(m||(m=x`<ha-check-list-item .value="${0}" .selected="${0}" graphic="icon"> <ha-domain-icon slot="graphic" .hass="${0}" .domain="${0}" brand-fallback></ha-domain-icon> ${0} </ha-check-list-item>`),e.domain,(this.value||[]).includes(e.domain),this.hass,e.domain,e.name||e.domain))):n.Ld)}updated(e){e.has("expanded")&&this.expanded&&setTimeout(()=>{this.expanded&&(this.renderRoot.querySelector("ha-list").style.height=this.clientHeight-49-32+"px")},300)}_expandedWillChange(e){this._shouldRender=e.detail.expanded}_expandedChanged(e){this.expanded=e.detail.expanded}async firstUpdated(){this._manifests=await(0,c.F3)(this.hass)}_handleItemClick(e){var t,a;const i=e.target.closest("ha-check-list-item"),n=null==i?void 0:i.value;if(n){var o;if(null!==(t=this.value)&&void 0!==t&&t.includes(n))this.value=null===(o=this.value)||void 0===o?void 0:o.filter(e=>e!==n);else this.value=[...this.value||[],n];i.selected=null===(a=this.value)||void 0===a?void 0:a.includes(n),(0,l.B)(this,"data-table-filter-changed",{value:this.value,items:void 0})}}_clearFilter(e){e.preventDefault(),this.value=void 0,(0,l.B)(this,"data-table-filter-changed",{value:void 0,items:void 0})}_handleSearchChange(e){this._filter=e.detail.value.toLowerCase()}static get styles(){return[h.$c,(0,n.iv)(y||(y=x`:host{border-bottom:1px solid var(--divider-color)}:host([expanded]){flex:1;height:0}ha-expansion-panel{--ha-card-border-radius:0;--expansion-panel-content-padding:0}.header{display:flex;align-items:center}.header ha-icon-button{margin-inline-start:auto;margin-inline-end:8px}.badge{display:inline-block;margin-left:8px;margin-inline-start:8px;margin-inline-end:0;min-width:16px;box-sizing:border-box;border-radius:50%;font-size:var(--ha-font-size-xs);font-weight:var(--ha-font-weight-normal);background-color:var(--primary-color);line-height:var(--ha-line-height-normal);text-align:center;padding:0px 2px;color:var(--text-primary-color)}search-input-outlined{display:block;padding:0 8px}`))]}constructor(...e){super(...e),this.narrow=!1,this.expanded=!1,this._shouldRender=!1,this._integrations=(0,r.Z)((e,t,a)=>e.filter(e=>(!e.integration_type||!["entity","system","hardware"].includes(e.integration_type))&&(!t||e.name.toLowerCase().includes(t)||e.domain.toLowerCase().includes(t))).sort((e,t)=>(0,d.$K)(e.name||e.domain,t.name||t.domain,this.hass.locale.language)))}}(0,i.__decorate)([(0,o.Cb)({attribute:!1})],b.prototype,"hass",void 0),(0,i.__decorate)([(0,o.Cb)({attribute:!1})],b.prototype,"value",void 0),(0,i.__decorate)([(0,o.Cb)({type:Boolean})],b.prototype,"narrow",void 0),(0,i.__decorate)([(0,o.Cb)({type:Boolean,reflect:!0})],b.prototype,"expanded",void 0),(0,i.__decorate)([(0,o.SB)()],b.prototype,"_manifests",void 0),(0,i.__decorate)([(0,o.SB)()],b.prototype,"_shouldRender",void 0),(0,i.__decorate)([(0,o.SB)()],b.prototype,"_filter",void 0),b=(0,i.__decorate)([(0,o.Mo)("ha-filter-integrations")],b),t()}catch(v){t(v)}})},83693:function(e,t,a){a(39710),a(26847),a(2394),a(81738),a(29981),a(6989),a(1455),a(56389),a(27530);var i=a(73742),n=a(59048),o=a(7616),s=a(39884),r=a(95814);a(93673),a(19515),a(46358),a(48017),a(64881);let l,d,c,h,p,u,v=e=>e;class _ extends n.oi{render(){var e,t;if(!this.states)return n.Ld;const a=this.states.find(e=>e.icon);return(0,n.dy)(l||(l=v` <ha-expansion-panel left-chevron .expanded="${0}" @expanded-will-change="${0}" @expanded-changed="${0}"> <div slot="header" class="header"> ${0} ${0} </div> ${0} </ha-expansion-panel> `),this.expanded,this._expandedWillChange,this._expandedChanged,this.label,null!==(e=this.value)&&void 0!==e&&e.length?(0,n.dy)(d||(d=v`<div class="badge">${0}</div> <ha-icon-button .path="${0}" @click="${0}"></ha-icon-button>`),null===(t=this.value)||void 0===t?void 0:t.length,"M21 8H3V6H21V8M13.81 16H10V18H13.09C13.21 17.28 13.46 16.61 13.81 16M18 11H6V13H18V11M21.12 15.46L19 17.59L16.88 15.46L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z",this._clearFilter):n.Ld,this._shouldRender?(0,n.dy)(c||(c=v` <ha-list @selected="${0}" multi class="ha-scrollbar"> ${0} </ha-list> `),this._statesSelected,this.states.map(e=>{var t,i;return(0,n.dy)(h||(h=v`<ha-check-list-item .value="${0}" .selected="${0}" .graphic="${0}"> ${0} ${0} </ha-check-list-item>`),e.value,null!==(t=null===(i=this.value)||void 0===i?void 0:i.includes(e.value))&&void 0!==t&&t,a?"icon":null,e.icon?(0,n.dy)(p||(p=v`<ha-icon slot="graphic" .icon="${0}"></ha-icon>`),e.icon):n.Ld,e.label)})):n.Ld)}willUpdate(e){e.has("expanded")&&this.expanded&&(this._shouldRender=!0)}updated(e){(e.has("expanded")||e.has("states"))&&this.expanded&&setTimeout(async()=>{if(!this.expanded)return;const e=this._list;e&&(e.style.height=this.clientHeight-49+"px")},300)}_expandedWillChange(e){this._shouldRender=e.detail.expanded}_expandedChanged(e){this.expanded=e.detail.expanded}async _statesSelected(e){if(!e.detail.index.size)return(0,s.B)(this,"data-table-filter-changed",{value:[],items:void 0}),void(this.value=[]);const t=[];for(const a of e.detail.index){const e=this.states[a].value;t.push(e)}this.value=t,(0,s.B)(this,"data-table-filter-changed",{value:t,items:void 0})}_clearFilter(e){e.preventDefault(),this.value=void 0,(0,s.B)(this,"data-table-filter-changed",{value:void 0,items:void 0})}static get styles(){return[r.$c,(0,n.iv)(u||(u=v`:host{border-bottom:1px solid var(--divider-color)}:host([expanded]){flex:1;height:0}ha-expansion-panel{--ha-card-border-radius:0;--expansion-panel-content-padding:0}.header{display:flex;align-items:center}.header ha-icon-button{margin-inline-start:auto;margin-inline-end:8px}.badge{display:inline-block;margin-left:8px;margin-inline-start:8px;margin-inline-end:0;min-width:16px;box-sizing:border-box;border-radius:50%;font-size:var(--ha-font-size-xs);font-weight:var(--ha-font-weight-normal);background-color:var(--primary-color);line-height:var(--ha-line-height-normal);text-align:center;padding:0px 2px;color:var(--text-primary-color)}`))]}constructor(...e){super(...e),this.narrow=!1,this.expanded=!1,this._shouldRender=!1}}(0,i.__decorate)([(0,o.Cb)({attribute:!1})],_.prototype,"hass",void 0),(0,i.__decorate)([(0,o.Cb)()],_.prototype,"label",void 0),(0,i.__decorate)([(0,o.Cb)({attribute:!1})],_.prototype,"value",void 0),(0,i.__decorate)([(0,o.Cb)({attribute:!1})],_.prototype,"states",void 0),(0,i.__decorate)([(0,o.Cb)({type:Boolean})],_.prototype,"narrow",void 0),(0,i.__decorate)([(0,o.Cb)({type:Boolean,reflect:!0})],_.prototype,"expanded",void 0),(0,i.__decorate)([(0,o.SB)()],_.prototype,"_shouldRender",void 0),(0,i.__decorate)([(0,o.IO)("ha-list")],_.prototype,"_list",void 0),_=(0,i.__decorate)([(0,o.Mo)("ha-filter-states")],_)},85775:function(e,t,a){a(1455);var i=a(73742),n=a(72134),o=a(48758),s=a(59048),r=a(7616);let l;class d extends n.W{async show(){super.show(),this.menu.hasOverflow=!1}}d.styles=[o.W,(0,s.iv)(l||(l=(e=>e)`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color);--md-sys-color-secondary-container:rgba(
          var(--rgb-primary-color),
          0.15
        );--md-sys-color-on-secondary-container:var(--text-primary-color);--mdc-icon-size:16px;--md-sys-color-on-primary-container:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color)}`))],d=(0,i.__decorate)([(0,r.Mo)("ha-sub-menu")],d)},10734:function(e,t,a){a.d(t,{t:function(){return g}});a(26847),a(81738),a(94814),a(22960),a(6989),a(1455),a(27530);var i=a(59048),n=a(72242),o=a(70947);a(19515);let s,r,l,d,c,h,p,u,v,_=e=>e;const g=async(e,t,a)=>{const g=await(0,o.CL)(t,a),m=Object.entries(g),y=m.filter(([e,t])=>t&&e!==t).map(([e,t])=>(0,i.dy)(s||(s=_`<tr> <td>${0}</td> <td>${0}</td> </tr>`),e,t)),x=m.filter(([e,t])=>null===t).map(([e])=>(0,i.dy)(r||(r=_`<li>${0}</li>`),e)),f=m.filter(([e,t])=>e===t).map(([e])=>(0,i.dy)(l||(l=_`<li>${0}</li>`),e));y.length?(0,n.showConfirmationDialog)(e,{title:t.localize("ui.dialogs.recreate_entity_ids.confirm_rename_title"),text:(0,i.dy)(d||(d=_`${0} <br><br> <ha-expansion-panel outlined> <span slot="header">${0}</span> <div style="overflow:auto"> <table style="width:100%;text-align:var(--float-start)"> <tr> <th>${0}</th> <th>${0}</th> </tr> ${0} </table> </div> </ha-expansion-panel> ${0} ${0}`),t.localize("ui.dialogs.recreate_entity_ids.confirm_rename_warning"),t.localize("ui.dialogs.recreate_entity_ids.will_rename",{count:y.length}),t.localize("ui.dialogs.recreate_entity_ids.old"),t.localize("ui.dialogs.recreate_entity_ids.new"),y,x.length?(0,i.dy)(c||(c=_`<ha-expansion-panel outlined style="margin-top:8px"> <span slot="header">${0}</span> ${0} </ha-expansion-panel>`),t.localize("ui.dialogs.recreate_entity_ids.cant_rename",{count:x.length}),x):i.Ld,f.length?(0,i.dy)(h||(h=_`<ha-expansion-panel outlined style="margin-top:8px"> <span slot="header">${0}</span> ${0} </ha-expansion-panel>`),t.localize("ui.dialogs.recreate_entity_ids.wont_change",{count:f.length}),f):i.Ld),confirmText:t.localize("ui.common.update"),dismissText:t.localize("ui.common.cancel"),destructive:!0,confirm:()=>{m.filter(([e,t])=>t&&e!==t).forEach(([a,i])=>(0,o.Nv)(t,a,{new_entity_id:i}).catch(i=>{(0,n.showAlertDialog)(e,{title:t.localize("ui.dialogs.recreate_entity_ids.update_entity_error",{entityId:a}),text:i.message})}))}}):(0,n.showAlertDialog)(e,{title:t.localize("ui.dialogs.recreate_entity_ids.confirm_no_renamable_entity_ids"),text:(0,i.dy)(p||(p=_`${0} ${0}`),x.length?(0,i.dy)(u||(u=_`<ha-expansion-panel outlined style="margin-top:8px"> <span slot="header">${0}</span> ${0} </ha-expansion-panel>`),t.localize("ui.dialogs.recreate_entity_ids.cant_rename",{count:x.length}),x):i.Ld,f.length?(0,i.dy)(v||(v=_`<ha-expansion-panel outlined style="margin-top:8px"> <span slot="header">${0}</span> ${0} </ha-expansion-panel>`),t.localize("ui.dialogs.recreate_entity_ids.wont_change",{count:f.length}),f):i.Ld)})}}}]);
//# sourceMappingURL=59975.7f6bf0c2fe923172.js.map