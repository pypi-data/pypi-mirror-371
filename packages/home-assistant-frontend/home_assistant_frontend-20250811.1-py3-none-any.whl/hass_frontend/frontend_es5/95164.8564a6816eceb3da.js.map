{"version":3,"file":"95164.8564a6816eceb3da.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250811.1/src/panels/lovelace/cards/energy/hui-energy-devices-detail-graph-card.ts"],"names":["UNIT","HuiEnergyDevicesDetailGraphCard","SubscribeMixin","LitElement","hassSubscribe","_this$_config","getEnergyDataCollection","this","hass","key","_config","collection_key","subscribe","data","_data","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","willUpdate","_processStatistics","render","html","_t","_","title","_t2","classMap","_chartData","_createOptions","_start","_end","locale","_compareStart","_compareEnd","_datasetHidden","_datasetUnhidden","nothing","ev","_hiddenStats","detail","id","filter","stat","energyData","start","end","endOfToday","startCompare","endCompare","stats","compareData","statsCompare","computedStyle","getComputedStyle","devices","prefs","device_consumption","childMap","forEach","d","included_in_stat","push","stat_consumption","growthValues","device","value","calculateStatisticSumGrowth","growthValuesExChildren","reduce","acc","child","sorted_devices","map","sort","a","b","datasets","summedData","compareSummedData","getSummedData","showUntracked","consumption","consumptionData","compareConsumption","consumptionCompareData","computeConsumptionData","undefined","processedCompareData","_processDataSet","statsMetadata","untrackedCompareData","_processUntracked","type","stack","processedData","_legendData","_d$itemStyle","name","itemStyle","color","borderColor","_untrackedData$itemSt","untrackedData","fillDataGapsAndRoundCaps","compare","totalDeviceConsumption","datapoint","compareTransform","getCompareTransform","untrackedConsumption","Object","keys","used_total","Number","time","ts","dataPoint","Date","getTime","order","now","cursor","localize","getEnergyColor","themes","darkMode","barMaxWidth","statistics","statisticsMetaData","source","idx","_this$_config2","indexOf","max_devices","console","warn","getGraphColorByIndex","prevStart","point","change","sumChildren","c","_cStats$find","cStats","find","cStat","getStatisticLabel","_getStatIdFromId","Boolean","replace","args","startOfToday","hassSubscribeRequiredHostProps","_formatTotal","total","num","formatNumber","unit","memoizeOne","compareStart","compareEnd","commonOptions","getCommonOptions","assign","legend","show","selected","grid","top","bottom","left","right","containLabel","styles","css","_t3","attribute","state"],"mappings":"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"}