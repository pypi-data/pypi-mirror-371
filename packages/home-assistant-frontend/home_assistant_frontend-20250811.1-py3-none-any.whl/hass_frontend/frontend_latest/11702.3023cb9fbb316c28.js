export const __webpack_ids__=["11702"];export const __webpack_modules__={7214:function(t,e,s){s.d(e,{Cj:()=>l,F7:()=>r,Hs:()=>x,Kd:()=>v,Kj:()=>m,Nw:()=>b,PA:()=>a,Py:()=>c,Qm:()=>I,Z0:()=>S,_Y:()=>h,_m:()=>n,dL:()=>_,dO:()=>k,hN:()=>p,h_:()=>u,j2:()=>g,q6:()=>f,uR:()=>d,yf:()=>o});s(81738),s(72489);var i=s(15459),r=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({});const a=99387==s.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,o=["L","gal","ft³","m³","CCF"],n=t=>t.sendMessagePromise({type:"recorder/info"}),d=(t,e)=>t.callWS({type:"recorder/list_statistic_ids",statistic_type:e}),c=(t,e)=>t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:e}),_=(t,e,s,i,r="hour",a,o)=>t.callWS({type:"recorder/statistics_during_period",start_time:e.toISOString(),end_time:s?.toISOString(),statistic_ids:i,period:r,units:a,types:o}),h=(t,e,s,i)=>t.callWS({type:"recorder/statistic_during_period",statistic_id:e,units:i,fixed_period:s.fixed_period?{start_time:s.fixed_period.start instanceof Date?s.fixed_period.start.toISOString():s.fixed_period.start,end_time:s.fixed_period.end instanceof Date?s.fixed_period.end.toISOString():s.fixed_period.end}:void 0,calendar:s.calendar,rolling_window:s.rolling_window}),u=t=>t.callWS({type:"recorder/validate_statistics"}),l=(t,e,s)=>t.callWS({type:"recorder/update_statistics_metadata",statistic_id:e,unit_of_measurement:s}),p=(t,e)=>t.callWS({type:"recorder/clear_statistics",statistic_ids:e}),m=t=>{let e=null;if(!t)return null;for(const s of t)null!==s.change&&void 0!==s.change&&(null===e?e=s.change:e+=s.change);return e},f=(t,e)=>{let s=null;for(const i of e){if(!(i in t))continue;const e=m(t[i]);null!==e&&(null===s?s=e:s+=e)}return s},b=(t,e)=>t.some(t=>void 0!==t[e]&&null!==t[e]),y=["mean","min","max"],C=["sum","state","change"],S=(t,e)=>!(!y.includes(e)||0===t.mean_type)||!(!C.includes(e)||!t.has_sum),g=(t,e,s,i,r)=>{const a=new Date(s).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:e,start_time:a,adjustment:i,adjustment_unit_of_measurement:r})},v=(t,e,s)=>{const r=t.states[e];return r?(0,i.C)(r):s?.name||e},k=(t,e,s)=>{let i;return e&&(i=t.states[e]?.attributes.unit_of_measurement),void 0===i?s?.statistics_unit_of_measurement:i},x=t=>t.includes(":"),I=t=>t.callWS({type:"recorder/update_statistics_issues"})},6291:function(t,e,s){s.d(e,{f:()=>a});s(81738),s(72489);var i=s(73742),r=s(26292);const a=t=>{class e extends t{connectedCallback(){super.connectedCallback(),this._checkSubscribed()}disconnectedCallback(){if(super.disconnectedCallback(),this.__unsubs){for(;this.__unsubs.length;){const t=this.__unsubs.pop();t instanceof Promise?t.then(t=>t()):t()}this.__unsubs=void 0}}updated(t){if(super.updated(t),t.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const e of t.keys())if(this.hassSubscribeRequiredHostProps.includes(e))return void this._checkSubscribed()}hassSubscribe(){return[]}_checkSubscribed(){void 0===this.__unsubs&&this.isConnected&&void 0!==this.hass&&!this.hassSubscribeRequiredHostProps?.some(t=>void 0===this[t])&&(this.__unsubs=this.hassSubscribe())}}return(0,i.__decorate)([(0,r.Cb)({attribute:!1})],e.prototype,"hass",void 0),e}},87079:function(t,e,s){s.a(t,async function(t,i){try{s.r(e),s.d(e,{HuiEnergyCompareCard:()=>m});var r=s(73742),a=s(7722),o=s(56858),n=s(59048),d=s(26292),c=s(40142),_=s(6640),h=s(6291),u=s(93647),l=(s(12942),s(39884)),p=t([c,_]);[c,_]=p.then?(await p)():p;class m extends((0,h.f)(n.oi)){getCardSize(){return 1}setConfig(t){this._config=t}hassSubscribe(){return[(0,_.UB)(this.hass,{key:this._config.collection_key}).subscribe(t=>this._update(t))]}shouldUpdate(t){return(0,u.SN)(this,t)||t.size>1||!t.has("hass")}render(){if(!this._startCompare||!this._endCompare)return n.Ld;const t=(0,a.j)(this._endCompare,this._startCompare);return n.dy` <ha-alert dismissable @alert-dismissed-clicked="${this._stopCompare}"> ${this.hass.localize("ui.panel.energy.compare.info",{start:n.dy`<b>${(0,c.p6)(this._start,this.hass.locale,this.hass.config)}${t>0?` -\n          ${(0,c.p6)(this._end||(0,o.i)(new Date),this.hass.locale,this.hass.config)}`:""}</b>`,end:n.dy`<b>${(0,c.p6)(this._startCompare,this.hass.locale,this.hass.config)}${t>0?` -\n          ${(0,c.p6)(this._endCompare,this.hass.locale,this.hass.config)}`:""}</b>`})} </ha-alert> `}_update(t){this._start=t.start,this._end=t.end,this._startCompare=t.startCompare,this._endCompare=t.endCompare;const e=this.hidden;this.hidden=!this._startCompare,e!==this.hidden&&(0,l.B)(this,"card-visibility-changed")}_stopCompare(){const t=(0,_.UB)(this.hass,{key:this._config.collection_key});t.setCompare(!1),t.refresh()}constructor(...t){super(...t),this.hidden=!0,this.connectedWhileHidden=!0,this.hassSubscribeRequiredHostProps=["_config"]}}(0,r.__decorate)([(0,d.Cb)({attribute:!1})],m.prototype,"hass",void 0),(0,r.__decorate)([(0,d.SB)()],m.prototype,"_config",void 0),(0,r.__decorate)([(0,d.SB)()],m.prototype,"_start",void 0),(0,r.__decorate)([(0,d.SB)()],m.prototype,"_end",void 0),(0,r.__decorate)([(0,d.SB)()],m.prototype,"_startCompare",void 0),(0,r.__decorate)([(0,d.SB)()],m.prototype,"_endCompare",void 0),(0,r.__decorate)([(0,d.Cb)({type:Boolean,reflect:!0})],m.prototype,"hidden",void 0),m=(0,r.__decorate)([(0,d.Mo)("hui-energy-compare-card")],m),i()}catch(t){i(t)}})}};
//# sourceMappingURL=11702.3023cb9fbb316c28.js.map