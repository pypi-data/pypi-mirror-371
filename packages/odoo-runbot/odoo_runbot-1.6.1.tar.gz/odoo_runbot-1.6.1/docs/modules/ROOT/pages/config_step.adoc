= Step - `tool.runbot.step`

Une `step` reprÃ©sente une Ã©tape du `runbot`. Elles seront jouÃ©e les unes aprÃ¨s les autres.
Plusieurs attributs de configuration sont possibles.

== Son nom

Le nom de la `step` se trouve directement dans la dÃ©claration de la section.
En thÃ©orie, tous les formats sont acceptÃ©s. Mais il ne faut pas non plus Ãªtre fantaisiste.

NOTE: Si vous voulez mettre des caractÃ¨res spÃ©ciaux ou des espaces, vous devez alors mettre des `"`.

.Nom de `step` valide
[,toml]
----
[tool.runbot.step.step1] # <1>
[tool.runbot.step."My Awsome Step"] # <1>
[tool.runbot.step."Step with ğŸ”¥"] # <1>
----

== L'action

Une `step` peut faire l'une des actions suivantes :

* Installer (`install`) un ou plusieurs modules.
* Tester (`tests`) un ou plusieurs modules.

Vous pouvez paramÃ©trer l'action via l'attribut `action` de chaque `step`.

[[default_act_by_name]]
[caption=Par convention]
[IMPORTANT]
--
Si votre `step` s'appelle `install` ou `warmup`, alors l'action sera forcÃ©ment `install`.

.pyproject.toml
[,toml]
----
[tool.runbot.step.<install | warmup>] # <1>
modules = ["sale"]

##### Equivalent Ã 
[tool.runbot.step.<install | warmup>] # <1>
modules = ["sale"]
action = "install" # <2>
----
<1> Nom utilisant la convention
<2> L'action sera alors
--

NOTE: Elles sont exÃ©cutÃ©es dans l'ordre de dÃ©claration dans le fichier `pyproject.toml`

.pyproject.toml
[,toml]
----
[tool.runbot]
modules = ["sale"]

[tool.runbot.step.step2]
name = "Step number 2"

[tool.runbot.step.step1]
name = "Step number 1"

----


.output
[,shell]
----
$ mangono-runbot diag
...blabla
                                         Steps
â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Step    â”ƒ Module â”ƒ Run tests â”ƒ Activate Coverage â”ƒ Tags to test â”ƒ Logger filter â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ step2   â”‚ sale   â”‚ TESTS     â”‚ âœ”                 â”‚              â”‚               â”‚ <1>
â”‚ step1   â”‚ sale   â”‚ TESTS     â”‚ âœ”                 â”‚              â”‚               â”‚ <2>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
----
<1> C'est bien la `step` "step2" qui sera exÃ©cutÃ©e en premiÃ¨re
<2> Puis la `step` "step1"



== Champs possibles des Ã©tapes

Dans chaque `step` vous pouvez prÃ©ciser les attributs suivants :

|===
| name | Type Toml | Par dÃ©faut

| modules | https://toml.io/en/v1.0.0#array[liste] de https://toml.io/en/v1.0.0#string[string] | *Obligatoire* ou ceux de la xref:config_global.adoc[]
| action | `"tests"` ou `"install"` | `"tests"`
| test_tags | https://toml.io/en/v1.0.0#array[liste] de https://toml.io/en/v1.0.0#string[string] | `[]`
| coverage | https://toml.io/en/v1.0.0#boolean[boolean] | `true`
| log_filters | https://toml.io/en/v1.0.0#array-of-tables[liste de Log Filter] | `[]`
|===
