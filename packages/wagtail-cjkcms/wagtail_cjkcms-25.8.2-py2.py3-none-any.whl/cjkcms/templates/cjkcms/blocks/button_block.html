{% load cjkcms_tags wagtailcore_tags %}

{% can_show_item value.visible_for as csi %}
{% if csi %}
<a href="{% if request.LANGUAGE_CODE and request.LANGUAGE_CODE|not_starts_with:'en' %}/{{ request.LANGUAGE_CODE }}{% endif %}{{ self.url }}"
    {% if settings.cjkcms.AnalyticsSettings.ga_track_button_clicks %}
        data-ga-event-category='{{self.settings.ga_tracking_event_category|default:"Button"}}'
        data-ga-event-label='{{self.settings.ga_tracking_event_label|default:self.button_title}}'
    {% endif %}
  title="{{ self.button_title|safe }}"
  class="btn {{ self.button_style }} {{ self.button_size }} {{ self.settings.custom_css_class }}"
  {% if self.settings.custom_id %}id="{{ self.settings.custom_id }}"{% endif %}>
    {% if self.button_title %}
        {{ self.button_title|safe }}
    {% else %}
        {{ self.url }}
    {% endif %}
</a>
{% endif %}